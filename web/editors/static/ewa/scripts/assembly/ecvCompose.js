/*! jQuery UI - v1.10.4 - 2014-07-11
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */

define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.10",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(
e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}d.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){
var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete
(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1
),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("europass/backbone/EWABackboneView",["module","backbone","text","underscore","Utils"],function(e,t,n,r,i){return t.EWAView=t.View.extend({initialize:function(t){if(r.isUndefined(this.template)||!r.isFunction(this.template))if(r.isString(this.htmlTemplate)){var n=e.config().locale||"en",s="hbs!templates/"+n+"/"+this.htmlTemplate,o="hbs!templates/en/"+this.htmlTemplate;i.requireResource({_requireName:s,_fallbackRequireName:o},this.initialized,this,[t])}else r.isFunction(this.htmlTemplate)?this.initialized(t,this.htmlTemplate):this.initialized("<div>Failed to load template</div>");else this.initialized(t,this.template)},initialized:function(e,t){this.template=t,this.onInit(e)},onInit
:function(e){if(!r.isUndefined(e.callback)&&r.isFunction(e.callback)){var t=e.args||[];t.push(this),e.callback.apply(e.scope,t)}}}),{}}),define("hbs!templates/main/drawer",["hbs","handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a="function",f=this.escapeExpression;return s+='<div class="window overlay visible" style="display:none">\r\n	<div class="modal" style="display:none">\r\n	\r\n		<form class="drawer main modalform"\r\n			  data-rel-section = "',(u=n.data_rel_section)?o=u.call(t,{hash:{}}):(u=t&&t.data_rel_section,o=typeof u===a?u.call(t,{hash:{}}):u),s+=f(o)+'"\r\n			  style="display:none"\r\n			  id = "',(u=n.id)?o=u.call(t,{hash:{}}):(u=t&&t.id,o=typeof u===a?u.call(t,{hash:{}}):u),s+=f(o)+'">\r\n		</form>\r\n		<div class="side" style="display:none">\r\n			<div class="help-container"></div>\r\n		</div>\r\n		\r\n		<button class="close" style="display:none">X</button>\r\n	</div>\r\n</div>',s});
return t.registerPartial("templates/main/drawer",n),n}),define("localization/nls/PersonNameOrder",{root:{order:"true"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/CLDefaultPrintingPreferences",{root:{CoverLetter:{"@type":"PrintingPreference",show:!0,name:"CoverLetter",order:"Addressee Letter.Localisation Letter.SubjectLine Letter.OpeningSalutation Letter.Body Letter.ClosingSalutation"},"CoverLetter.Justification":{"@type":"PrintingPreference",justify:!1,name:"CoverLetter.Justification"},"LearnerInfo.Identification.PersonName":{"@type":"PrintingPreference",show:!0,name:"LearnerInfo.Identification.PersonName",order:"FirstName Surname"},"LearnerInfo.Identification.ContactInfo.Address":{"@type":"PrintingPreference",show:!0,name:"LearnerInfo.Identification.ContactInfo.Address",format:"s, m, z c"},"CoverLetter.Letter.Localisation":{"@type":"PrintingPreference"
,show:!0,name:"CoverLetter.Letter.Localisation",position:"left-align",order:"Place Date"},"CoverLetter.Letter.Localisation.Date":{"@type":"PrintingPreference",show:!0,name:"CoverLetter.Letter.Localisation.Date",format:"text/short"},"CoverLetter.Addressee":{"@type":"PrintingPreference",show:!0,name:"CoverLetter.Addressee",position:"left-align"},"CoverLetter.Addressee.PersonName":{"@type":"PrintingPreference",show:!0,name:"CoverLetter.Addressee.PersonName",order:"Title FirstName Surname"},"CoverLetter.Letter.ClosingSalutation":{"@type":"PrintingPreference",show:!0,name:"CoverLetter.Letter.ClosingSalutation",position:"left-align"},"CoverLetter.Documentation":{"@type":"PrintingPreference",show:!0,name:"CoverLetter.Documentation",format:"text"}}}),define("models/PrintingPreferencesModel",["jquery","underscore","backbone","backbonenested","Utils","i18n!localization/nls/PersonNameOrder","i18n!localization/nls/DefaultDateFormat","i18n!localization/nls/CLDefaultPrintingPreferences"],function(e,t
,n,r,i,s,o,u){var a=n.NestedModel.extend({PERSONNAME_KEY:"LearnerInfo.Identification.PersonName",FIRSTNAME_BEFORE:"FirstName Surname",SURNAME_BEFORE:"Surname FirstName",defaults:{ECV:{LearnerInfo:{order:"Identification Headline WorkExperience Education Skills Achievement ReferenceTo",Identification:{PersonName:{show:!0,order:s.order==="true"?"FirstName Surname":"Surname FirstName"},Demographics:{Birthdate:{format:o.ECV}}},WorkExperience:{array:[{Period:{format:o.ECV}}]},Education:{array:[{Period:{format:o.ECV}}]}}},ELP:{LearnerInfo:{order:"Identification Skills ReferenceTo",Identification:{PersonName:{order:s.order==="true"?"FirstName Surname":"Surname FirstName"}},Skills:{Linguistic:{ForeignLanguage:{array:[{Certificate:{array:[{Date:{format:o.ELP}}]},Experience:{array:[{Period:{format:o.ELP}}]}}]}}},CEFLanguageLevelsGrid:{show:!0}}},ECL:{LearnerInfo:{Identification:{PersonName:{order:s.order==="true"?"FirstName Surname":"Surname FirstName"}}},CoverLetter:{Justification:{justify:u["CoverLetter.Justification"
].justify},order:u.CoverLetter.order,Addressee:{position:u["CoverLetter.Addressee"].position,PersonName:{show:!0,order:u["CoverLetter.Addressee.PersonName"].order}},Letter:{Localisation:{order:u["CoverLetter.Letter.Localisation"].order,position:u["CoverLetter.Letter.Localisation"].position,Date:{format:o.ECL}},ClosingSalutation:{show:u["CoverLetter.Letter.ClosingSalutation"].show}}}}},initialize:function(){this._originalAttributes=e.extend(!0,{},this.defaults),this._originalModel=new n.NestedModel(this._originalAttributes)},getDefaultsModel:function(){return this._originalModel},documents:["ECV","ELP","ECL"],loopDocuments:function(t,n,r){for(var i=0;i<this.documents.length;i++){var s=this.documents[i],o=this.get(s),u=[s,o];if(e.isArray(r)===!0)for(var a=0;a<r.length;a++)u.push(r[a]);t.apply(n,u)}},fromSchema:function(e,t){var n=this.readFromSchema(e,t);n!==!1&&this.resetToAttrs(n)},readFromSchema:function(e,t){if(e===undefined||e===null)return!1;var r=new n.NestedModel;return t===undefined||
t===null||t===""?this.loopDocuments(this.readFromSchemaPerDocument,this,[e,r]):this.readFromSchemaPerDocument(t,null,e,r),r.attributes},readFromSchemaPerDocument:function(t,n,r,s){if(i.isEmptyObject(r))return!1;var o=r[t];if(e.isArray(o)===!1)return!1;for(var u=0,a=o.length;u<a;u++){var f=o[u];this.processReadPref(t,s,f)}},processReadPref:function(e,t,n){if(n===undefined||n===null)return!1;var r=i.addPrefix(e,n.name),s=n.show,o=n.order,u=n.format,a=n.justify;if(r!=null){var f=i.toArrayTxt(r),l=t.get(f);(l===undefined||l===null)&&t.set(f,{},{silent:!0}),s&&t.set(f+".show",s,{silent:!0}),o&&t.set(f+".order",o,{silent:!0}),u&&t.set(f+".format",u,{silent:!0}),a&&t.set(f+".justify",a,{silent:!0})}},toSchema:function(e){var t={};return e===undefined||e===null||e===""?this.loopDocuments(this.toSchemaPerDocument,this):t[e]=this.toSchemaPerDocument(e)[e],t},toSchemaPerDocument:function(e){if(e===undefined||e===null||e==="")return;var t=[],n=function(r,s,o,u){var a=u;if(s!=="array"){var f=s.match
(/\d+/g);f===null?a=u+(u===""?"":".")+s:a=u+"["+f+"]"}if(r!=null){var l={name:i.removePrefix(e,a)},c=r.show,h=r.order,p=r.format,d=r.justify;c&&(l.show=c),h&&(l.order=h),p&&(l.format=p),d&&(l.justify=d),t.push(l)}i.iterateObj(r,n,this,o+1,a)};i.iterateObj(this.get(e),n,this);var r={};return r[e]=t,r},emptyDocument:function(e){var t={};return t[e]="",t},reorderArray:function(e,t,n,r){e===undefined||e===null||e===""?this.loopDocuments(this.reorderArrayPerDocument,this,[t,n,r]):this.reorderArrayPerDocument(e,null,t,n,r)},reorderArrayPerDocument:function(t,n,r,s,o){var u=i.addPrefix(t,r),n=this.get(u);e.isArray(n)&&i.arrayMove(n,s,o)},removeArrayItem:function(e,t){e===undefined||e===null||e===""?this.loopDocuments(this.removeArrayItemPerDocument,this,[t]):this.removeArrayItemPerDocument(e,null,t)},removeArrayItemPerDocument:function(e,t,n){var r=i.addPrefix(e,n);this.get(r)&&this.remove(r)},resetPreference:function(e,t){e===undefined||e===null||e===""?this.loopDocuments(this.resetPreferencePerDocument
,this,[t]):this.resetPreferencePerDocument(e,null,t)},resetPreferencePerDocument:function(e,t,n){var r=i.addPrefix(e,n),s=this.get(r),o=this._originalModel.get(i.toZeroIndexTxt(r));if(o===undefined||o===null)return!1;o.show!=null&&(s.show=o.show),o.format!=null&&(s.format=o.format),o.order!=null&&(s.order=o.order),o.justify!=null&&(s.justify=o.justify)},resetToDefaults:function(e){e===undefined||e===null||e===""?this.loopDocuments(this.resetToDefaultsPerDocument,this):this.resetToDefaultsPerDocument(e)},resetToDefaultsPerDocument:function(t){var n={};n[t]=this._originalAttributes[t];var r={};e.extend(!0,r,n),this.set(this.emptyDocument(t)),this.set(r)},resetToOther:function(e,t){t===undefined||t===null||t===""?this.loopDocuments(this.resetToOtherPerDocument,this,[e]):this.resetToOtherPerDocument(t,null,e)},resetToOtherPerDocument:function(t,n,r){var i=r.get(t);if(i===undefined||i===null)return!1;var s={};s[t]=i;var o={};e.extend(!0,o,s),this.set(this.emptyDocument(t)),this.set(o)},applyDefaultPersonNameOrder
:function(e,t,n){e===undefined||e===null||e===""?this.loopDocuments(this.applyDefaultPersonNameOrderPerDocument,this,[t,n]):this.applyDefaultPersonNameOrderPerDocument(e,null,t,n)},applyDefaultPersonNameOrderPerDocument:function(e,t,n,r){var o=i.addPrefix(e,this.PERSONNAME_KEY),u=s.order,a=null;switch(u){case"true":a=this.FIRSTNAME_BEFORE;break;case"false":a=this.SURNAME_BEFORE;break;default:a=this.FIRSTNAME_BEFORE}if(n===undefined||n===null){var f=this.get(o);n=f===undefined||f===null}n?this.addPreference(o,!0,a,null,null):!n&&r&&this.updatePreference(o,!0,a,null,null)},iterate:function(e,t,n){document===undefined||document===null||document===""?this.loopDocuments(this.iteratePerDocument,this,[e,t,n]):this.iteratePerDocument(document,null,e,t,n)},iteratePerDocument:function(e,t,n,r,i){var s=this.attributes,o=this,u=function(e,t,i,s){s&&n.apply(r,[e,t]),o.iterateRecursive(e,t,i,u,r)};this.iterateRecursive(s,"",i,u,r)},iterateRecursive:function(e,t,n,r,i){for(var s in e){if(!e.hasOwnProperty
(s))continue;var o=e[s];if(o===undefined||o===null)continue;if(typeof o=="function")continue;if(typeof o!="object")continue;var u=this.buildPrefName(t,s);n!==undefined&&n!==null?s.search(n)!==-1?r.apply(i||this,[o,u,n,!0]):r.apply(i||this,[o,u,n,!1]):r.apply(i||this,[o,u,n,!0])}},IS_ARRAY_REGEXP:new RegExp("..array$"),buildPrefName:function(e,n){var r="";return t.isString(e)&&(e===""?r=n:this.IS_ARRAY_REGEXP.test(e)===!0&&t.isNumber(parseInt(n))?r=e+"["+n+"]":r=e+"."+n),r},resetToAttrs:function(t){if(t===undefined||t===null)return!1;var n={};e.extend(!0,n,t),this.unset(),this.set(n)},updatePreference:function(e,t,n,r,i){var s=this.get(e);if(s===undefined||s===null)return!1;t!=null&&(s.show=t),n!=null&&(s.order=n),r!=null&&(s.format=r),i!=null&&(s.justify=i)},addPreference:function(e,t,n,r,s){if(!e)return!1;if(this.has(e)===!0)this.updatePreference(e,t,n,r,s);else{var o=e.match(/([\S]*)(\[(\d+)\])$/),u=o!=null;if(u){var a=o[1];if(a===undefined||a===null||a==="")return!1;if(this.has(a)===!1
){var f={};f[a]=[],this.set(f,{silently:!0})}var l={};t!=null&&(l.show=t),n!=null&&(l.order=n),r!=null&&(l.format=r),s!=null&&(l.justify=s),this.set(e,l)}else t!=null&&this.set(e,{},{silently:!0}),n!=null&&this.set(i.prepareModelAttr(e+".show",t),{silently:!0}),n!=null&&this.set(i.prepareModelAttr(e+".order",n),{silently:!0}),r!=null&&this.set(i.prepareModelAttr(e+".format",r),{silently:!0}),s!=null&&this.set(i.prepareModelAttr(e+".justify",s),{silently:!0})}},listName:function(e){return e.indexOf(".array")<0?e:e.substr(0,e.lastIndexOf(".array")+".array".length)},getActiveListItems:function(t){var n=i.appendArrayTxt(t),r=this.get(n);if(e.isArray(r)===!1)return[];var s=[];for(var o=0;o<r.length;o++){var u=r[o];u.show===!0&&s.push(u)}return s}});return a}),define("models/ModelInfoManager",["jquery","underscore","Utils"],function(e,t,n){var r=function(e){this.model=e};return r.prototype.hasPhoto=function(){var t=this.model.get(this.model.PHOTO);return t!==undefined&&t!==null&&t!==""&&e.isPlainObject
(t)},r.prototype.hasSignature=function(){var t=this.model.get(this.model.SIGNATURE);return t!==undefined&&t!==null&&t!==""&&e.isPlainObject(t)},r.prototype.hasAttachments=function(){var t=this.model.get(this.model.ATTACHMENT_SECTION);return t!==undefined&&t!==null&&e.isArray(t)&&t.length>0},r.prototype.checkDocumentContent=function(){var e=this.hasEspInfoOnly(),t=this.hasAttachments();return t&&e?"ESP":t&&!e?"ECV_ESP":"ECV"},r.prototype.readDocumentType=function(){var e=this.model.get(this.model.DOCUMENT_TYPE);return e===undefined||e===null||e===""?"ECV":e},r.prototype.isSectionEmpty=function(t){var r=e.extend({},this.model.get("SkillsPassport.LearnerInfo."+t));delete r.show,delete r.order,delete r.format,delete r.current_pref_item;var i=n.isEmptyObject(r)?!0:Object.keys(r).length==1&&"ReferenceTo"in r&&n.isEmptyObject(r.ReferenceTo)?!0:!1;return i},r.prototype.isCLSectionEmpty=function(t){var r=e.extend({},this.model.get(t));delete r.show,delete r.order,delete r.format,delete r.current_pref_item
;var i=n.isEmptyObject(r)?!0:Object.keys(r).length==1&&"ReferenceTo"in r&&n.isEmptyObject(r.ReferenceTo)?!0:!1;return i},r.prototype.isIdentificationEmpty=function(){var e=this.isSectionEmpty("Identification.PersonName")&&this.isSectionEmpty("Identification.ContactInfo")&&this.isSectionEmpty("Identification.Demographics");return e},r.prototype.espIdentification=function(){var e=this.isSectionEmpty("Identification.ContactInfo")&&this.isSectionEmpty("Identification.Demographics");return e},r.prototype.hasEspInfoOnly=function(){var e=this.espIdentification()&&!this.isSectionEmpty("ReferenceTo")&&this.isSectionEmpty("Headline")&&this.isSectionEmpty("WorkExperience")&&this.isSectionEmpty("Education")&&this.isSectionEmpty("Skills")&&this.isSectionEmpty("Achievement");return e},r.prototype.isPhotoEmpty=function(){var e=this.isSectionEmpty("Identification.Photo");return e},r.prototype.isSignatureEmpty=function(){var e=this.isSectionEmpty("Identification.Signature");return e},r.prototype.isCVEmpty=
function(){var e=this.isSectionSkillsEmpty(),r=t.isUndefined(this.model.attributes)?undefined:t.isUndefined(this.model.attributes.SkillsPassport)?undefined:t.isUndefined(this.model.attributes.SkillsPassport.LearnerInfo)?undefined:this.model.attributes.SkillsPassport.LearnerInfo.Identification,i=r!==undefined?r.Photo:undefined,s=this.isIdentificationEmpty()&&n.isEmptyObject(i!==undefined?i:null)||r===undefined,o=e&&this.isSectionEmpty("Headline")&&this.isSectionEmpty("WorkExperience")&&this.isSectionEmpty("Education")&&this.isSectionEmpty("Achievement")&&s&&!this.hasPhoto(),u=this.hasEspInfoOnly()&&s;return u||o},r.prototype.isSectionSkillsEmpty=function(){return this.isSectionEmpty("Skills.Linguistic.MotherTongue")&&this.isSectionEmpty("Skills.Linguistic.ForeignLanguage")&&this.isSectionEmpty("Skills.Communication")&&this.isSectionEmpty("Skills.Organisational")&&this.isSectionEmpty("Skills.JobRelated")&&this.isSectionEmpty("Skills.Computer")&&this.isSectionEmpty("Skills.Driving")&&this.
isSectionEmpty("Skills.Other")},r.prototype.isLPEmpty=function(){var r=this.model.get("SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"),i=!0,s=!0;if(r!==undefined&&e.isArray(r))for(var o=0;o<r.length;o++){if(t.isUndefined(r[o])||r[o]==null)break;for(var u in r[o].Certificate){var a=r[o].Certificate[u];if(t.isUndefined(a)||a==null)continue;if(!n.isEmptyObject(a.AwardingBody)||!n.isEmptyObject(a.Date)||!n.isEmptyObject(a.Level)){i=!1;break}}for(var f in r[o].Experience){var l=r[o].Experience[f];if(t.isUndefined(l)||l==null)continue;if(!n.isEmptyObject(l)){s=!1;break}}}return i&&s},r.prototype.isCLEmpty=function(){var r=e.extend({},this.model.get("SkillsPassport.CoverLetter.Letter")),i=["Localisation","SubjectLine","OpeningSalutation","Body","ClosingSalutation"];!t.isUndefined(r)&&!t.isNull(r)&&(r=n.removeEmptyKeysInObject(r,i));var s=e.extend({},this.model.get("SkillsPassport.CoverLetter.Addressee")),o=e.extend({},this.model.get("SkillsPassport.CoverLetter.Documentation"));return delete 
r.show,delete r.order,delete r.format,delete r.current_pref_item,n.isEmptyObject(r)&&n.isEmptyObject(s)&&n.isEmptyObject(o)&&this.isSignatureEmpty()},r.prototype.isESPEmpty=function(){var t=e.extend({},this.model.get("SkillsPassport.Attachment"));return n.isEmptyObject(t)},r.prototype.isEmpty=function(e){if(t.isEmpty(e))return!0;switch(e){case"ESP":return this.isESPEmpty();case"ECL":return this.isCLEmpty();case"ELP":return this.isLPEmpty();default:return this.isCVEmpty()}},r.prototype.isCompletelyEmpty=function(e){return this.isCVEmpty()&&this.isLPEmpty()&&this.isCLEmpty()&&this.isESPEmpty()},r}),define("jsonpath",[],function(){function jsonPath(obj,expr,arg){var P={resultType:arg&&arg.resultType||"VALUE",result:[],normalize:function(e){var t=[];return e.replace(/[\['](\??\(.*?\))[\]']/g,function(e,n){return"[#"+(t.push(n)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,function(e,n){return t[n]})},asPath:function(e){for(var t=
e.split(";"),n="$",r=1,i=t.length;i>r;r++)n+=/^[0-9*]+$/.test(t[r])?"["+t[r]+"]":"['"+t[r]+"']";return n},store:function(e,t){return e&&(P.result[P.result.length]="PATH"==P.resultType?P.asPath(e):t),!!e},trace:function(e,t,n){if(e){var r=e.split(";"),i=r.shift();if(r=r.join(";"),t&&t.hasOwnProperty(i))P.trace(r,t[i],n+";"+i);else if("*"===i)P.walk(i,r,t,n,function(e,t,n,r,i){P.trace(e+";"+n,r,i)});else if(".."===i)P.trace(r,t,n),P.walk(i,r,t,n,function(e,t,n,r,i){"object"==typeof r[e]&&P.trace("..;"+n,r[e],i+";"+e)});else if(/,/.test(i))for(var s=i.split(/'?,'?/),o=0,u=s.length;u>o;o++)P.trace(s[o]+";"+r,t,n);else/^\(.*?\)$/.test(i)?P.trace(P.eval(i,t,n.substr(n.lastIndexOf(";")+1))+";"+r,t,n):/^\?\(.*?\)$/.test(i)?P.walk(i,r,t,n,function(e,t,n,r,i){P.eval(t.replace(/^\?\((.*?)\)$/,"$1"),r[e],e)&&P.trace(e+";"+n,r,i)}):/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(i)&&P.slice(i,r,t,n)}else P.store(n,t)},walk:function(e,t,n,r,i){if(n instanceof Array)for(var s=0,o=n.length;o>s;s++)s in n&&i(s
,e,t,n,r);else if("object"==typeof n)for(var u in n)n.hasOwnProperty(u)&&i(u,e,t,n,r)},slice:function(e,t,n,r){if(n instanceof Array){var i=n.length,s=0,o=i,u=1;e.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(e,t,n,r){s=parseInt(t||s),o=parseInt(n||o),u=parseInt(r||u)}),s=0>s?Math.max(0,s+i):Math.min(i,s),o=0>o?Math.max(0,o+i):Math.min(i,o);for(var a=s;o>a;a+=u)P.trace(a+";"+t,n,r)}},eval:function(x,_v,_vname){try{return $&&_v&&eval(x.replace(/@/g,"_v"))}catch(e){throw new SyntaxError("jsonPath: "+e.message+": "+x.replace(/@/g,"_v").replace(/\^/g,"_a"))}}},$=obj;return expr&&obj&&("VALUE"==P.resultType||"PATH"==P.resultType)?(P.trace(P.normalize(expr).replace(/^\$;/,""),obj,"$"),P.result.length?P.result:!1):void 0}return jsonPath}),define("localization/nls/AchievementType",{root:{publications:"Publications",presentations:"Presentations",projects:"Projects",conferences:"Conferences",seminars:"Seminars",honors_awards:"Honours and awards",memberships:"Memberships",references:"References"
,citations:"Citations",courses:"Courses",certifications:"Certifications"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/PersonalDataTreatment",{root:{signature_equivalent:"/ewa/cv/compose/additional-information/achievement/authorisation/default-description"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/BusinessSector",{root:{A:"Agriculture, forestry and fishing",B:"Mining and quarrying",C:"Manufacturing",D:"Electricity, gas, steam and air conditioning supply",E:"Water supply; sewerage, waste management and remediation activities",F:"Construction ",G:"Wholesale and retail trade; repair of motor vehicles and motorcycles",H:"Transportation and storage",I:"Accommodation and food service activities",J:"Information and communication"
,K:"Financial and insurance activities",L:"Real estate activities",M:"Professional, scientific and technical activities",N:"Administrative and support service activities",O:"Public administration and defence; compulsory social security",P:"Education",Q:"Human health and social work activities",R:"Arts, entertainment and recreation",S:"Other service activities",T:"Activities of households as employers; undifferentiated goods - and services - producing activities of households for own use",U:"Activities of extraterritorial organisations and bodies"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/Country",{root:{AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AD:"Andorra",AO:"Angola",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",PS:"Autonomous Palestinian Territories",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB
:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CO:"Colombia",KM:"Comoros",CR:"Costa Rica",CI:"Côte d’Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",CD:"Democratic Republic of the Congo",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",IE:"Éire/Ireland",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",MK:"former Yugoslav Republic of Macedonia",FR:"France",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",EL:"Greece",GL:"Greenland",GD:"Grenada",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HN:"Honduras",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IL:"Israel"
,IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",XK:"Kosovo",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar/Burma",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",KP:"North Korea (Democratic People's Republic of Korea)",NB:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PL:"Poland",PT:"Portugal",QA:"Qatar",CG:"Republic of the Congo",RO:"Romania",RU:"Russia",RW:"Rwanda",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",VC:"Saint Vincent and the Grenadines ",WS:"Samoa",SM:"San Marino "
,ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",KR:"South Korea (Republic of Korea)",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syria",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste (East Timor)",TG:"Togo",TO:"Tonga",TT:"Trindidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",UK:"United Kingdom",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican city",VE:"Venezuela",VN:"Vietnam",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/EducationalField",{root:{"01":"Basic / broad general programmes","09"
:"Personal development",14:"Teacher training and education science",21:"Arts",22:"Humanities",31:"Social and behavioural science",32:"Journalism and information",34:"Business and administration",38:"Law",42:"Life sciences",44:"Physical sciences",46:"Mathematics and statistics",48:"Computing",52:"Engineering and engineering trades",54:"Manufacturing and processing",58:"Architecture and building",62:"Agriculture, forestry and fishery",64:"Veterinary",72:"Health",76:"Social services",81:"Personal services",84:"Transport services",85:"Environmental protection",86:"Security services"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/EducationalLevel",{root:{1:"EQF level 1",2:"EQF level 2",3:"EQF level 3",4:"EQF level 4",5:"EQF level 5",6:"EQF level 6",7:"EQF level 7",8:"EQF level 8"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0
,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/GenderOption",{root:{"LearnerInfo.Identification.Demographics.Gender.M":"Male","LearnerInfo.Identification.Demographics.Gender.F":"Female","LearnerInfo.Identification.Demographics.Gender.NA":"Do not indicate"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/InstantMessagingType",{root:{gtalk:"Google Hangout",skype:"Skype",icq:"ICQ",aim:"AOL Instant Messenger (AIM)",msn:"MSN",yahoo:"Yahoo! Messenger (YIM)"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/Language",{root:{ab:"Abkhazian",af:"Afrikaans",sq:"Albanian",sqk:"Albanian Sign Language",am:"Amharic",grc:"Ancient Greek",ar:"Arabic",hy:"Armenian",as:"Assamese",asq:"Austrian Sign Language"
,az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian","bos-sgn":"Bosnian Sign Language",br:"Breton",bfi:"British Sign Language",bg:"Bulgarian",bqn:"Bulgarian Sign Language",my:"Burmese",csc:"Catalan Sign Language",ca:"Catalan/Valencian",ce:"Chechen",zh:"Chinese",cu:"Church Slavonic",kw:"Cornish",co:"Corsican",hr:"Croatian",csq:"Croatian Sign Language","cy-sgn":"Cypriot Sign Language",cs:"Czech",cse:"Czech Sign Language",da:"Danish",dsl:"Danish Sign Language",nl:"Dutch",dse:"Dutch Sign Language",en:"English",eo:"Esperanto",et:"Estonian",eso:"Estonian Sign Language",fo:"Faroese",fj:"Fijian",fi:"Finnish",fse:"Finnish Sign Language",vgt:"Flemish Sign Language",fr:"French",sfb:"French Belgian Sign Language",fsl:"French Sign Language",gd:"Gaelic/Scottish Gaelic",gl:"Galician",ka:"Georgian",de:"German",gsg:"German Sign Language",el:"Greek",gss:"Greek Sign Language",gu:"Gujarati",ht:"Haitian/Haitian Creole",he:"Hebrew",hi:"Hindi",hu:"Hungarian",hsh:"Hungarian Sign Language",is
:"Icelandic",icl:"Icelandic Sign Language",id:"Indonesian",ga:"Irish",isg:"Irish Sign Language",it:"Italian",ise:"Italian Sign Language",ja:"Japanese",jv:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",kg:"Kongo/Kikongo",ko:"Korean","xk-sgn":"Kosovar Sign Language",ku:"Kurdish",lo:"Lao",la:"Latin",lv:"Latvian",lsl:"Latvian Sign Language",li:"Limburgish/Limburgian/Limburgic",ln:"Lingala",lt:"Lithuanian",lls:"Lithuanian Sign Language",lb:"Luxembourgish",mk:"Macedonian","mk-sgn":"Macedonian Sign Language",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mdl:"Maltese Sign Language",gv:"Manx",mr:"Marathi",mo:"Moldavian",mn:"Mongolian","me-sgn":"Montenegrin Sign Language",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",nsl:"Norwegian Sign Language",oc:"Occitan/Provencal",ps:"Pashto",fa:"Persian",pl:"Polish",pso:"Polish Sign Language",pt:"Portuguese",psr:"Portuguese Sign Language",pa:"Punjabi",rm:"Raeto-Romance",rom:"Romani",ro:"Romanian",rms:"Romanian Sign Language"
,ru:"Russian",se:"Sami",sc:"Sardinian",sr:"Serbian","srp-sgn":"Serbian Sign Language",sd:"Sindhi",sk:"Slovak",svk:"Slovakian Sign Language",sl:"Slovenian","slv-sgn":"Slovenian Sign Language",so:"Somali",es:"Spanish",ssp:"Spanish Sign Language",sw:"Swahili",sv:"Swedish",swl:"Swedish Sign Language",ssr:"Swiss French Sign Language",sgg:"Swiss German Sign Language",slf:"Swiss Italian Sign Language",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",tr:"Turkish",tsm:"Turkish Sign Language",tk:"Turkmen",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",vo:"Volapuk",cy:"Welsh",fy:"Western Frisian",yi:"Yiddish",yo:"Yoruba"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/MotherLanguage",{root:{ab:"Abkhazian",af:"Afrikaans",sq:"Albanian",sqk:"Albanian Sign Language",am:"Amharic",ar:"Arabic",hy:"Armenian",as:"Assamese"
,asq:"Austrian Sign Language",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian","bos-sgn":"Bosnian Sign Language",br:"Breton",bfi:"British Sign Language",bg:"Bulgarian",bqn:"Bulgarian Sign Language",my:"Burmese",csc:"Catalan Sign Language",ca:"Catalan/Valencian",ce:"Chechen",zh:"Chinese",kw:"Cornish",co:"Corsican",hr:"Croatian",csq:"Croatian Sign Language","cy-sgn":"Cypriot Sign Language",cs:"Czech",cse:"Czech Sign Language",da:"Danish",dsl:"Danish Sign Language",nl:"Dutch",dse:"Dutch Sign Language",en:"English",et:"Estonian",eso:"Estonian Sign Language",fo:"Faroese",fj:"Fijian",fi:"Finnish",fse:"Finnish Sign Language",vgt:"Flemish Sign Language",fr:"French",sfb:"French Belgian Sign Language",fsl:"French Sign Language",gd:"Gaelic/Scottish Gaelic",gl:"Galician",ka:"Georgian",de:"German",gsg:"German Sign Language",el:"Greek",gss:"Greek Sign Language",gu:"Gujarati",ht:"Haitian/Haitian Creole",he:"Hebrew",hi:"Hindi",hu:"Hungarian",hsh:"Hungarian Sign Language",is:"Icelandic"
,icl:"Icelandic Sign Language",id:"Indonesian",ga:"Irish",isg:"Irish Sign Language",it:"Italian",ise:"Italian Sign Language",ja:"Japanese",jv:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",kg:"Kongo/Kikongo",ko:"Korean","xk-sgn":"Kosovar Sign Language",ku:"Kurdish",lo:"Lao",lv:"Latvian",lsl:"Latvian Sign Language",li:"Limburgish/Limburgian/Limburgic",ln:"Lingala",lt:"Lithuanian",lls:"Lithuanian Sign Language",lb:"Luxembourgish",mk:"Macedonian","mk-sgn":"Macedonian Sign Language",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mdl:"Maltese Sign Language",gv:"Manx",mr:"Marathi",mo:"Moldavian",mn:"Mongolian","me-sgn":"Montenegrin Sign Language",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",nsl:"Norwegian Sign Language",ps:"Pashto",fa:"Persian",pl:"Polish",pso:"Polish Sign Language",pt:"Portuguese",psr:"Portuguese Sign Language",pa:"Punjabi",rm:"Raeto-Romance",rom:"Romani",ro:"Romanian",rms:"Romanian Sign Language",ru:"Russian",se:"Sami",sc:"Sardinian"
,sr:"Serbian","srp-sgn":"Serbian Sign Language",sd:"Sindhi",sk:"Slovak",svk:"Slovakian Sign Language",sl:"Slovenian","slv-sgn":"Slovenian Sign Language",so:"Somali",es:"Spanish",ssp:"Spanish Sign Language",sw:"Swahili",sv:"Swedish",swl:"Swedish Sign Language",ssr:"Swiss French Sign Language",sgg:"Swiss German Sign Language",slf:"Swiss Italian Sign Language",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",tr:"Turkish",tsm:"Turkish Sign Language",tk:"Turkmen",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",fy:"Western Frisian",yi:"Yiddish",yo:"Yoruba"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/Nationality",{root:{AF:"Afghan",AL:"Albanian",DZ:"Algerian",US:"American",AD:"Andorran",AO:"Angolan",AG:"Antiguan",AR:"Argentinian",AM:"Armenian",AU:"Australian",AT:"Austrian",AZ:"Azerbaijani",BS:"Bahamian"
,BH:"Bahraini",BD:"Bangladeshi",BB:"Barbadian",BE:"Belgian",BZ:"Belizean",BJ:"Beninese",BT:"Bhutanese",BO:"Bolivian",BA:"Bosnian-Herzegovinian",BW:"Botswanan",BR:"Brazilian",UK:"British",BN:"Bruneian ",BG:"Bulgarian",BF:"Burkinabe",MM:"Burmese (Myanmar)",BI:"Burundian",BY:"Byelorussian",KH:"Cambodian",CM:"Cameroonian",CA:"Canadian",CV:"Cape Verdean",CF:"Central African",TD:"Chadian",CL:"Chilean",CN:"Chinese",CO:"Colombian",KM:"Comorian",CD:"Congolese (Democratic Republic of the Congo)",CG:"Congolese (Republic of the Congo)",CR:"Costa Rican",HR:"Croatian",CU:"Cuban",CY:"Cypriot",CZ:"Czech",DK:"Danish",DJ:"Djiboutian",DM:"Dominican (Dominica)",DO:"Dominican (Dominican Republic)",NL:"Dutch",EC:"Ecuadorian",EG:"Egyptian",AE:"Emirati (United Arab Emirates)",GQ:"Equatoguinean (Equatorial Guinea)",ER:"Eritrean",EE:"Estonian",ET:"Ethiopian",FJ:"Fijian",FI:"Finnish",FR:"French",GA:"Gabonese",GM:"Gambian",GE:"Georgian",DE:"German",GH:"Ghanaian",EL:"Greek",GL:"Greenlandic ",GD:"Grenadian",GT:"Guatemalan"
,GN:"Guinean (Guinea)",GW:"Guinean (Republic of Guinea-Bissau)",GY:"Guyanese (Guyana)",HT:"Haitian",HN:"Honduran",HU:"Hungarian",KI:"I-kiribati",IS:"Icelandic",IN:"Indian",ID:"Indonesian",IR:"Iranian",IQ:"Iraqi",IE:"Irish",IL:"Israeli",IT:"Italian",CI:"Ivorian",JM:"Jamaican",JP:"Japanese",JO:"Jordanian",KZ:"kazakhstani",KE:"Kenyan",KN:"Kittsian",XK:"Kosovar",KW:"Kuwaiti",KG:"Kyrgyzstani",LA:"Laotian",LV:"Latvian",LB:"Lebanese",LR:"Liberian",LY:"Libyan",LI:"Liechtensteiner",LT:"Lithuanian",LU:"Luxembourgish",MG:"Malagasy",MW:"Malawian",MY:"Malaysian",MV:"Maldivian",ML:"Malian",MT:"Maltese",MH:"Marshallese",MR:"Mauritanian",MU:"Mauritian",MX:"Mexican",FM:"Micronesian",MD:"Moldovan",MC:"Monegasque",MN:"Mongolian",ME:"Montenegrin",MA:"Moroccan",LS:"Mosotho",MZ:"Mozambican",NA:"Namibian",NR:"Nauruan",NP:"Nepalese",NZ:"New Zealander",VU:"Ni-Vanuatu",NI:"Nicaraguan",NG:"Nigerian (Nigeria)",NE:"Nigerien (Niger)",NU:"Niuean",KP:"North Korean (Democratic People's Republic of Korea)",NB:"Norwegian"
,MK:"of the former Yugoslav Republic of Macedonia",TT:"of Trinidad and Tobago",OM:"Omani",PK:"Pakistani",PW:"Palauan ",PS:"Palestinian (Autonomous Palestinian Territories)",PA:"Panamanian",PG:"Papua New Guinean",PY:"Paraguayan",PE:"Peruvian",PH:"Philippine",PL:"Polish",PT:"Portuguese",QA:"Qatari",RO:"Romanian",RU:"Russian",RW:"Rwandan",LC:"Saint Lucian",VC:"Saint Vincentian",SV:"Salvadoran",SM:"Sammarinese",WS:"Samoan",ST:"Sao Tomean",SA:"Saudi Arabian",SN:"Senegalese",RS:"Serbian",SC:"Seychellois ",SL:"Sierra Leonean",SG:"Singaporean",SK:"Slovak",SI:"Slovenian",SB:"Solomon Islander",SO:"Somali",ZA:"South African",KR:"South Korean (Republic of Korea)",SS:"South Sudanese",ES:"Spanish",LK:"Sri Lankan",SD:"Sudanese",SR:"Surinamese",SZ:"Swazi",SE:"Swedish",CH:"Swiss",SY:"Syrian",TJ:"Tajik",TZ:"Tanzanian",TH:"Thai",TL:"Timorese",TG:"Togolese",TO:"Tongan",TN:"Tunisian",TR:"Turkish",TM:"Turkmen",TV:"Tuvaluan",UG:"Ugandan ",UA:"Ukrainian",UY:"Uruguayan",UZ:"Uzbek",VA:"Vatican",VE:"Venezuelan",VN
:"Vietnamese",YE:"Yemeni",ZM:"Zambian",ZW:"Zimbabwean"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/OccupationalField",{root:{11100:{M:"Legislator",F:"Legislator"},11200:{M:"Senior government official",F:"Senior government official"},11410:{M:"Senior official of political-party organisation",F:"Senior official of political-party organisation"},11420:{M:"Senior official of employers' economic-interest organisation",F:"Senior official of employers' economic-interest organisation"},11421:{M:"Senior official of workers' and other economic-interest organisation",F:"Senior official of workers' and other economic-interest organisation"},11430:{M:"Senior official of humanitarian organisation",F:"Senior official of humanitarian organisation"},11431:{M:"Director and chief executive",F:"Director and chief executive"},12210:{M:"Production and operations department manager in agriculture"
,F:"Production and operations department manager in agriculture"},12211:{M:"Production and operations department manager in hunting",F:"Production and operations department manager in hunting"},12212:{M:"Production and operations department manager in forestry",F:"Production and operations department manager in forestry"},12213:{M:"Production and operations department manager in fishing",F:"Production and operations department manager in fishing"},12214:{M:"Production and operations department manager in manufacturing",F:"Production and operations department manager in manufacturing"},12215:{M:"Production and operations department manager in construction",F:"Production and operations department manager in construction"},12240:{M:"Production and operations department manager in wholesale trade",F:"Production and operations department manager in wholesale trade"},12241:{M:"Production and operations department manager in retail trade",F:"Production and operations department manager in retail trade"
},12250:{M:"Production and operations department manager in restaurants",F:"Production and operations department manager in restaurants"},12251:{M:"Production and operations department manager in hotels",F:"Production and operations department manager in hotels"},12260:{M:"Production and operations department manager in transport",F:"Production and operations department manager in transport"},12261:{M:"Production and operations department manager in storage",F:"Production and operations department manager in storage"},12262:{M:"Production and operations department manager in communications",F:"Production and operations department manager in communications"},12263:{M:"Production and operations department manager in business services",F:"Production and operations department manager in business services"},12280:{M:"Production and operations department manager in personal care services",F:"Production and operations department manager in personal care services"},12281:{M:"Production and operations department manager in cleaning services"
,F:"Production and operations department manager in cleaning services"},12290:{M:"Production and operations department manager",F:"Production and operations department manager"},12310:{M:"Finance department manager",F:"Finance department manager"},12311:{M:"Administration department manager",F:"Administration department manager"},12320:{M:"Personnel department manager",F:"Personnel department manager"},12321:{M:"Industrial relations department manager",F:"Industrial relations department manager"},12330:{M:"Sales and marketing department manager",F:"Sales and marketing department manager"},12331:{M:"Sales department manager",F:"Sales department manager"},12332:{M:"Marketing department manager",F:"Marketing department manager"},12340:{M:"Advertising and public relations department manager",F:"Advertising and public relations department manager"},12341:{M:"Advertising department manager",F:"Advertising department manager"},12342:{M:"Public relations department manager",F:"Public relations department manager"
},12350:{M:"Supply and distribution department manager",F:"Supply and distribution department manager"},12351:{M:"Supply department manager",F:"Supply department manager"},12352:{M:"Distribution department manager",F:"Distribution department manager"},12360:{M:"Computing services department manager",F:"Computing services department manager"},12370:{M:"Research and development department manager",F:"Research and development department manager"},12390:{M:"Department manager",F:"Department manager"},13110:{M:"General manager in agriculture",F:"General manager in agriculture"},13111:{M:"General manager in hunting",F:"General manager in hunting"},13112:{M:"General manager in forestry",F:"General manager in forestry"},13113:{M:"General manager in fishing",F:"General manager in fishing"},13120:{M:"General manager in manufacturing",F:"General manager in manufacturing"},13130:{M:"General manager in construction",F:"General manager in construction"},13140:{M:"General manager in wholesale trade",F
:"General manager in wholesale trade"},13141:{M:"General manager in retail trade",F:"General manager in retail trade"},13150:{M:"General managers of restaurants and hotels",F:"General managers of restaurants and hotels"},13151:{M:"General manager of restaurant",F:"General manager of restaurant"},13152:{M:"General manager of hotel",F:"General manager of hotel"},13160:{M:"General manager in transport",F:"General manager in transport"},13161:{M:"General manager in storage and communications",F:"General manager in storage and communications"},13162:{M:"General manager in communications",F:"General manager in communications"},13170:{M:"General manager of business services",F:"General manager of business services"},13180:{M:"General manager in personal care services",F:"General manager in personal care services"},13181:{M:"General manager in cleaning services",F:"General manager in cleaning services"},13190:{M:"General manager",F:"General manager"},21110:{M:"Physicist",F:"Physicist"},21111:{M
:"Astronomer",F:"Astronomer"},21120:{M:"Meteorologist",F:"Meteorologist"},21130:{M:"Chemist",F:"Chemist"},21140:{M:"Geologist",F:"Geologist"},21141:{M:"Geophysicist",F:"Geophysicist"},21210:{M:"Mathematician",F:"Mathematician"},21220:{M:"Statistician",F:"Statistician"},21310:{M:"Computer systems designer and analyst",F:"Computer systems designer and analyst"},21311:{M:"Computer systems designer",F:"Computer systems designer"},21312:{M:"Computer systems analyst",F:"Computer systems analyst"},21320:{M:"Computer programmer",F:"Computer programmer"},21390:{M:"Computing professional",F:"Computing professional"},21410:{M:"Architect",F:"Architect"},21411:{M:"Town planner",F:"Town planner"},21412:{M:"Traffic planner",F:"Traffic planner"},21420:{M:"Civil engineer",F:"Civil engineer"},21430:{M:"Electrical engineer",F:"Electrical engineer"},21440:{M:"Electronics engineer",F:"Electronics engineer"},21441:{M:"Telecommunications engineer",F:"Telecommunications engineer"},21450:{M:"Mechanical engineer"
,F:"Mechanical engineer"},21460:{M:"Chemical engineer",F:"Chemical engineer"},21470:{M:"Mining engineer",F:"Mining engineer"},21471:{M:"Metallurgist engineer",F:"Metallurgist engineer"},21480:{M:"Cartographer",F:"Cartographer"},21481:{M:"Surveyor",F:"Surveyor"},21491:{M:"Engineer",F:"Engineer"},22110:{M:"Biologist",F:"Biologist"},22111:{M:"Botanist",F:"Botanist"},22112:{M:"Zoologist",F:"Zoologist"},22120:{M:"Pharmacologist",F:"Pharmacologist"},22121:{M:"Pathologist",F:"Pathologist"},22130:{M:"Agronomist",F:"Agronomist"},22210:{M:"Medical doctor",F:"Medical doctor"},22220:{M:"Dentist",F:"Dentist"},22230:{M:"Veterinarian",F:"Veterinarian"},22240:{M:"Pharmacist",F:"Pharmacist"},22300:{M:"Nursing professional",F:"Nursing professional"},22301:{M:"Midwifery professional",F:"Midwifery professional"},23100:{M:"College / university teaching professional",F:"College / university teaching professional"},23101:{M:"Higher education teaching professional",F:"Higher education teaching professional"},23200
:{M:"Secondary education teaching professional",F:"Secondary education teaching professional"},23310:{M:"Primary education teaching professional",F:"Primary education teaching professional"},23320:{M:"Pre-primary education teaching professional",F:"Pre-primary education teaching professional"},23400:{M:"Special education teaching professional",F:"Special education teaching professional"},23510:{M:"Education methods specialist",F:"Education methods specialist"},23520:{M:"School inspector",F:"School inspector"},23590:{M:"Teaching professional",F:"Teaching professional"},24110:{M:"Accountant",F:"Accountant"},24120:{M:"Personnel professional",F:"Personnel professional"},24121:{M:"Careers professional",F:"Careers professional"},24190:{M:"Business professional",F:"Business professional"},24210:{M:"Lawyer",F:"Lawyer"},24220:{M:"Judge",F:"Judge"},24290:{M:"Legal professional",F:"Legal professional"},24310:{M:"Archivist",F:"Archivist"},24311:{M:"Curator",F:"Curator"},24320:{M:"Librarian",F:"Librarian"
},24321:{M:"Documentalist",F:"Documentalist"},24410:{M:"Economist",F:"Economist"},24420:{M:"Sociologist",F:"Sociologist"},24421:{M:"Anthropologist",F:"Anthropologist"},24430:{M:"Philosopher",F:"Philosopher"},24431:{M:"Historian",F:"Historian"},24432:{M:"Political scientist",F:"Political scientist"},24440:{M:"Philologist",F:"Philologist"},24441:{M:"Translator",F:"Translator"},24442:{M:"Interpreter",F:"Interpreter"},24450:{M:"Psychologist",F:"Psychologist"},24460:{M:"Social work professional",F:"Social work professional"},24510:{M:"Author",F:"Author"},24511:{M:"Journalist",F:"Journalist"},24512:{M:"Writer",F:"Writer"},24520:{M:"Sculptor",F:"Sculptor"},24521:{M:"Painter",F:"Painter"},24530:{M:"Composer",F:"Composer"},24531:{M:"Musician",F:"Musician"},24532:{M:"Singer",F:"Singer"},24540:{M:"Choreographer",F:"Choreographer"},24541:{M:"Dancer",F:"Dancer"},24550:{M:"Film director",F:"Film director"},24551:{M:"Stage director",F:"Stage director"},24552:{M:"Actor",F:"Actor"},24600:{M:"Religious professional"
,F:"Religious professional"},31110:{M:"Chemical science technician",F:"Chemical science technician"},31111:{M:"Physical science technician",F:"Physical science technician"},31120:{M:"Civil engineering technician",F:"Civil engineering technician"},31130:{M:"Electrical engineering technician",F:"Electrical engineering technician"},31140:{M:"Electronics engineering technician",F:"Electronics engineering technician"},31141:{M:"Telecommunications engineering technician",F:"Telecommunications engineering technician"},31150:{M:"Mechanical engineering technician",F:"Mechanical engineering technician"},31160:{M:"Chemical engineering technician",F:"Chemical engineering technician"},31170:{M:"Mining technician",F:"Mining technician"},31171:{M:"Metallurgical technician",F:"Metallurgical technician"},31180:{M:"Draughtsperson",F:"Draughtsperson"},31190:{M:"Physical science technician",F:"Physical science technician"},31191:{M:"Engineering science technician",F:"Engineering science technician"},31210:
{M:"Computer assistant",F:"Computer assistant"},31220:{M:"Computer equipment operator",F:"Computer equipment operator"},31230:{M:"Industrial robot controller",F:"Industrial robot controller"},31310:{M:"Photographer",F:"Photographer"},31311:{M:"Image recording equipment operator",F:"Image recording equipment operator"},31312:{M:"Sound recording equipment operator",F:"Sound recording equipment operator"},31320:{M:"Broadcasting equipment operator",F:"Broadcasting equipment operator"},31321:{M:"Telecommunications equipment operator",F:"Telecommunications equipment operator"},31330:{M:"Medical equipment operator",F:"Medical equipment operator"},31390:{M:"Optical equipment operator",F:"Optical equipment operator"},31391:{M:"Electronic equipment operator",F:"Electronic equipment operator"},31410:{M:"Ships' engineer",F:"Ships' engineer"},31420:{M:"Ships' deck officer",F:"Ships' deck officer"},31421:{M:"Pilot",F:"Pilot"},31430:{M:"Aircraft pilot",F:"Aircraft pilot"},31440:{M:"Air traffic controller"
,F:"Air traffic controller"},31450:{M:"Air traffic safety technician",F:"Air traffic safety technician"},31510:{M:"Building inspector",F:"Building inspector"},31511:{M:"Fire inspector",F:"Fire inspector"},31520:{M:"Health and safety inspector",F:"Health and safety inspector"},31521:{M:"Quality inspector",F:"Quality inspector"},32110:{M:"Life science technician",F:"Life science technician"},32120:{M:"Agronomy technician",F:"Agronomy technician"},32121:{M:"Forestry technician",F:"Forestry technician"},32130:{M:"Farming adviser",F:"Farming adviser"},32131:{M:"Forestry adviser",F:"Forestry adviser"},32210:{M:"Medical assistant",F:"Medical assistant"},32220:{M:"Sanitarian",F:"Sanitarian"},32230:{M:"Dietician",F:"Dietician"},32231:{M:"Nutritionist",F:"Nutritionist"},32240:{M:"Optometrist",F:"Optometrist"},32241:{M:"Optician",F:"Optician"},32251:{M:"Dental assistant",F:"Dental assistant"},32260:{M:"Physiotherapist",F:"Physiotherapist"},32270:{M:"Veterinary assistant",F:"Veterinary assistant"},32280
:{M:"Pharmaceutical assistant",F:"Pharmaceutical assistant"},32310:{M:"Nurse",F:"Nurse"},32320:{M:"Male midwife",F:"Midwife"},32410:{M:"Traditional medicine practitioner",F:"Traditional medicine practitioner"},32420:{M:"Faith healer",F:"Faith healer"},33100:{M:"Primary education teaching associate professional",F:"Primary education teaching associate professional"},33200:{M:"Pre-primary education teaching associate professional",F:"Pre-primary education teaching associate professional"},33300:{M:"Special education teaching associate professional",F:"Special education teaching associate professional"},33400:{M:"Teaching associate professional",F:"Teaching associate professional"},34110:{M:"Securities and finance dealer",F:"Securities and finance dealer"},34111:{M:"Broker",F:"Broker"},34120:{M:"Insurance representative",F:"Insurance representative"},34130:{M:"Estate agent",F:"Estate agent"},34140:{M:"Travel consultant",F:"Travel consultant"},34141:{M:"Travel organiser",F:"Travel organiser"
},34150:{M:"Technical salesperson",F:"Technical salesperson"},34151:{M:"Sales representative",F:"Sales representative"},34160:{M:"Buyer",F:"Buyer"},34170:{M:"Appraiser / Valuer",F:"Appraiser / Valuer"},34172:{M:"Auctioneer",F:"Auctioneer"},34190:{M:"Finance and sales associate professional",F:"Finance and sales associate professional"},34210:{M:"Trade broker",F:"Trade broker"},34220:{M:"Clearing and forwarding agent",F:"Clearing and forwarding agent"},34230:{M:"Employment agents and labour contractors",F:"Employment agents and labour contractors"},34290:{M:"Business services agent",F:"Business services agent"},34310:{M:"Administrative secretary",F:"Administrative secretary"},34311:{M:"Administrative associate professional",F:"Administrative associate professional"},34320:{M:"Legal associate professional",F:"Legal associate professional"},34330:{M:"Bookkeeper",F:"Bookkeeper"},34340:{M:"Statistical associate professional",F:"Statistical associate professional"},34341:{M:"Mathematical and related associate professional"
,F:"Mathematical and related associate professional"},34410:{M:"Customs inspector",F:"Customs inspector"},34420:{M:"Government tax and excise official",F:"Government tax and excise official"},34430:{M:"Government social benefits official",F:"Government social benefits official"},34440:{M:"Government licensing official",F:"Government licensing official"},34500:{M:"Police inspector",F:"Police inspector"},34501:{M:"Detective",F:"Detective"},34600:{M:"Social work associate professional",F:"Social work associate professional"},34710:{M:"Decorator",F:"Decorator"},34711:{M:"Commercial designer",F:"Commercial designer"},34720:{M:"Radio / TV presenter",F:"Radio / TV presenter"},34730:{M:"Street / night club musician",F:"Street / night club musician"},34731:{M:"Street /night club singer",F:"Street /night club singer"},34732:{M:"Street / night club dancer",F:"Street / night club dancer"},34740:{M:"Clown",F:"Clown"},34741:{M:"Magician",F:"Magician"},34742:{M:"Acrobat",F:"Acrobat"},34750:{M:"Athlete"
,F:"Athlete"},34800:{M:"Religious associate professional",F:"Religious associate professional"},41110:{M:"Stenographer and typist",F:"Stenographer and typist"},41120:{M:"Word-processor operator",F:"Word-processor operator"},41130:{M:"Data entry operator",F:"Data entry operator"},41140:{M:"Calculating-machine operator",F:"Calculating-machine operator"},41150:{M:"Secretary",F:"Secretary"},41210:{M:"Accounting and bookkeeping clerk",F:"Accounting and bookkeeping clerk"},41220:{M:"Statistical and finance clerk",F:"Statistical and finance clerk"},41310:{M:"Stock clerk",F:"Stock clerk"},41320:{M:"Production clerk",F:"Production clerk"},41330:{M:"Transport clerk",F:"Transport clerk"},41410:{M:"Library clerk",F:"Library clerk"},41411:{M:"Filing clerk",F:"Filing clerk"},41420:{M:"Mail carriers and sorting clerk",F:"Mail carriers and sorting clerk"},41430:{M:"Coding clerk",F:"Coding clerk"},41431:{M:"Proof-reading clerk",F:"Proof-reading clerk"},41440:{M:"Scribe",F:"Scribe"},41900:{M:"Office clerk"
,F:"Office clerk"},42110:{M:"Cashier",F:"Cashier"},42111:{M:"Ticket clerk",F:"Ticket clerk"},42120:{M:"Teller",F:"Teller"},42121:{M:"Counter clerk",F:"Counter clerk"},42130:{M:"Bookmaker",F:"Bookmaker"},42131:{M:"Croupier",F:"Croupier"},42140:{M:"Pawnbroker",F:"Pawnbroker"},42141:{M:"Money-lender",F:"Money-lender"},42150:{M:"Debt-collector",F:"Debt-collector"},42210:{M:"Travel agency clerk",F:"Travel agency clerk"},42220:{M:"Receptionist",F:"Receptionist"},42221:{M:"Information clerk",F:"Information clerk"},42230:{M:"Telephone switchboard operator",F:"Telephone switchboard operator"},51110:{M:"Travel attendant",F:"Travel attendant"},51111:{M:"Travel steward",F:"Travel steward"},51120:{M:"Transport conductor",F:"Transport conductor"},51130:{M:"Travel guide",F:"Travel guide"},51210:{M:"Housekeeping supervisor",F:"Housekeeping supervisor"},51220:{M:"Cook",F:"Cook"},51230:{M:"Waiter",F:"Waiter"},51231:{M:"Bartender",F:"Bartender"},51310:{M:"Child-care worker",F:"Child-care worker"},51320:{M
:"Institution-based personal care worker",F:"Institution-based personal care worker"},51330:{M:"Home-based personal care worker",F:"Home-based personal care worker"},51410:{M:"Hairdresser",F:"Hairdresser"},51411:{M:"Barber",F:"Barber"},51412:{M:"Beautician",F:"Beautician"},51420:{M:"Companion",F:"Companion"},51421:{M:"Valet",F:"Valet"},51430:{M:"Undertaker",F:"Undertaker"},51431:{M:"Embalmer",F:"Embalmer"},51510:{M:"Astrologer",F:"Astrologer"},51520:{M:"Fortune-teller",F:"Fortune-teller"},51521:{M:"Palmist",F:"Palmist"},51610:{M:"Fire-fighter",F:"Fire-fighter"},51620:{M:"Police officer",F:"Police officer"},51630:{M:"Prison guard",F:"Prison guard"},51690:{M:"Protective services worker",F:"Protective services worker"},52100:{M:"Fashion model",F:"Fashion model"},52101:{M:"Model",F:"Model"},52200:{M:"Shop salesperson",F:"Shop salesperson"},52201:{M:"Shop demonstrator",F:"Shop demonstrator"},52300:{M:"Stall salesperson",F:"Stall salesperson"},52301:{M:"Market salesperson",F:"Market salesperson"
},61110:{M:"Field crop and vegetable grower",F:"Field crop and vegetable grower"},61120:{M:"Tree and shrub crop grower",F:"Tree and shrub crop grower"},61130:{M:"Gardener, horticultural and nursery grower",F:"Gardener, horticultural and nursery grower"},61140:{M:"Mixed-crop grower",F:"Mixed-crop grower"},61210:{M:"Dairy producer",F:"Dairy producer"},61211:{M:"Livestock producer",F:"Livestock producer"},61220:{M:"Poultry producer",F:"Poultry producer"},61230:{M:"Apiarist",F:"Apiarist"},61232:{M:"Sericulturist",F:"Sericulturist"},61240:{M:"Mixed-animal producer",F:"Mixed-animal producer"},61300:{M:"Market-oriented crop producer",F:"Market-oriented crop producer"},61301:{M:"Market-oriented animal producer",F:"Market-oriented animal producer"},61410:{M:"Forestry worker",F:"Forestry worker"},61411:{M:"Forestry logger",F:"Forestry logger"},61420:{M:"Charcoal burner",F:"Charcoal burner"},61510:{M:"Aquatic-life cultivation worker",F:"Aquatic-life cultivation worker"},61520:{M:"Inland waters fishery worker"
,F:"Inland waters fishery worker"},61521:{M:"Coastal waters fishery worker",F:"Coastal waters fishery worker"},61530:{M:"Deep-sea fishery worker",F:"Deep-sea fishery worker"},61540:{M:"Hunter",F:"Hunter"},61541:{M:"Trapper",F:"Trapper"},62100:{M:"Subsistence agricultural and fishery worker",F:"Subsistence agricultural and fishery worker"},71110:{M:"Miner",F:"Miner"},71111:{M:"Quarry worker",F:"Quarry worker"},71120:{M:"Shotfirer and blaster",F:"Shotfirer and blaster"},71130:{M:"Stone splitter",F:"Stone splitter"},71131:{M:"Stone cutter",F:"Stone cutter"},71132:{M:"Stone carver",F:"Stone carver"},71210:{M:"Builder (traditional materials)",F:"Builder (traditional materials)"},71220:{M:"Bricklayer / stonemason",F:"Bricklayer / stonemason"},71230:{M:"Concrete placer",F:"Concrete placer"},71231:{M:"Concrete finisher",F:"Concrete finisher"},71240:{M:"Carpenter",F:"Carpenter"},71241:{M:"Joiner",F:"Joiner"},71290:{M:"Building frame worker",F:"Building frame worker"},71310:{M:"Roofer",F:"Roofer"
},71320:{M:"Floor layer",F:"Floor layer"},71321:{M:"Tile setter",F:"Tile setter"},71330:{M:"Plasterer",F:"Plasterer"},71340:{M:"Insulation worker",F:"Insulation worker"},71350:{M:"Glazier",F:"Glazier"},71360:{M:"Plumber",F:"Plumber"},71361:{M:"Pipe fitter",F:"Pipe fitter"},71370:{M:"Building electrician",F:"Building electrician"},71410:{M:"Painter",F:"Painter"},71411:{M:"Wallpaper fitter",F:"Wallpaper fitter"},71420:{M:"Laqueur vernisseur",F:"Laqueur vernisseur"},71430:{M:"Building structure cleaner",F:"Building structure cleaner"},71431:{M:"Chimney sweep",F:"Chimney sweep"},72110:{M:"Metal moulder",F:"Metal moulder"},72111:{M:"Coremaker",F:"Coremaker"},72120:{M:"Welder",F:"Welder"},72121:{M:"Flamecutter",F:"Flamecutter"},72130:{M:"Sheet metal worker",F:"Sheet metal worker"},72140:{M:"Structural-metal preparer",F:"Structural-metal preparer"},72141:{M:"Structural-metal erector",F:"Structural-metal erector"},72150:{M:"Rigger",F:"Rigger"},72151:{M:"Cable splicer",F:"Cable splicer"},72160:{
M:"Underwater worker",F:"Underwater worker"},72210:{M:"Blacksmith",F:"Blacksmith"},72211:{M:"Hammer-smith",F:"Hammer-smith"},72212:{M:"Forging-press worker",F:"Forging-press worker"},72220:{M:"Tool-maker and related worker",F:"Tool-maker and related worker"},72230:{M:"Machine-tool setter",F:"Machine-tool setter"},72231:{M:"Setter-operator",F:"Setter-operator"},72240:{M:"Metal wheel-grinder",F:"Metal wheel-grinder"},72241:{M:"Polisher",F:"Polisher"},72242:{M:"Tool sharpener",F:"Tool sharpener"},72310:{M:"Motor vehicle mechanic and fitter",F:"Motor vehicle mechanic and fitter"},72320:{M:"Aircraft engine mechanic and fitter",F:"Aircraft engine mechanic and fitter"},72330:{M:"Agricultural-machinery mechanic and fitter",F:"Agricultural-machinery mechanic and fitter"},72331:{M:"Industrial-machinery mechanic and fitter",F:"Industrial-machinery mechanic and fitter"},72410:{M:"Mecanicienne ajusteuse de machines industrielles",F:"Mecanicienne ajusteuse de machines industrielles"},72420:{M:"Electronics fitter"
,F:"Electronics fitter"},72430:{M:"Electronics mechanic and servicer",F:"Electronics mechanic and servicer"},72440:{M:"Telegraph and telephone installer and servicer",F:"Telegraph and telephone installer and servicer"},72441:{M:"Telegraph and telephone installer",F:"Telegraph and telephone installer"},72442:{M:"Telegraph and telephone servicer",F:"Telegraph and telephone servicer"},72450:{M:"Electrical line installer, repairer",F:"Electrical line installer, repairer"},72451:{M:"Cable jointer",F:"Cable jointer"},73110:{M:"Precision-instrument maker and repairer",F:"Precision-instrument maker and repairer"},73120:{M:"Musical instrument maker",F:"Musical instrument maker"},73121:{M:"Musical instrument tuner",F:"Musical instrument tuner"},73130:{M:"Jeweller",F:"Jeweller"},73131:{M:"Silversmith / Goldsmith",F:"Silversmith / Goldsmith"},73210:{M:"Abrasive wheel former",F:"Abrasive wheel former"},73211:{M:"Potter",F:"Potter"},73220:{M:"Glass maker",F:"Glass maker"},73221:{M:"Glass cutter",F:"Glass cutter"
},73222:{M:"Glass grinder",F:"Glass grinder"},73223:{M:"Glass finisher",F:"Glass finisher"},73230:{M:"Glass engraver and etcher",F:"Glass engraver and etcher"},73240:{M:"Decorative painter on glass and ceramics",F:"Decorative painter on glass and ceramics"},73310:{M:"Handicraft worker in wood and related materials",F:"Handicraft worker in wood and related materials"},73320:{M:"Handicraft worker in textile",F:"Handicraft worker in textile"},73321:{M:"Handicraft worker in leather",F:"Handicraft worker in leather"},73410:{M:"Compositor, typesetter",F:"Compositor, typesetter"},73420:{M:"Stereotyper",F:"Stereotyper"},73421:{M:"Electrotyper",F:"Electrotyper"},73430:{M:"Printing engraver",F:"Printing engraver"},73431:{M:"Etcher",F:"Etcher"},73440:{M:"Photographic worker",F:"Photographic worker"},73450:{M:"Bookbinder",F:"Bookbinder"},73460:{M:"Silk-screen, block and textile printer",F:"Silk-screen, block and textile printer"},74110:{M:"Butcher",F:"Butcher"},74111:{M:"Fishmonger",F:"Fishmonger"}
,74112:{M:"Caterer",F:"Caterer"},74120:{M:"Baker",F:"Baker"},74121:{M:"Pastry-cook",F:"Pastry-cook"},74122:{M:"Confectionery maker",F:"Confectionery maker"},74130:{M:"Dairy-products maker",F:"Dairy-products maker"},74140:{M:"Fruit, vegetable and related preserver",F:"Fruit, vegetable and related preserver"},74150:{M:"Food and beverage taster and grader",F:"Food and beverage taster and grader"},74160:{M:"Tobacco preparer and tobacco products maker",F:"Tobacco preparer and tobacco products maker"},74210:{M:"Wood treater",F:"Wood treater"},74220:{M:"Cabinet maker",F:"Cabinet maker"},74230:{M:"Woodworking machine setter",F:"Woodworking machine setter"},74231:{M:"Woodworking machine setter-operator",F:"Woodworking machine setter-operator"},74240:{M:"Basketry weaver",F:"Basketry weaver"},74241:{M:"Brush maker",F:"Brush maker"},74242:{M:"Fibre preparer",F:"Fibre preparer"},74320:{M:"Weaver",F:"Weaver"},74321:{M:"Knitter",F:"Knitter"},74330:{M:"Tailor",F:"Tailor"},74331:{M:"Dressmaker",F:"Dressmaker"
},74332:{M:"Hatter",F:"Hatter"},74340:{M:"Furrier",F:"Furrier"},74350:{M:"Textile and leather pattern-maker",F:"Textile and leather pattern-maker"},74351:{M:"Textile and leather cutter",F:"Textile and leather cutter"},74360:{M:"Sewer",F:"Sewer"},74361:{M:"Embroiderer",F:"Embroiderer"},74370:{M:"Upholsterers",F:"Upholsterers"},74410:{M:"Pelt dresser",F:"Pelt dresser"},74411:{M:"Tanner",F:"Tanner"},74412:{M:"Fellmonger",F:"Fellmonger"},74420:{M:"Shoe-maker",F:"Shoe-maker"},81110:{M:"Mining-plant operator",F:"Mining-plant operator"},81120:{M:"Mineral-ore- and stone-processing-plant operator",F:"Mineral-ore- and stone-processing-plant operator"},81130:{M:"Well driller and borer",F:"Well driller and borer"},81210:{M:"Ore furnace operator",F:"Ore furnace operator"},81211:{M:"Metal furnace operator",F:"Metal furnace operator"},81220:{M:"Metal melter",F:"Metal melter"},81221:{M:"Caster",F:"Caster"},81222:{M:"Rolling-mill operator",F:"Rolling-mill operator"},81230:{M:"Metal-heat-treating-plant operator"
,F:"Metal-heat-treating-plant operator"},81240:{M:"Metal drawer",F:"Metal drawer"},81241:{M:"Metal extruder",F:"Metal extruder"},81310:{M:"Glass and ceramics kiln machine operator",F:"Glass and ceramics kiln machine operator"},81390:{M:"Glass, ceramics and related plant operator",F:"Glass, ceramics and related plant operator"},81410:{M:"Wood-processing-plant operator",F:"Wood-processing-plant operator"},81420:{M:"Paper-pulp plant operator",F:"Paper-pulp plant operator"},81430:{M:"Papermaking-plant operator",F:"Papermaking-plant operator"},81510:{M:"Crushing-, grinding machinery operator",F:"Crushing-, grinding machinery operator"},81511:{M:"Chemical-mixing-machinery operator",F:"Chemical-mixing-machinery operator"},81520:{M:"Chemical-heat-treating-plant operator",F:"Chemical-heat-treating-plant operator"},81530:{M:"Chemical-filtering- and separating-equipment operator",F:"Chemical-filtering- and separating-equipment operator"},81540:{M:"Chemical-still operator",F:"Chemical-still operator"
},81541:{M:"Chemical reactor operator",F:"Chemical reactor operator"},81550:{M:"Petroleum-refining-plant operator",F:"Petroleum-refining-plant operator"},81551:{M:"Natural-gas-refining-plant operator",F:"Natural-gas-refining-plant operator"},81590:{M:"Chemical-processing-plant operator",F:"Chemical-processing-plant operator"},81610:{M:"Power-production plant operator",F:"Power-production plant operator"},81620:{M:"Steam-engine and boiler operator",F:"Steam-engine and boiler operator"},81630:{M:"Incinerator operator",F:"Incinerator operator"},81631:{M:"Water-treatment plant operator",F:"Water-treatment plant operator"},81710:{M:"Automated-assembly-line operator",F:"Automated-assembly-line operator"},81720:{M:"Industrial-robot operator",F:"Industrial-robot operator"},82110:{M:"Machine-tool operator",F:"Machine-tool operator"},82120:{M:"Cement machine operator",F:"Cement machine operator"},82121:{M:"Mineral products machine operator",F:"Mineral products machine operator"},82210:{M:"Pharmaceutical products machine operator"
,F:"Pharmaceutical products machine operator"},82211:{M:"Toiletry products machine operator",F:"Toiletry products machine operator"},82220:{M:"Ammunition-machine operator",F:"Ammunition-machine operator"},82221:{M:"Explosive-products machine operator",F:"Explosive-products machine operator"},82240:{M:"Photographic-products machine operator",F:"Photographic-products machine operator"},82290:{M:"Chemical-products machine operator",F:"Chemical-products machine operator"},82310:{M:"Rubber-products machine operator",F:"Rubber-products machine operator"},82320:{M:"Plastic-products machine operator",F:"Plastic-products machine operator"},82400:{M:"Wood-products machine operator",F:"Wood-products machine operator"},82510:{M:"Printing-machine operator",F:"Printing-machine operator"},82520:{M:"Bookbinding-machine operator",F:"Bookbinding-machine operator"},82530:{M:"Paper-products machine operator",F:"Paper-products machine operator"},82610:{M:"Fibre-machine operator",F:"Fibre-machine operator"},82611
:{M:"Fibre-spinning-machine operator",F:"Fibre-spinning-machine operator"},82612:{M:"Fibre-winding-machine operator",F:"Fibre-winding-machine operator"},82620:{M:"Weaving- and knitting-machine operator",F:"Weaving- and knitting-machine operator"},82630:{M:"Sewing-machine operator",F:"Sewing-machine operator"},82640:{M:"Bleaching-, dyeing- and cleaning-machine operator",F:"Bleaching-, dyeing- and cleaning-machine operator"},82650:{M:"Fur and leather-preparing-machine operator",F:"Fur and leather-preparing-machine operator"},82660:{M:"Shoemaking- and related machine operator",F:"Shoemaking- and related machine operator"},82690:{M:"Textile-machine operator",F:"Textile-machine operator"},82691:{M:"Fur- and leather machine operator",F:"Fur- and leather machine operator"},82710:{M:"Meat- and fish-processing-machine operator",F:"Meat- and fish-processing-machine operator"},82720:{M:"Dairy-products machine operator",F:"Dairy-products machine operator"},82730:{M:"Grain- and spice-milling-machine operator"
,F:"Grain- and spice-milling-machine operator"},82740:{M:"Baked-goods, cereal and chocolate-products machine operator",F:"Baked-goods, cereal and chocolate-products machine operator"},82750:{M:"Fruit-, vegetable- and nut-processing-machine operator",F:"Fruit-, vegetable- and nut-processing-machine operator"},82760:{M:"Sugar production machine operator",F:"Sugar production machine operator"},82770:{M:"Tea-, coffee-, and cocoa-processing-machine operator",F:"Tea-, coffee-, and cocoa-processing-machine operator"},82780:{M:"Brewer, wine and other beverage machine operator",F:"Brewer, wine and other beverage machine operator"},82790:{M:"Tobacco production machine operator",F:"Tobacco production machine operator"},82810:{M:"Mechanical-machinery assembler",F:"Mechanical-machinery assembler"},82820:{M:"Electrical-equipment assembler",F:"Electrical-equipment assembler"},82830:{M:"Electronic-equipment assembler",F:"Electronic-equipment assembler"},82840:{M:"Metal-, rubber- and plastic-products assembler"
,F:"Metal-, rubber- and plastic-products assembler"},82850:{M:"Wood and related products assembler",F:"Wood and related products assembler"},82860:{M:"Paperboard, textile and related products assembler",F:"Paperboard, textile and related products assembler"},82900:{M:"Machine operator",F:"Machine operator"},82901:{M:"Assembler",F:"Assembler"},83110:{M:"Locomotive-engine driver",F:"Locomotive-engine driver"},83120:{M:"Railway braker",F:"Railway braker"},83121:{M:"Railway signaller",F:"Railway signaller"},83122:{M:"Railway shunter",F:"Railway shunter"},83210:{M:"Motor-cycle driver",F:"Motor-cycle driver"},83220:{M:"Car driver",F:"Car driver"},83221:{M:"Taxi driver",F:"Taxi driver"},83222:{M:"Van driver",F:"Van driver"},83230:{M:"Bus driver",F:"Bus driver"},83231:{M:"Tram driver",F:"Tram driver"},83240:{M:"Heavy-truck driver",F:"Heavy-truck driver"},83241:{M:"Lorry driver",F:"Lorry driver"},83310:{M:"Motorised farm plant operator",F:"Motorised farm plant operator"},83311:{M:"Forestry plant operators"
,F:"Forestry plant operators"},83320:{M:"Earth-moving-plant operator",F:"Earth-moving-plant operator"},83330:{M:"Crane plant operator",F:"Crane plant operator"},83331:{M:"Hoist plant operator",F:"Hoist plant operator"},83340:{M:"Lifting-truck operator",F:"Lifting-truck operator"},83400:{M:"Ships' deck crew",F:"Ships' deck crew"},91110:{M:"Street food vendor",F:"Street food vendor"},91120:{M:"Street vendor, non-food products",F:"Street vendor, non-food products"},91130:{M:"Door-to-door salesperson",F:"Door-to-door salesperson"},91131:{M:"Telephone salesperson",F:"Telephone salesperson"},91200:{M:"Shoe-shiner",F:"Shoe-shiner"},91310:{M:"Domestic helper",F:"Domestic helper"},91320:{M:"Cleaner in offices, hotels and other establishments",F:"Cleaner in offices, hotels and other establishments"},91330:{M:"Hand-launderer and presser",F:"Hand-launderer and presser"},91410:{M:"Building caretaker",F:"Building caretaker"},91420:{M:"Vehicle cleaner",F:"Vehicle cleaner"},91421:{M:"Window cleaner",F:"Window cleaner"
},91510:{M:"Messenger",F:"Messenger"},91511:{M:"Package and luggage porter",F:"Package and luggage porter"},91512:{M:"Deliverer",F:"Deliverer"},91520:{M:"Doorkeeper",F:"Doorkeeper"},91521:{M:"Watchperson",F:"Watchperson"},91530:{M:"Vending-machine money collector",F:"Vending-machine money collector"},91531:{M:"Meter reader",F:"Meter reader"},91610:{M:"Garbage collector",F:"Garbage collector"},91620:{M:"Sweeper",F:"Sweeper"},92110:{M:"Agricultural worker",F:"Agricultural worker"},92120:{M:"Forestry labourer",F:"Forestry labourer"},92130:{M:"Fishery labourer",F:"Fishery labourer"},92131:{M:"Hunting labourer",F:"Hunting labourer"},92132:{M:"Trapping labourer",F:"Trapping labourer"},93110:{M:"Mining and quarrying labourer",F:"Mining and quarrying labourer"},93120:{M:"Construction and maintenance labourer: roads, dams and similar constructions",F:"Construction and maintenance labourer: roads, dams and similar constructions"},93130:{M:"Building construction labourer",F:"Building construction labourer"
},93210:{M:"Assembling labourer",F:"Assembling labourer"},93220:{M:"Hand packer",F:"Hand packer"},93221:{M:"Manufacturing labourer",F:"Manufacturing labourer"},93310:{M:"Hand or pedal vehicle driver",F:"Hand or pedal vehicle driver"},93320:{M:"Driver of animal-drawn vehicles and machinery",F:"Driver of animal-drawn vehicles and machinery"},93330:{M:"Freight handler",F:"Freight handler"},"01100":{M:"Staff of the armed forces",F:"Staff of the armed forces"}},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/LinguisticExperienceType",{root:{studying_training_language:"Using languages for study or training",work_language:"Using languages at work",living_traveling_language:"Using languages while living or travelling abroad",mediating_groups_language:"Mediating between languages"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0
,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/Title",{root:{mr:"Mr.",ms:"Ms.",mrs:"Mrs.",miss:"Miss",dr:"Dr."},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("europass/resources/FilteredTitle",["jquery","i18n!localization/nls/Title","europass/resources/FilteredTitle"],function(e,t,n){if(n===undefined||n===null){var n={};e.each(t,function(e){var r=t[e];r!==""&&(n[e]=t[e])})}return n}),define("localization/nls/EnclosedLabel",{root:{heading_1:"Enclosed:"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("localization/nls/OpeningSalutation",{root:{"opening-salut-1":"Dear","opening-salut-2":"Dear Mr.","opening-salut-3":"Dear Ms.","opening-salut-4":"","opening-salut-13":"","opening-salut-14":"","opening-salut-5-impersonal"
:"Dear Sir/Madam","opening-salut-6-impersonal":"Dear Sir","opening-salut-7-impersonal":"Dear Madam","opening-salut-8-impersonal":"","opening-salut-9-impersonal":"","opening-salut-10-impersonal":"","opening-salut-11-impersonal":"","opening-salut-12-impersonal":""},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("europass/resources/FilteredOpeningSalutation",["jquery","i18n!localization/nls/OpeningSalutation","europass/resources/FilteredOpeningSalutation"],function(e,t,n){if(n===undefined||n===null){var n={};e.each(t,function(e){t[e]!==""&&(n[e]=t[e])})}return n}),define("localization/nls/ClosingSalutation",{root:{"closing-salut-1":"Yours sincerely","closing-salut-2":"Yours faithfully","closing-salut-3":"Sincerely","closing-salut-4":"Faithfully","closing-salut-5":"Kind regards","closing-salut-6":"","closing-salut-7":"","closing-salut-8":"","closing-salut-9":"","closing-salut-10"
:"","closing-salut-11":"","closing-salut-12":""},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("europass/resources/FilteredClosingSalutation",["jquery","i18n!localization/nls/ClosingSalutation","europass/resources/FilteredClosingSalutation"],function(e,t,n){if(n===undefined||n===null){var n={};e.each(t,function(e){var r=t[e];r!==""&&(n[e]=t[e])})}return n}),define("europass/maps/PositionFMap",["jquery","europass/structures/KeyValueMap","i18n!localization/nls/OccupationalField","europass/maps/PositionFMap"],function(e,t,n,r){if(r===undefined||r===null){var r=new t;e.each(n,function(e){var t=n[e],i=t===null||""===t?"":t.F;r.put(i,e)}),r.sortByOrder("asc")}return r}),define("europass/maps/PositionMMap",["jquery","europass/structures/KeyValueMap","i18n!localization/nls/OccupationalField","europass/maps/PositionMMap"],function(e,t,n,r){if(r===undefined||r===null){var r=new t
;e.each(n,function(e){var t=n[e],i=t===null||""===t?"":t.M;r.put(i,e)}),r.sortByOrder("asc")}return r}),define("europass/maps/PositionNAMap",["jquery","europass/structures/KeyValueMap","i18n!localization/nls/OccupationalField","europass/maps/PositionNAMap"],function(e,t,n,r){if(r===undefined||r===null){var r=new t;e.each(n,function(t){var i=n[t],s=i===null||""===i?"":i.M,o=i===null||""===i?"":i.F,u=s;e.trim(o.toLowerCase())!==e.trim(s.toLowerCase())&&(u=s.concat("/").concat(o)),r.put(u,t)}),r.sortByOrder("asc")}return r}),define("models/TranslationManager",["module","jquery","underscore","jsonpath","Utils","europass/ExperienceDateFormatInstance","i18n!localization/nls/DefaultDateFormat","i18n!localization/nls/DateFormat","i18n!localization/nls/DateFormatPattern","i18n!localization/nls/AchievementType","i18n!localization/nls/PersonalDataTreatment","i18n!localization/nls/BusinessSector","i18n!localization/nls/Country","i18n!localization/nls/EducationalField","i18n!localization/nls/EducationalLevel"
,"i18n!localization/nls/GenderOption","i18n!localization/nls/HeadlineType","i18n!localization/nls/InstantMessagingType","i18n!localization/nls/Language","i18n!localization/nls/MotherLanguage","i18n!localization/nls/Nationality","i18n!localization/nls/OccupationalField","i18n!localization/nls/TelephoneType","i18n!localization/nls/LinguisticExperienceType","europass/resources/FilteredTitle","i18n!localization/nls/EnclosedLabel","europass/resources/FilteredOpeningSalutation","europass/resources/FilteredClosingSalutation","europass/maps/PositionFMap","europass/maps/PositionMMap","europass/maps/PositionNAMap"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O){var M={AchievementType:f,PersonalDataTreatment:l,BusinessSector:c,Country:h,EducationalField:p,EducationalLevel:d,GenderOption:v,HeadlineType:m,InstantMessagingType:g,Language:y,MotherLanguage:b,Nationality:w,OccupationalField:E,TelephoneType:S,LinguisticExperienceType:x,Title:T,EnclosedLabel:N,OpeningSalutation:C,
ClosingSalutation:k},_={Country:["$..Country.Code"],InstantMessagingType:["$..InstantMessaging[*].Use.Code"],TelephoneType:["$..Telephone[*].Use.Code"],GenderOption:["$..Gender.Code"],Nationality:["$..Nationality[*].Code"],HeadlineType:["$..Headline.Type.Code"],OccupationalField:["$..Headline.Description.Code","$..WorkExperience[*].Position.Code"],BusinessSector:["$..WorkExperience[*].Employer.Sector.Code"],EducationalField:["$..Education[*].Field.Code"],EducationalLevel:["$..Education[*].Level.Code"],Language:["$..ForeignLanguage[*].Description.Code"],MotherLanguage:["$..MotherTongue[*].Description.Code"],AchievementType:["$..Achievement[*].Title.Code"],LinguisticExperienceType:["$..Experience[*].Area.Code"],Title:["$..Title.Code"],OpeningSalutation:["$..OpeningSalutation.Salutation.Code"],ClosingSalutation:["$..ClosingSalutation.Code"],EnclosedLabel:["$..Documentation.Heading.Code"]},D=function(e){this.model=e};D.prototype.perform=function(t,r){this.bootstrap();if(t===!0)return;this.model
.set("SkillsPassport.Locale",e.config().locale||"en"),this.lookups();var i=this.model.preferences.get("ECL.LearnerInfo.Identification.PersonName"),s=this.model.preferences.get("ECL.CoverLetter.Justification"),o=this.model.preferences.get("ECL.CoverLetter.Letter.Localisation.Date");this.model.preferences.resetToDefaults("ECL"),n.isEmpty(i)||this.model.preferences.set("ECL.LearnerInfo.Identification.PersonName",i),n.isEmpty(s)||this.model.preferences.set("ECL.CoverLetter.Justification",s),n.isEmpty(o)||this.model.preferences.set("ECL.CoverLetter.Letter.Localisation.Date",o),this.others(r)},D.prototype.lookups=function(){var e=this.model,t=e.attributes;for(var n in _){var s=M[n];if(s!==undefined){var o=_[n];for(var u=0;u<o.length;u++){var a=o[u],f=r(t,a,{resultType:"PATH"});if(f===!1)continue;for(var l=0;l<f.length;l++){var c=f[l];if(c===null)continue;var h=i.convertJsonPath(c),p=e.get(h);if(p===undefined||p===null||p==="")continue;var d=s[p];if(n==="GenderOption"){var v="LearnerInfo.Identification.Demographics.Gender."
;d=s[v+p]}(n==="Country"||n==="Nationality")&&(p==="GR"||p==="GB")&&e.set(h,p==="GR"?"EL":"UK",{silent:!0});if(d===undefined||d===null)continue;if(n==="OccupationalField"){var m=e.get("SkillsPassport.LearnerInfo.Identification.Demographics.Gender.Code");switch(m){case"F":d=d.F;break;default:d=d.M}}var g=h.substring(0,h.length-".Code".length)+".Label";e.set(g,d)}}}}};var P={Education:"$..Education.array[*].Period",WorkExperience:"$..WorkExperience.array[*].Period",LinguisticCertificate:"$..ForeignLanguage.array[*].Certificate.array[*].Date",LinguisticExperience:"$..ForeignLanguage.array[*].Experience.array[*].Period"};D.DateFormatPrefs_Regex=new RegExp("(^SkillsPassport\\.LearnerInfo\\.Skills\\.Linguistic\\.ForeignLanguage\\[[0-9]*\\]\\.(Certificate|Experience)\\[[0-9]*\\]$)|(SkillsPassport\\.LearnerInfo\\.(WorkExperience|Education)\\[[0-9]*\\])|(CoverLetter\\.Letter\\.Localisation\\.Date)"),D.prototype.bootstrap=function(){var e=this.model.preferences.attributes,t=[];for(var n in P){if(
n===undefined||n===null||n==="")continue;var u=P[n];if(u===undefined||u===null||u==="")continue;var f=r(e,u,{resultType:"PATH"});if(f===!1)continue;for(var l=0;l<f.length;l++){var c=f[l];if(c===undefined||c===null)continue;var h=i.convertJsonPath(c),p=h.substring(0,h.indexOf(".")),d=this.model.preferences.get(h);if(i.isEmptyObject(d)===!0)continue;var v=d.format;if(t[p]===undefined&&typeof v=="string"&&v!==""){if(!a[p][v]||typeof v!="string"||v==="")v=o[p];s.applyFunction({f:"set",args:[h,v]},p),t[p]=v}s.applyFunction({f:"addToList",args:[h]},p),v!==t[p]&&(d.format=t[p])}}};var H=/(\bBirthdate|\bPeriod|\bDate)/g;return D.prototype.others=function(e){this.model.preferences!==null&&(this.model.preferences.applyDefaultPersonNameOrder(null,null,!e),this.model.preferences.iterate(this.updateLocalisableDateFormat,this,H))},D.prototype.updateLocalisableDateFormat=function(e,t){if(t===undefined||t===null||t==="")return!1;var n=t.substring(0,t.indexOf("."));if(e===undefined||e===null)return!1;var r=
e.format;if(r===undefined||r===null||r==="")return!1;var i=a[n][r];i===!1&&(e.format=o[n])},D.prototype.chooseOccupationMap=function(e){if(e===undefined||e===null&&this.model!==undefined)e=this.model.get("SkillsPassport.LearnerInfo.Identification.Demographics.Gender.Code");var t=null;switch(e){case"F":t=L;break;case"M":t=A;break;default:t=O}return t},D}),define("models/ConversionManager",["module","jquery","underscore","xdate","Utils","europass/http/SessionManagerInstance","europass/http/WindowConfigInstance","europass/GlobalDocumentInstance"],function(e,t,n,r,i,s,o,u){var a=function(e){this.model=e};return a.prototype.cleanUp=function(e,t){delete e.Idx,delete e.subsection,delete e.Preferences,delete e.type,t===!0&&delete e.SessionID},a.prototype.toStorable=function(){var e={};t.extend(!0,e,this.model.attributes);var n={};return t.extend(!0,n,this.model.getPreferences()),e.Preferences=n,e.SkillsPassport.DocumentInfo.LastUpdateDate=o.getServerLastUpdateDate().toString(this.model.ISO_DATE_FORMAT
),JSON.stringify(e)},a.prototype.toTransferable=function(e){var r={};t.extend(!0,r,this.model.attributes),this.cleanUp(r,!0);var i={},s=this.model.attributes.SkillsPassport.DocumentInfo.DocumentType,o=s=="ECV_ESP"||s=="ESP"?"ECV":s;t.extend(!0,i,this.model.preferences.toSchema(o));var u=r.SkillsPassport.DocumentInfo.Document;if(!n.isUndefined(u)&&!n.isNull(u)&&u.length>0)for(var a in u)t.extend(!0,i,this.model.preferences.toSchema(u[a]));return r.SkillsPassport.PrintingPreferences=i,delete r.Preferences,e!==undefined&&e!==null&&e!==""&&(r.SkillsPassport.Locale=e),delete r.type,delete r.SessionID,JSON.stringify(r)},a.prototype.fromTransferable=function(t,n,i){var u=t.SkillsPassport!==undefined&&t.SkillsPassport!==null;u===!1&&(t.SkillsPassport={});var a=t.SkillsPassport.DocumentInfo!==undefined&&t.SkillsPassport.DocumentInfo!==null;a===!1&&(t.SkillsPassport.DocumentInfo={}),t.SkillsPassport.DocumentInfo.LastUpdateDate=(new r(o.getServerDateTime(),!0)).toString(this.model.ISO_DATE_FORMAT)
;if(t.SkillsPassport.DocumentInfo.XSDVersion===undefined||t.SkillsPassport.DocumentInfo.XSDVersion===null)t.SkillsPassport.DocumentInfo.XSDVersion=e.config().xsdversion||"V3.3";if(t.SkillsPassport.DocumentInfo.DocumentType===undefined||t.SkillsPassport.DocumentInfo.DocumentType===null)t.SkillsPassport.DocumentInfo.DocumentType=e.config().documentType||"ECV";if(t.SkillsPassport.Locale===undefined||t.SkillsPassport.Locale===null)t.SkillsPassport.Locale=e.config().locale||"en";this.model.unset("SkillsPassport"),this.model.unset("PrintingPreferences"),this.model.unset("Preferences"),this.model.set(t);var f=t.SkillsPassport.SessionID;f!==undefined&&f!==null&&f!==""&&s.set(f);var l=t.SkillsPassport.PrintingPreferences;this.model.preferences.fromSchema(l),n===!0&&this.model.translation().perform(!1,i)},a.prototype.fromStorable=function(t){this.model.unset("SkillsPassport"),this.model.unset("PrintingPreferences"),this.model.unset("Preferences");var n=JSON.parse(t);if(n.SkillsPassport.Locale===undefined||
n.SkillsPassport.Locale===null)n.SkillsPassport.Locale=e.config().locale||"en";this.model.set(n);var r=n.SkillsPassport.SessionID;r!==undefined&&r!==null&&r!==""&&s.set(r);var o=n.Preferences;if(i.isEmptyObject(o)===!1)this.model.preferences.resetToAttrs(o);else{var u=n.SkillsPassport.PrintingPreferences;this.model.preferences.fromSchema(u)}},a}),define("models/DocumentationManager",["jquery","underscore","jsonpath","europass/http/SessionManagerInstance","europass/http/Resource"],function(e,t,n,r,i){var s=function(e){this.model=e};return s.prototype.findAttachment=function(e){var t=this.model.get(this.model.ATTACHMENT_SECTION);if(t===undefined||t===null)return null;var n=this.model.get(e);if(n===undefined||n===null)return null;var r=n.idref;if(r===undefined||r===null||r==="")return null;var i=null,s=null;for(var o=0;o<t.length;o++){var u=t[o];if(u.Id===r){i=u,s=o;break}}return i===null||s===null?null:{attachment:i,index:s}},s.prototype.findReferenceTo=function(t,n){var r={index:-1,length
:-1},i={index:-2,length:-1},s={index:-3,length:-1};if(t===undefined||t===null||t==="")return null;if(n===undefined||n===null||n==="")n=this.model.ANNEXES_SECTION;n=this.referenceToPath(n);var o=this.model.get(n);if(o===undefined||o===null)return i;if(o!==undefined&&o!==null&&!e.isArray(o))return s;var u=o.length;for(var a=0;a<u;a++){var f=o[a];if(f.idref===t){r.index=a;break}}return r.length=u,r},s.prototype.findReferencesTo=function(t,r){var i=[],s="$..ReferenceTo[?(@.idref=='"+t+"')]",o={};e.extend(!0,o,this.model.attributes),r===!0&&o.SkillsPassport.LearnerInfo!==undefined&&o.SkillsPassport.LearnerInfo.ReferenceTo!==undefined&&delete o.SkillsPassport.LearnerInfo.ReferenceTo;var u=n(o,s,{resultType:"PATH"});if(u===!1)return[];for(var a=0;a<u.length;a++){var f=u[a],l=f.substr(1);l=l.replace(/(\[\d+\])/g,"$1."),l=l.replace(/\['/g,""),l=l.replace(/\']/g,"."),l=l.replace(/\.(\[\d+\])/g,"$1"),l=l.length>0?l.substr(0,l.length-1):l,i.push(l)}return i},s.prototype.findReferencesToSections=function(
t){var r=[],i="$..ReferenceTo",s={};e.extend(!0,s,this.model.attributes),t===!0&&s.SkillsPassport.LearnerInfo!==undefined&&s.SkillsPassport.LearnerInfo.ReferenceTo!==undefined&&delete s.SkillsPassport.LearnerInfo.ReferenceTo;var o=n(s,i,{resultType:"PATH"});if(o===!1)return[];for(var u=0;u<o.length;u++){var a=o[u],f=a.substr(1);f=f.replace(/(\[\d+\])/g,"$1."),f=f.replace(/\['/g,""),f=f.replace(/\']/g,"."),f=f.replace(/\.(\[\d+\])/g,"$1"),f=f.length>0?f.substr(0,f.length-1):f,r.push(f)}return r},s.prototype.referenceToPath=function(e){var t=this.model.REFERENCETO;return e.indexOf(t,e.length-t.length)!==-1?e:e+t},s.prototype.attachmentById=function(e){var t=this.model.get(this.model.ATTACHMENT_SECTION);if(t===undefined||t===null)return null;var n=null,r=null;for(var i=0;i<t.length;i++){var s=t[i];if(s===null)continue;if(s.Id===e){n=s,r=i;break}}return n===null||r===null?null:{attachment:n,index:r}},s.prototype.getAttachmentURI=function(e){var t=this.findAttachment(e);if(t===null)return!1;
if(t.attachment==null)return!1;var n=t.attachment.TempURI;return n===undefined||n===null||n===""?null:n},s.prototype.restRemoveAllAttachments=function(){var t=this.model.get(this.model.ATTACHMENT_SECTION);if(t!==undefined&&e.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];if(r===undefined||r==null)continue;this.restDeleteAttachment(r.TempURI,!0)}},s.prototype.restRemoveAttachment=function(e,t){var n=this.getAttachmentURI(e);if(n===null)return!1;this.restDeleteAttachment(n,t)},s.prototype.restDeleteAttachment=function(t,n){var r=new i(t);r._delete({success:{scope:this,callback:function(){}},error:{scope:this,callback:function(t){require(["i18n!localization/nls/Notification"],function(t){var n=t["error.code.file.delete"];e("body > section.notifications").trigger("europass:message:show",["error",n])})}}})},s.prototype.updateAllRemovedAttachments=function(){var t=this.model.get(this.model.ATTACHMENT_SECTION);if(t!==undefined&&e.isArray(t)){for(var n=0;n<t.length;n++){var r=t[n];if(r===undefined||
r==null)continue;var i=this.findReferencesTo(r.Id);for(var s=0;s<i.length;s++)this.model.reset(i[s],!0)}var o={};o[this.model.ATTACHMENT_SECTION]=null,this.model.set(o)}},s.prototype.updateRemovedAttachment=function(t,n){var r=t.attachment.Id,i=this.model.ATTACHMENT_SECTION+"["+t.index+"]";this.model.remove(i,{silently:!0});var s=this.findReferencesTo(r);for(var o=0;o<s.length;o++)this.model.reset(s[o],!0);n!==!0&&this.model.trigger("linked:attachment:changed"),e("body").trigger("europass:waiting:indicator:hide")},s.prototype.removeAttachment=function(e,t){var n=this.findAttachment(e);if(n===null)return!1;var r=n.attachment.TempURI;if(r===undefined||r===null||r==="")return!1;var s=new i(r);s._delete({success:{scope:this,callback:function(){return this.updateRemovedAttachment(n),!0}},error:{scope:this,callback:function(e){return this.updateRemovedAttachment(n),!1}}})},s}),define("models/SkillsPassport",["require","module","jquery","underscore","xdate","backbone","backbonenested","models/PrintingPreferencesModel"
,"Utils","europass/http/SessionManagerInstance","europass/ExperienceDateFormatInstance","europass/GlobalDocumentInstance","europass/http/WindowConfigInstance","models/ModelInfoManager","models/TranslationManager","models/ConversionManager","models/DocumentationManager"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){var g=s.NestedModel.extend({SECTION_ECV_PREFS:"SkillsPassport.PrintingPreferences",ANNEXES_SECTION:"SkillsPassport.LearnerInfo.ReferenceTo",REFERENCETO:".ReferenceTo",ATTACHMENT_SECTION:"SkillsPassport.Attachment",ATTACHMENT_SECTION_MIN:"Attachment",SIGNATURE:"SkillsPassport.LearnerInfo.Identification.Signature",PHOTO:"SkillsPassport.LearnerInfo.Identification.Photo",DOCUMENT_TYPE:"SkillsPassport.DocumentInfo.DocumentType",ISO_DATE_FORMAT:"yyyy-MM-dd'T'HH:mm:ss.fffzzz",defaults:{SkillsPassport:{Locale:t.config().locale||"en",PrintingPreferences:{},DocumentInfo:{DocumentType:"ECV",CreationDate:null,LastUpdateDate:null,XSDVersion:t.config().xsdversion,Generator:t.config().generator
,Comment:t.config().comment,EuropassLogo:t.config().europassLogo},LearnerInfo:{},CoverLetter:{}}},isUIandModelLocaleSame:function(){var e=this.get("SkillsPassport.Locale");if(e===undefined||e===null||e==="")return!1;var n=t.config().locale;return n===undefined||n===null||n===""?!1:n===e},populateModel:function(e,t){if(e!==undefined&&e!==null){var n=this.conversion();if(n!==null){n.fromStorable(e);var r=this.translation();if(r!==null){var s=t===!0&&this.isUIandModelLocaleSame()===!0;r.perform(s,!1)}var o=(new i(h.getServerDateTime(),!0)).toString(this.ISO_DATE_FORMAT);this.set("SkillsPassport.DocumentInfo.LastUpdateDate",o,{silent:!0})}}},preferences:null,defaultPreferences:null,getPreferences:function(e){var t={};return this.preferences!==null&&(e===undefined||e===null||e===""?t=n.extend(!0,{},this.preferences.attributes):t=n.extend(!0,{},this.preferences.get(e))),t},getDefaultPreferences:function(e){if(e===undefined||e===null||e==="")e=c.getPrefDocument();var t={};return this.preferences!==
null&&(t=n.extend(!0,{},this.preferences._originalAttributes[e])),t},initialize:function(){if(h!==undefined){var e=(new i(h.getServerDateTime(),!0)).toString(this.ISO_DATE_FORMAT);this.defaults.SkillsPassport.DocumentInfo.CreationDate=e,this.defaults.SkillsPassport.DocumentInfo.LastUpdateDate=e}this.preferences=new u,this.defaultPreferences=this.preferences.getDefaultsModel(),this._originalAttributes=n.extend(!0,{},this.defaults),this._originalModel=new s.NestedModel(this._originalAttributes),this.bind("remote:upload:model:populated",this.modelUploaded,this),this.bind("uploaded:esp",this.modelUploaded,this),this.bind("prefs:order:changed",this.modelPrefsOrderChanged,this),this.bind("prefs:data:format:changed",this.modelPrefsDateFormatChanged,this),this.bind("content:changed",this.modelContentChanged,this),this.bind("list:sort:change",this.modelListSortChanged,this),this.bind("linked:attachment:changed",this.modelAttachmentChanged,this),this.infoManager=null,this.translationManager=null,
this.conversionManager=null,this.documentationManager=null},onClose:function(){this.unbindEvents()},unbindEvents:function(){this.unbind("remote:upload:model:populated",this.modelUploaded),this.unbind("uploaded:esp",this.modelUploaded),this.unbind("prefs:order:changed",this.modelPrefsOrderChanged),this.unbind("prefs:data:format:changed",this.modelPrefsDateFormatChanged),this.unbind("content:changed",this.modelContentChanged),this.unbind("list:sort:change",this.modelListSortChanged),this.unbind("linked:attachment:changed",this.modelAttachmentChanged)},setLastUpdateDate:function(){var e=(new i(h.getServerDateTime(),!0)).toString(this.ISO_DATE_FORMAT);this.set("SkillsPassport.DocumentInfo.LastUpdateDate",e,{silent:!0})},getEuropassLogo:function(){return this.get("SkillsPassport.DocumentInfo.EuropassLogo")},setEuropassLogo:function(e){this.set("SkillsPassport.DocumentInfo.EuropassLogo",e,{silent:!0})},clearContext:function(){this.conversion().cleanUp(this.attributes,!1)},modelUploaded:function(
){this.trigger("model:uploaded:esp",this.attributes)},modelPrefsDateFormatChanged:function(e){this.trigger("model:prefs:data:format:changed",e)},modelPrefsOrderChanged:function(e){this.clearContext(),this.trigger("model:prefs:order:changed",e)},modelContentChanged:function(e,t){this.clearContext(),this.trigger("model:content:changed",e,t)},modelListSortChanged:function(e,t,n){this.clearContext(),this.trigger("model:list:sort:change",e,t,n)},modelAttachmentChanged:function(e){this.clearContext(),this.trigger("model:linked:attachment:changed",e)},info:function(){return this.infoManager==null&&(this.infoManager=new p(this)),this.infoManager},translation:function(){return this.translationManager==null&&(this.translationManager=new d(this)),this.translationManager},conversion:function(){return this.conversionManager==null&&(this.conversionManager=new v(this)),this.conversionManager},documentation:function(){return this.documentationManager==null&&(this.documentationManager=new m(this)),this.
documentationManager},setActiveSkillsSection:function(e){this.activeSkillsSection=e},getActiveSkillsSection:function(){return this.activeSkillsSection},resetActiveSkillsSection:function(){this.activeSkillsSection=undefined},resetAll:function(e){var t=this.documentation();t!==null&&t.restRemoveAllAttachments(),r.isFunction(f.clear)&&f.clear(),l.applyFunction({f:"clear"},"ECV"),l.applyFunction({f:"clear"},"ELP"),l.applyFunction({f:"clear"},"ECL");var n="SkillsPassport.LearnerInfo";this.reset(n,!0);var i="SkillsPassport.CoverLetter";this.reset(i,!0);var s=JSON.parse('{"SkillsPassport.Attachment": null }');this.set(s,{silent:!0});var o=h.getServerLastUpdateDate().toString(this.ISO_DATE_FORMAT);this.set("SkillsPassport.PrintingPreferences",null,{silently:!0}),this.set("SkillsPassport.DocumentInfo.LastUpdateDate",o,{silently:!0}),this.set("SkillsPassport.DocumentInfo.CreationDate",o,{silently:!0}),this.set("SkillsPassport.DocumentInfo.EuropassLogo",!0,{silently:!0}),(e===undefined||e===null||
e===!1)&&this.trigger("model:content:reset")},reset:function(e,t){if(e===undefined||e===null||e==="")return!1;var n=e.split(" ");for(var r in n){var i=n[r].match(/([\S]*)(\[(\d+)\])$/),s=i!=null,o=a.removeSkillsPassportPrefix(n[r]);if(s)o=a.toArrayTxt(o),this.preferences.removeArrayItem("",o),this.remove(n[r]);else{o==="LearnerInfo"||o==="CoverLetter"?this.preferences.resetToDefaults():this.preferences.resetPreference("",o);var u=JSON.parse('{"'+n[r]+'": null }');this.set(u);var f=this._originalModel.get(n[r])||null,l=a.prepareModelAttr(n[r],f);this.set(l)}(t===undefined||t===null||t===!1)&&this.trigger("content:changed",n[r])}},FORM_FIELDS_SELECTOR:":input:not(button):not(:radio):not(:checkbox):not(.PrintingPreferences)",FORM_FIELDS_REST_SELECTOR:":radio:checked:not(.PrintingPreferences),:checkbox:checked",getFormFields:function(e,t){var i=e.find(this.FORM_FIELDS_SELECTOR).filter(function(){var e=n(this).val();return e!==undefined&&e!==null&&e!==""}),s=e.find(this.FORM_FIELDS_REST_SELECTOR
),o=i.add(s);return r.isString(t)&&t!==""&&(o=o.filter('[name^="'+t+'"]')),o},CLEAR_LABEL:"–",formToModel:function(e,t){var r=new s.NestedModel({}),i=[],o=a.removeSkillsPassportPrefix(t),u=this.getFormFields(e,o);for(var f=0;f<u.length;f++){var l=n(u[f]),c=l.attr("name"),h=l.val();if(h===this.CLEAR_LABEL)continue;if(l.is("select.Telephone")&&h!==""){if(u[f+1]===undefined||u[f+1]===null)continue;var p=n(u[f+1]);if(!p.is("input.Telephone"))continue;if(p.val()==="")continue}h=this.handleBinaryRelatedValue(l,h),h=this.handleDateRelatedValue(l,h);var d=a.prepareModelAttr(c,h);d!==null&&(i.push(d),r.set(d))}return{model:r,changes:i}},getModelPreviousSection:function(e){var t=this.previousAttributes(),n=e.split("."),r=null;for(var i=0;i<n.length;i++)if(i==0)r=t[n[i]];else{if(r===undefined)break;r=r[n[i]]}return r!==null&&r!==undefined?r:null},appendDocumentation:function(e,t){var n=e+this.REFERENCETO,i=this.get(a.addSkillsPassportPrefix(n));if(!r.isUndefined(i)&&!r.isNull(i)){var s={};s[n]=i,t
.set(s)}},handleBinaryRelatedValue:function(e,t){return e.is(":checkbox")&&e.hasClass("isBinary")?!0:t},handleDateRelatedValue:function(e,t){return e.is("[name$=Day]")||e.is("[name$=Month]")||e.is("[name$=Year]")?parseInt(t):t}});return g}),define("models/SkillsPassportInstance",["jquery","xdate","models/SkillsPassport","models/SkillsPassportInstance","europass/http/SessionManagerInstance","europass/http/WindowConfigInstance"],function(e,t,n,r,i,s){if(r===undefined||r===null){r=new n;var o=null;try{o=window.localStorage.getItem("europass.ewa.skillspassport.v3")}catch(u){}o!==undefined&&o!==null&&r.populateModel(o,!0)}return r}),define("europass/structures/KeyObjMap",["jquery"],function(e){var t=function(){this.keys=new Array,this.objs=new Array};return t.prototype.put=function(e,t){this.keys.push(e),this.objs.push(t)},t.prototype.get=function(t){var n=e.inArray(t,this.keys);return n!=-1?this.objs[n]:null},t}),define("europass/structures/GlobalHelpOption",["jquery"],function(e){var t=function(
){this.HELP_ON="on",this.HELP_OFF="off",this.defaultHELP=this.HELP_ON,this.status=this.defaultHELP};return t.prototype.isOn=function(){var e=null;return this.status===this.HELP_ON?e=!0:e=!1,e},t.prototype.get=function(){return this.status},t.prototype.set=function(e){e!=undefined&&e!=null&&(e===this.HELP_ON||e===this.HELP_OFF)&&(this.status=e)},t.prototype.switcher=function(){var e=this.get();switch(e){case this.HELP_OFF:this.set(this.HELP_ON);break;case this.HELP_ON:this.set(this.HELP_OFF);break;default:this.set(this.defaultHELP)}return this.status},t}),define("europass/GlobalHelpOptionInstance",["europass/structures/GlobalHelpOption","europass/GlobalHelpOptionInstance"],function(e,t){if(t===undefined||t===null)var t=new e;return t}),define("views/forms/DefaultsFormView",["jquery","underscore","backbone","Utils","europass/http/WindowConfigInstance"],function(e,t,n,r,i){var s=n.View.extend({defaultvalue_attr:"data-defaultvalue",events:{"focus :input.with-placeholder":"focused","blur :input.with-placeholder"
:"blurred","focus  .fancy-select":"fancyFocus","keydown .fancy-select":"keydown","click .fancySelect.clear":"clearSelected","europass:rich-text-editor:focused":"rtefocused","europass:rich-text-editor:blurred":"rteblurred","click .placeholder.help":"placeHolderClicked","touchstart .redactor_with-placeholder.redactor_help":"placeHolderClicked","europass:multipliable:added div.multipliable > div":"multiFieldAdded","europass:formselect:changed :input:not(button)":"blurred","select2-close .formfield.select2":"myClose"},initialize:function(){},render:function(){this.initDefaults()},initDefaults:function(){var t=this.$el.hasClass("isForm")?this.$el:this.$el.find("form"),n=this;t.find(":input:not(button).with-placeholder").each(function(t,r){var i=e(r),s=i,o=i.val();if(i.parents(".composite.autocomplete").length>0){var u=i.parents(".composite.autocomplete");s=u.find('[rel="'+i.attr("rel")+'"]')}if(i.parents(".composite.select").length>0){var u=i.parents(".composite.select");s=u.find('[rel="'+i.
attr("rel")+'"]')}var a='<div class="help placeholding '+(n.valueIsEmpty(o)?"":"hasValue")+'" name="'+r.name+'"/>';s.next("span").andSelf().wrapAll(a),n.valueIsEmpty(o)?defaultValue=i.siblings("span").show():defaultValue=i.siblings("span").hide()})},fancyFocus:function(t){var n=e(t.currentTarget),r=n.find(".trigger"),i=n.find(".options");r!==undefined&&r!==null&&r!==""&&r.length>0&&r.addClass("open"),i!==undefined&&i!==null&&i!==""&&i.length>0&&i.addClass("open")},keydown:function(t){var n=e(t.currentTarget).find(".hover"),r=t.keyCode?t.keyCode:t.which;(r==40||r==38)&&n!==undefined&&n!==null&&n!==""&&n.length>0&&(n.addClass("tabSelected"),n.siblings("li").removeClass("tabSelected"));if(r==9){var i=e(t.currentTarget).find("li.tabSelected"),s=e(t.currentTarget).find("li.selected"),o=e(t.currentTarget).find("li");if(i!==undefined&&i!==null&&i!==""&&i.length>0)i.trigger("click"),i.removeClass("tabSelected");else{if(s!==undefined&&s!==null&&s!==""&&s.length>0&&i.length<=0)return;o!==undefined&&
o!==null&&o!==""&&o.length>0&&o.first().trigger("click")}}},clearSelected:function(t){var n=e(t.currentTarget).siblings(".fancy-select").find("li.selected");n.length>0&&n.removeClass("selected")},myClose:function(t){var n=e(t.target).siblings(".select2-container").find("a.select2-choice");n.length!==0&&n.attr("tabIndex","0")},EMPTY_REGEXP:new RegExp(/^((<br[\/\\]?>)*|(<p>(<br[\/\\]?>)?(<\/p>)?))$/),valueIsEmpty:function(t){return t===""||e.trim(t)===""||this.EMPTY_REGEXP.test(t)},multiFieldAdded:function(t){var n=this,i=e(t.target),s=i.find(":input:not(button):not(:radio):not(:checkbox)").filter(r.filterEmptyVal),o=i.find(":radio:not(checked)"),u=s.add(o);u.each(function(t,r){var i=e(r);n.valueIsEmpty(i.val())&&n.addDefault(i)})},getElementInfo:function(t){var n=e(t),r=n.attr("name"),i=e('[name="'+r+'"]').val();return{el:n,key:r,value:i}},getPlaceHolding:function(e){return e.parents(".placeholding")},getPlaceHolder:function(e){var t=e.siblings("span.placeholder");return t.length===0&&(t=
this.getPlaceHolding(e).find("span.placeholder")),t},getInput:function(e){return e.siblings(":input:not(button).with-placeholder")},removeDefault:function(e){this.getPlaceHolder(e).hide(),this.getPlaceHolding(e).addClass("hasValue")},addDefault:function(e){this.getPlaceHolder(e).show(),this.getPlaceHolding(e).removeClass("hasValue")},onStartTyping:function(t){var n=e(t.target);n.unbind("keypress.ewa.form.defaults"),this.removeDefault(n)},onStartTypingAndroid:function(t){var n=e(t.target);n.unbind("input .redactor_with-placeholder.redactor_help"),this.removeDefault(n)},onSelected:function(t){var n=e(t.target);n.unbind("europass:autocomplete:selected"),this.removeDefault(n)},placeHolderClicked:function(t){var n=e(t.target),r=this.getInput(n);r.focus(),this.getPlaceHolding(n).trigger("europass:form:defaults:clicked")},rtefocused:function(t,n){var r=e(t.target),i=r.val();this.addRteFocusStyle(r);var s=/(iPhone|iPod|iPad)/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)||/BlackBerry/
.test(navigator.userAgent);if(this.valueIsEmpty(i)||s)try{var o=r.redactor("core.getEditor");n&&r.redactor("focus.setStart"),navigator.appVersion.indexOf("Android")>0?o.bind("input .redactor_with-placeholder.redactor_help",e.proxy(this.onStartTypingAndroid,this)):o.bind("keypress.ewa.form.defaults",e.proxy(this.onStartTyping,this))}catch(u){r.bind("keypress.ewa.form.defaults",e.proxy(this.onStartTyping,this))}},focused:function(t){var n=e(t.target),r=n.val();this.valueIsEmpty(r)&&((i.operatingSystem=="ANDROID"||n.is("select")||n.is("textarea"))&&this.removeDefault(n),n.is("textarea")&&this.$el.find("body").focus(),n.is("select")||(navigator.appVersion.indexOf("Android")>0?n.bind("input :input.with-placeholder",e.proxy(this.onStartTypingAndroid,this)):n.bind("keypress.ewa.form.defaults",e.proxy(this.onStartTyping,this)).bind("paste",e.proxy(this.onStartTyping,this)),n.bind("europass:autocomplete:selected",e.proxy(this.onSelected,this))))},rteblurred:function(t){var n=e(t.target),r=n.val(
);this.removeRteFocusStyle(n);if(this.valueIsEmpty(r)){this.addDefault(n);try{var i=n.redactor("core.getEditor");i.bind("keypress.ewa.form.defaults",e.proxy(this.onStartTyping,this))}catch(s){}}else this.removeDefault(n)},blurred:function(t){var n=e(t.target),r=n.val();if(this.valueIsEmpty(r)){this.addDefault(n);if(!n.is("select")||n.is("textarea"))n.bind("keypress.ewa.form.defaults",e.proxy(this.onStartTyping,this)),n.bind("europass:autocomplete:selected",e.proxy(this.onSelected,this))}else this.removeDefault(n)},addRteFocusStyle:function(t){if(t!=null&&t!=undefined&&t!=""){var n=e(t).closest(".redactor-box");n!=null&&n!=undefined&&n!=""&&n.addClass("focus-rte")}},removeRteFocusStyle:function(t){if(t!=null&&t!=undefined&&t!=""){var n=e(t).closest(".redactor-box");n!=null&&n!=undefined&&n!=""&&n.removeClass("focus-rte")}}});return s}),define("views/prefs/PrintingPreferencesView",["jquery","underscore","backbone","Utils","europass/GlobalDocumentInstance","i18n!localization/nls/PersonNameOrder"
],function(e,t,n,r,i,s){var o=n.View.extend({bindGroup_attr:"data-bind-group",bindName_attr:"data-bind-name",bindDocument_attr:"data-bind-document",name_attr:"name",LEARNERINFO_KEY:"LearnerInfo",CL_JUSTIFICATION:"CoverLetter.Justification",SECTION_ORDER:"Identification Headline WorkExperience Education Skills Achievement ReferenceTo",PERSONNAME_KEY:"LearnerInfo.Identification.PersonName",CEFRLEVELS_KEY:"LearnerInfo.CEFLanguageLevelsGrid",STATUSES:{ALL:"A",SUGGESTED:"S",FILLED:"F",CUSTOM:"C"},initialize:function(){this.prefModel=this.model.preferences,this.prefsDocument=i.getPrefDocument()},updatePref:function(t){if(this.prefModel===null)return!1;var n=t.attr(this.bindGroup_attr),r=this.getInputPrefName(t),i=this.getInputPrefDocument(t),s=this;if(this.groupBindingOnly(n,r)){var o=n===undefined||n===null||n===""?[]:e(n.split(" "));o.each(function(e,t){s.findPreference(t)==null?s.addDocumentsPreference(i,t,!0,null,null):s.updatePreference(t,"show",!0)})}else if(this.groupAndIndividualBinding
(n,r)){var o=n===undefined||n===null||n===""?[]:e(n.split(" "));o.each(function(e,t){s.findPreference(t)==null?s.addDocumentsPreference(i,t,!0,null,null):s.updateDocumentsPreference(i,t,!0,null,null)}),this.findPreference(r)==null?this.addDocumentsPreference(i,r,!0,null,null):this.updateDocumentsPreference(i,r,!0,null,null)}else{var u=null;r!==undefined&&r!==""&&r!=="group"&&(u=r,this.findPreference(u)==null?this.addDocumentsPreference(i,u,!0,null,null):this.updatePreference(u,"show",!0))}},unbindPref:function(e){var t=e.attr(this.bindGroup_attr),n=e.attr(this.bindName_attr),r=this.getInputPrefDocument(e);if(this.groupBindingOnly(t,n))this.unbindGroup(r,t);else if(this.groupAndIndividualBinding(t,n))this.unbindGroup(r,t),this.unbindEntry(r,n);else{var i=null;n!==undefined&&n!==""&&n!=="group"&&(i=n,this.unbindEntry(r,i))}},removePref:function(e){var t=e.attr(this.bindGroup_attr),n=e.attr(this.bindName_attr),r=this.getInputPrefDocument(e);if(this.groupBindingOnly(t,n))this.unbindGroup(r,
t);else if(this.groupAndIndividualBinding(t,n))this.unbindGroup(r,t),this.removeDocumentsPreference(r,n);else{var i=null;n!==undefined&&n!==""&&n!=="group"&&(i=n,this.removeDocumentsPreference(r,i))}},managePersonNameOrder:function(e,t,n){this.prefModel!==null&&this.prefModel.applyDefaultPersonNameOrder(e,t,n)},switchPersonNames:function(){var e=this.findPreference(this.PERSONNAME_KEY),t=e===undefined||e===null,n=t===!1&&(e.order===undefined||e.order===null||e.order==="");if(t||n)return this.managePersonNameOrder(this.prefsDocument,t,n),!1;var r=e.order,i=r.split(" ").reverse().toString(),s=i.replace(","," ");return this.updatePreference(this.PERSONNAME_KEY,"order",s),!0},manageSectionOrder:function(e,t){var n=this.LEARNERINFO_KEY,r=this.SECTION_ORDER;e?this.addPreference("",n,!0,null,r,null):!e&&t&&this.updatePreference(n,"order",r)},switchWorkEducationOrder:function(){var e=this.findPreference(this.LEARNERINFO_KEY),t=e===undefined||e===null,n=t===!1&&(e.order===undefined||e.order===null||
e.order==="");if(t||n)return this.manageSectionOrder(t,n),!1;var r=e.order.split(" "),i=e.order.split(" "),s=i.slice(2,4);s.reverse(),r.splice(2,2,s[0],s[1]);var o=r.toString();return this.updatePreference(this.LEARNERINFO_KEY,"order",o.replace(/,/g," ")),!0},toggleCEFLanguageLevelsGrid:function(e){var t=this.findPreference(this.CEFRLEVELS_KEY),n=t===undefined||t===null;return n||t.show==e?!1:(this.updatePreference(this.CEFRLEVELS_KEY,"show",e),!0)},toggleCLJustification:function(e){var t=this.findPreference(this.CL_JUSTIFICATION),n=t===undefined||t===null,r=n===!1&&(t.justify===undefined||t.justify===null||t.justify==="");return n||r||t.justify==e?!1:(this.updatePreference(this.CL_JUSTIFICATION,"justify",e),!0)},unbindGroup:function(t,n){var i=this,s=n===undefined||n===null||n===""?[]:e(n.split(" ")),o=s[0],u=i.findPreference(o);if(u!=null){var a=!0,f=r.escapeForJQuery(o);e(":input:not(button)["+i.bindGroup_attr+'*="'+f+'"]').each(function(t,n){var r=e(n),i=r.val(),s=typeof i=="string"?
e.trim(i):i;if(s.length===0)return a=!1,!1}),a&&i.unbindExistingEntry(t,o)}},unbindEntry:function(e,t,n){var r=this.findPreference(t);r!=null&&this.unbindExistingEntry(e,t,n)},unbindExistingEntry:function(e,t,n){r.inArray(t)?this.removeDocumentsPreference(e,t):this.updatePreference(t,"show",!1,n)},updatePreferenceAttribute:function(e,t,n){var r=e[t];if(r===undefined&&(n===null||n===""))return;if(r===undefined||n!==null&&n!==""){if(r==n)return;e[t]=n}else delete e[t]},updatePreference:function(t,n,i,s){if(this.prefModel!==null){e.isArray(t)===!0&&(t=t[0]);var o=r.addPrefix(this.prefsDocument,t),u=this.findPreference(o);u==null&&(this.addPreference(o,!0,null,null,null),u=this.findPreference(o));if(u===undefined||u===null)return!1;this.updatePreferenceAttribute(u,n,i)}},removeDocumentsPreference:function(e,t){var n;e===undefined||e===null||e===""?n=[this.prefsDocument]:n=e.split(" ");for(var r=0;r<n.length;r++)this.removeDocumentPreference(n[r],t)},removeDocumentPreference:function(e,t){var n=
r.addPrefix(e,t);this.removeByName(n)},removePreference:function(e){var t=r.addPrefix(this.prefsDocument,e);this.removeByName(t)},removeByName:function(e){var t=this.prefModel==null?null:this.prefModel.get(e);t!=null&&this.prefModel.remove(e,{silent:!0})},findPreference:function(e){if(this.prefModel==null)return null;var t=r.addPrefix(this.prefsDocument,e);return this.prefModel.get(t)},addDocumentsPreference:function(e,t,n,r,i){var s;e===undefined||e===null||e===""?s=[this.prefsDocument]:s=e.split(" ");for(var o=0;o<s.length;o++)this.addDocumentPreference(s[o],t,n,r,i)},addDocumentPreference:function(t,n,i,s,o,u){if(this.prefModel==null)return!1;e.isArray(n)===!0&&(n=n[0]);var a=r.addPrefix(t,n);this.prefModel.addPreference(a,i,o,s,u)},updateDocumentsPreference:function(e,t,n,r,i,s){var o;e===undefined||e===null||e===""?o=[this.prefsDocument]:o=e.split(" ");for(var u=0;u<o.length;u++)this.updateDocumentPreference(o[u],t,n,r,i,s)},updateDocumentPreference:function(t,n,i,s,o,u){if(this.prefModel==
null)return!1;e.isArray(n)===!0&&(n=n[0]);var a=r.addPrefix(t,n);this.prefModel.updatePreference(a,i,o,s,u)},addPreference:function(t,n,i,s,o){if(this.prefModel==null)return!1;e.isArray(t)===!0&&(t=t[0]);var u=r.addPrefix(this.prefsDocument,t);this.prefModel.addPreference(u,n,s,i,o)},groupBindingOnly:function(e,t){var n=t!==undefined&&t!==""&&t!=="group";return e!==undefined&&e!=""&&!n},groupAndIndividualBinding:function(e,t){return e!==undefined&&e!=""&&t!==undefined&&t!==""&&t!=="group"},resetToDefaults:function(e){this.prefModel.resetToDefaults(e)},getInputPrefName:function(e){var t=e.attr(this.bindName_attr);t==="group"&&(t=e.attr(this.bindGroup_attr));if(t===undefined||t===null||t==="")t=e.attr(this.name_attr);return t},getInputPrefDocument:function(e){var t=e.attr(this.bindDocument_attr);if(t===undefined||t===null||t==="")t=this.prefsDocument;return t}});return o}),define("views/prefs/FormPrintingPreferencesView",["jquery","underscore","backbone","Utils","europass/GlobalDocumentInstance"
,"models/PrintingPreferencesModel","views/prefs/PrintingPreferencesView","i18n!localization/nls/DateFormat","i18n!localization/nls/DefaultDateFormat","europass/ExperienceDateFormatInstance","models/TranslationManager"],function(e,t,n,r,i,s,o,u,a,f,l){var c=o.extend({prefix:"ECV",root:null,section:null,events:{"europass:form:valid":"submitted","click :button.cancel":"cancelled","change :input:not(:button).pref.Date.format":"manageFormat","change.fs :input:not(:button).pref.Date.format":"manageFormat","change :input:not(:button).PrintingPreferences.Date.format":"updateFormat","change.fs :input:not(:button).PrintingPreferences.Date.format":"updateFormat","change :input:not(:button).pref.Period.global-format":"managePeriodDateFormat","change.fs :input:not(:button).pref.Period.global-format":"managePeriodDateFormat","change :input:not(:button).pref.Certificate.Date.global-format":"manageDateFormatAsPeriod","change.fs :input:not(:button).pref.Certificate.Date.global-format":"manageDateFormatAsPeriod"
,"change :input:not(:button).PrintingPreferences.global-format":"manageGlobalFormat","change.fs :input:not(:button).PrintingPreferences.global-format":"manageGlobalFormat",'change :input:not(:button)[name^="LearnerInfo.Identification.PersonName"]':"setPersonNameOrder",'change.fs :input:not(:button)[name^="LearnerInfo.Identification.PersonName"]':"setPersonNameOrder"},initialize:function(e){this.root=e.root,this.section=e.section,this.contentSection=e.contentSection,this.itemIndex=e.itemIndex,this.emptyJSON={},this.emptyJSON[this.section]={},this.prefsDocument=i.getPrefDocument()},render:function(){this.prefModel=new s(e.extend(!0,{},this.model.getPreferences())),this.liveModel=this.model.preferences},isEmpty:function(n){var r=t.isString(n)?e.trim(n):null;return r==null?!0:r.length==0},manageForeignLanguage:function(e){e.closest("fieldset.ForeignLanguage.ELP.OneLanguage").length>0?this.addForeignLangDefaults(e,"ECV"):e.closest("fieldset.ForeignLanguage.ECV.OneLanguage").length>0&&this.addForeignLangDefaults
(e,"ELP")},addForeignLangDefaults:function(e,t,n){var r=e.attr("rel");this.addDefaultPrefsForSection(r,t,n)},updateFormat:function(t){var n=e(t.target);this.updatePreferenceForInput(n,"format")},manageFormat:function(n){var r=e(n.target),i=r.attr(this.bindGroup_attr);if(i!==undefined&&i!==null&&i!==""){var s=e(i.split(" ")),o=s[0],u=this.findPreference(o);(t.isEmpty(u)||!t.isEmpty(u)&&t.isEmpty(u.format))&&this.updatePreference(name,"format",a[this.prefsDocument])}},manageGlobalFormat:function(n){var i=this,s=e(n.target),o=s.val(),u=this.getInputPrefName(s),a=f.applyFunction({f:"list"},this.prefsDocument);if(t.isArray(a))for(var l=0;a!=null&&l<a.length;l++){var c=a[l];c!==u&&i.updatePreference(c,"format",o)}f.applyFunction({f:"set",args:[r.addPrefix(this.prefsDocument,u),o]},this.prefsDocument),this.updatePreference(u,"format",o),this.globalDateUpdated=!0,this.manageForeignLanguage(s)},manageDateFormatAsPeriod:function(t){var n=e(t.target),r=n.attr(this.bindName_attr);r!==undefined&&r!==
null&&r!==""&&this._manageGlobalDateFormat(r),this.manageForeignLanguage(n)},managePeriodDateFormat:function(t){var n=e(t.target);if(n.is("checkbox")&&!n.is(":checked"))return;var r=n.attr(this.bindGroup_attr);if(r!==undefined&&r!==null&&r!==""){var i=e(r.split(" ")),s=i[0];this._manageGlobalDateFormat(s)}this.manageForeignLanguage(n)},_manageGlobalDateFormat:function(e){f.applyFunction({f:"addToList",args:[r.addPrefix(this.prefsDocument,e)]},this.prefsDocument);var t=this.findPreference(e);if(r.isEmptyObject(t))return!1;var n=t.format,i=f.applyFunction({f:"get"},this.prefsDocument);(n==null||n!=null&&n!==i)&&this.updatePreference(e,"format",i)},setPersonNameOrder:function(n){var r=e(n.target),i=r.val(),s=t.isString(i)?e.trim(i):null;if(s!=null&&s.length>0){var o=this.PERSONNAME_KEY,u=this.findPreference(o),a=u===undefined||u===null,f=a===!1&&(u.order===undefined||u.order===null||u.order==="");(a||f)&&this.managePersonNameOrder(this.prefsDocument,a,f)}},addDefaultPreferences:function(e,
n,i,s){if(r.isEmptyObject(e)===!0)return;for(var o in e)if(o==="array"){var a=t.isArray(n.array);a===!1&&(n.array=[]);var c=n.array.length===0?1:n.array.length,h=e.array[0];for(var p=0;p<c;p++){var d=n.array[p];typeof h=="object"&&(n.array=this.addDefaultPref(n.array,p,h,d,i,s),n.array[p]=this.addDefaultPreferences(h,n.array[p],i,s))}}else{var h=e[o];if(n===undefined||n===null)n={};var d=n[o];if(typeof h=="object"){if(h.format!==undefined&&l.DateFormatPrefs_Regex.test(this.contentSection)&&!t.isEmpty(u.patterns[h.format])){h.format=f.applyFunction({f:"get"},this.prefsDocument);var v=r.addPrefix(this.prefsDocument,r.removeSkillsPassportPrefix(this.contentSection));f.applyFunction({f:"addToList",args:[v]},this.prefsDocument)}n=this.addDefaultPref(n,o,h,d,i,s),n[o]=this.addDefaultPreferences(h,n[o],i,s)}}return n},addDefaultPref:function(e,n,i,s,o,u){if(i!==null&&typeof i=="object"){var a=r.isEmptyObject(s)===!0;if(u===!0||a===!0){if(t.isUndefined(e[n])||t.isNull(e[n]))e[n]={};t.isEmpty(o)?
t.isEmpty(i.show)||(e[n].show=i.show):e[n].show=o,t.isEmpty(i.format)||(e[n].format=i.format),t.isEmpty(i.order)||(e[n].order=i.order)}}return e},addDefaultPrefsForSection:function(e,t,n){if(e===undefined||e===null||e==="")return!1;var i=t===undefined?this.prefsDocument:t,s=r.addPrefix(i,r.removeSkillsPassportPrefix(e)),o=e.match(/(\[\d+\])+$/g),u=s;o!==null&&(u=r.toArrayTxt(s));if(this.prefModel==null)return;var a=this.prefModel.get(u),f=this.prefModel.getDefaultsModel().get(r.toZeroIndexTxt(u));a=this.addDefaultPreferences(f,a,null,n===!0?!0:!1),this.prefModel.set(u,a)},submitted:function(t){this.$el.trigger("europass:waiting:indicator:show"),this.addDefaultPrefsForSection(this.contentSection,this.prefsDocument,!1),this.section!==undefined&&this.section!==null&&this.prefModel!==undefined&&this.prefModel!==null&&(this.liveModel.set(this.prefModel.attributes,{silent:!0}),this.resetPrefModel());var n=!1;this.globalDateUpdated===!0&&(this.globalDateUpdated=!1,n=!0);var r=e(t.target);r.trigger
("europass:form:prefs_changed",[n])},cancelled:function(){this.resetPrefModel()},resetPrefModel:function(){this.prefModel!==undefined&&this.prefModel!==null&&(this.prefModel.clear(),delete this.prefModel,this.prefModel=null)},updatePreferenceForInput:function(e,t){var n=e.val(),r=this.getInputPrefName(e);this.updatePreference(r,t,n)}});return c}),define("hbs!templates/help/modal",["hbs","handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){function c(e,t){var r="",i,s;return r+="fixed-form-tooltip ",(s=n.position)?i=s.call(e,{hash:{}}):(s=e&&e.position,i=typeof s===a?s.call(e,{hash:{}}):s),r+=f(i),r}function h(e,t){return'<button class="fixed-tooltip-close" type="button">X</button>'}function p(e,t){return"fixed-tooltip-wrapper"}function d(e,t){return"fixed-tooltip-inner"}function v(e,t){return'<div class = "btn-toggle-wrapper">\r\n				  <button class="btn-toggle-txt more" type="button">\r\n				  <span></span>\r\n				  </button>\r\n			  </div>\r\n '}this.compilerInfo=[4,">= 1.0.0"
],n=this.merge(n,e.helpers);var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div class="',o=n["if"].call(t,t&&t.tooltip,{hash:{},inverse:l.noop,fn:l.program(1,c,i)});if(o||o===0)s+=o;s+=' form-help " data-rel="',(u=n.id)?o=u.call(t,{hash:{}}):(u=t&&t.id,o=typeof u===a?u.call(t,{hash:{}}):u),s+=f(o)+'">\r\n ',o=n["if"].call(t,t&&t.tooltip,{hash:{},inverse:l.noop,fn:l.program(3,h,i)});if(o||o===0)s+=o;s+='\r\n	<div class=" ',o=n["if"].call(t,t&&t.tooltip,{hash:{},inverse:l.noop,fn:l.program(5,p,i)});if(o||o===0)s+=o;s+=' form-help-wrapper">\r\n		<div class="',o=n["if"].call(t,t&&t.tooltip,{hash:{},inverse:l.noop,fn:l.program(7,d,i)});if(o||o===0)s+=o;s+=' help-message">',(u=n.message)?o=u.call(t,{hash:{}}):(u=t&&t.message,o=typeof u===a?u.call(t,{hash:{}}):u);if(o||o===0)s+=o;s+="\r\n",o=n["if"].call(t,t&&t.tooltip,{hash:{},inverse:l.noop,fn:l.program(9,v,i)});if(o||o===0)s+=o;return s+="</div>\r\n		\r\n	</div>\r\n</div>\r\n",s});return t.registerPartial("templates/help/modal"
,n),n}),define("hbs!templates/help/innermodal",["hbs","handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){function f(e,t){var r="",i,s;r+='<div class="help-message group">',(s=n.group_message)?i=s.call(e,{hash:{}}):(s=e&&e.group_message,i=typeof s===u?s.call(e,{hash:{}}):s);if(i||i===0)r+=i;return r+="</div>",r}function l(e,t){var r="",i,s;r+='<div class="help-message field">',(s=n.message)?i=s.call(e,{hash:{}}):(s=e&&e.message,i=typeof s===u?s.call(e,{hash:{}}):s);if(i||i===0)r+=i;return r+="</div>",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u="function",a=this;o=n["if"].call(t,t&&t.group_message,{hash:{},inverse:a.noop,fn:a.program(1,f,i)});if(o||o===0)s+=o;s+="\r\n\r\n",o=n["if"].call(t,t&&t.message,{hash:{},inverse:a.noop,fn:a.program(3,l,i)});if(o||o===0)s+=o;return s+="\r\n",s});return t.registerPartial("templates/help/innermodal",n),n}),define("europass/TabletInteractionsView",["jquery","underscore","backbone","ModalFormInteractions","Utils"
],function(e,t,n,r,i){var s={};return this.isTablet=/(iPhone|iPod|iPad)/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)||/BlackBerry/.test(navigator.userAgent),s.initialise=function(){e("head").append('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">')},s.touchListener=function(t,n){e(t).find(n).on("click",function(e){s.handleTipSpot(e)})},s.checkIfTooltipShown=function(t){t=e(t).is(".tip.spot")?t:t.closest(".tip.spot");var n=t.children(0).length>0&&t.children(0).is(".tooltip,.in"),r=t.siblings(0).length>0?t.siblings(0).is(".tip.spot")?t.next().is(".tooltip,.in"):t.siblings(0).is(".tooltip,.in"):"",i=n||r;return i},s.addTapHover=function(t){e(".tap-hover").removeClass("tap-hover"),e(t).addClass("tap-hover")},s.handleTipSpot=function(t,n){var r=e(t.currentTarget);if(n!=undefined)switch(n){case"target":r=e(t.target);break;case"currentTarget":r=e(t.currentTarget)}var i=s.checkIfTooltipShown(r),o=[r],u=[e(".tap-hover")];
if(!i)return r.trigger("europass:tooltip:show"),e(o).each(function(){this.addClass("tap-hover")}),!1;e(".tap-hover").removeClass("tap-hover"),e(u).each(function(){this.addClass("tap-hover")}),r.trigger("europass:tooltip:remove")},s.handleModalForm=function(n,r,i){var o=e(n.target),u=!0,a=o.hasClass("opens-modal-form"),f=o.is("button.edit.opens-modal-form")|i;a||(o=e(n.currentTarget)),!f&&isTablet&&(u=s.tapped(n)),o.trigger("europass:tooltip:removeAll"),u&&(f?(e("button.tap-hover.menu,tap-hover,.foreign-language-skills").removeClass("tap-hover"),o.trigger("europass:waiting:indicator:show"),t.isFunction(r.openForm)&&r.openForm(n)):(o.trigger("europass:waiting:indicator:show"),t.isFunction(r.openForm)&&r.openForm(n)))},s.tapped=function(t){var n=e(t.target),r="ontouchstart"in document.documentElement,s=!1,o=i.getDocumentFromWindow(),u=[];if(r&&t.which===0){n.hasClass("opens-modal-form")?(u=n.closest(".foreign-language-skills.empty"),u.length&&(n=u)):n=e(t.currentTarget);if(n.length>0){if(o==="CV"
){var a=(e(t.target).hasClass("nested-modal")||e(t.target).closest(".nested-modal").length>0)&&!e(t.currentTarget).hasClass("nested-modal");if(a)return!1}if(n.hasClass("opens-modal-form")&&!n.hasClass("edit")||u.length)if(n.is(".tap-hover"))e(".tap-hover").removeClass("tap-hover"),s=!0;else{e(".tap-hover").removeClass("tap-hover");switch(o){case"LP":e([n.closest("td.empty"),n]).each(function(){this.addClass("tap-hover")});break;case"ESP":case"CV":case"CL":n.addClass("tap-hover")}}else s=!0;return s}}},s.handleButton=function(t){var n=e(t.currentTarget),r=n.is("button.open-linked-attachments"),i=n.is("button.delete");r&&(n=e(t.target));if(!s.checkIfTooltipShown(n))return e("button.tap-hover,menu.tap-hover").removeClass("tap-hover"),e([n,n.closest("menu")]).each(function(){this.addClass("tap-hover")}),n.trigger("europass:tooltip:show"),!1;r?t.target!==t.currentTarget&&(n.trigger("europass:tooltip:remove"),e(".tap-hover").removeClass("tap-hover")):i&&(n.trigger("europass:tooltip:remove"),e
(".tap-hover").removeClass("tap-hover"),e([n,n.closest("menu")]).each(function(){this.addClass("tap-hover")}))},s.handleSignatureDeletion=function(t){var n=e(t.target);if(!s.checkIfTooltipShown(n))return n.trigger("europass:tooltip:show"),e(n).addClass("tap-hover"),!1;n.trigger("europass:tooltip:removeAll"),e(n).removeClass("tap-hover")},s.handleAttachment=function(t,n){var r=e(t.target);if(!s.checkIfTooltipShown(r))return e("button.tap-hover,menu.tap-hover,a.tap-hover").removeClass("tap-hover"),e([r,r.closest("menu")]).each(function(){this.addClass("tap-hover")}),r.trigger("europass:tooltip:show"),!1;e(r).removeClass("tap-hover"),r.trigger("europass:tooltip:remove")},s.handleAttachmentModalPreview=function(t){var n=e(t.target);if(!s.checkIfTooltipShown(n))return e("button.tap-hover,menu.tap-hover").removeClass("tap-hover"),e([n,n.closest("menu")]).each(function(){this.addClass("tap-hover")}),n.trigger("europass:tooltip:show"),!1;t.target!==t.currentTarget&&(n.trigger("europass:tooltip:remove"
),e(".tap-hover").removeClass("tap-hover"))},s.handleDrivingLicence=function(t){var n=e(t.target),r=e(t.currentTarget),i=e(r).find("input");if(n.is(".css-label.checkbox-label"))return;e("li.tip.selected>input:checked").not("li.tip.selected>input:checked").parent().removeClass("selected"),e(".tap-hover").not(r).removeClass("tap-hover");if(!r.is(".selected")&&!r.is(".tap-hover"))return r.addClass("tap-hover").removeClass("selected").trigger("europass:tooltip:show"),!1;if(r.is(".tap-hover"))r.removeClass("tap-hover").addClass("selected").trigger("europass:tooltip:remove"),i.prop("checked",!0);else if(r.is(".selected")||r.is(" input:checked"))r.removeClass("selected").removeClass("tap-hover"),i.prop("checked",!1);if(n.is("div.icon"))return!1},s.handleForeignLanguageSection=function(t){foreign_language_section=e(".foreign-language-skills"),foreign_language_opens_modal=foreign_language_section.find(".Skills");if(foreign_language_section.hasClass("tap-hover")){e(".tap-hover").removeClass("tap-hover"
);return}return foreign_language_opens_modal.hasClass("empty")?s.addTapHover(foreign_language_section):s.addTapHover(foreign_language_opens_modal),!1},s}),define("views/help/HelpView",["jquery","underscore","backbone","Utils","i18n!localization/nls/EditorHelp","europass/GlobalHelpOptionInstance","hbs!templates/help/modal","hbs!templates/help/innermodal","europass/http/WindowConfigInstance"],function(e,t,n,r,i,s,o,u,a){var f=n.View.extend({tablets:{},TIP_POSITION:"top",HEADER_TIP_POSITION:"top",INPUT_KEY:"data-help-key",GROUP_KEY:"data-help-group",events:{"europass:multipliable:added ":"enableFieldHelp","click :input.help-switch-control":"manageHelpOption","focus :input.formfield.help":"show","blur :input.formfield.help":"hide","europass:rich-text-editor:focused textarea.formfield.help":"show","europass:rich-text-editor:blurred textarea.formfield.help":"hide","mouseenter .formfield-label.css-label.overHelp":"showRadio","mouseleave .formfield-label.css-label.overHelp":"hideRadio","select2-focus .formfield.help"
:"show","select2-blur .formfield.help":"hide","focus :input.formfield.noHelp":"showHeader","europass:rich-text-editor:focused .noHelp":"showHeader","mouseenter :radio.formfield.noHelp":"showHeader","click ":"focusElseWhere","click button.fixed-tooltip-close":"hideTooltip","click button.btn-toggle-txt":"toggleTextExpansion","click .btn-toggle-wrapper":"stopProp","mousedown .eqf-help-link":"eqfHelpClicked","europass:modal:closed ":"onClose","click :button.cancel":"onClose"},initialize:function(e){this.frm=this.$el.find("form"),this.asideHelp=this.$el.find(".side").find(".help-container"),this.section=e.section,this.helpSection=e.helpSection,this.helpSwitch=this.$el.find(":input.help-switch-control"),this.sectionCtx=this.prepareSectionContext(),this.isHelpBuilt=!1,this.isiPad=navigator.userAgent.match(/(iPod|iPhone|iPad)/)!=null,this.isTablet=/(iPhone|iPod|iPad)/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)||/BlackBerry/.test(navigator.userAgent);if(this.isTablet){var t=this
;require(["europass/TabletInteractionsView"],function(e){t.tablets=e})}},onClose:function(){e(window).off("resize",e.proxy(this.onResize)),e(window).off("orientationchange",e.proxy(this.onResize))},getHeaderHelpHeight:function(t){var n="tmp-"+Math.floor(Math.random()*99999),r=e.find("body");e(t).clone().css("position","absolute").css("height","auto").appendTo(r).css("left","-10000em").addClass(n).show();var i=e("."+n)!==undefined?e("."+n).find(".fixed-tooltip-inner"):undefined;return helpHeight=e(i).height(),e("."+n).remove(),helpHeight},onResize:function(){var e=this.$el.find(".fixed-form-tooltip:visible");e!==undefined&&e.length>0&&this.arrangeTltp(e)},render:function(n){this.isOn=s.isOn();var r=s.get(),i=this.$el.find(".help-switch-control");n!==undefined&&n!==null&&t.isBoolean(n)&&(this.forceBuild=n),e(i).addClass(r),e(i).prop("checked","on"===r);var o=this.findHeader();o.length>0&&(this.hideVisible(),o.remove().not().first()),this.isOn?this.buildHelp(this.forceBuild):this.removeHelp
(),e(window).on("resize",e.proxy(this.onResize,this)),e(window).on("orientationchange",e.proxy(this.onResize,this)),this.isiPad&&this.fixIosRubberBand()},buildHelp:function(t){if(t!==!0&&this.isHelpBuilt)return;t===!0&&(this.sectionCtx=this.prepareSectionContext()),this.buildHeaderHelp();var n=this.frm.find(":input:not(button).formfield.help,:input:not(button).formfield.overHelp");for(var r=0;r<n.length;r++){var i=e(n[r]);this.buildInputHelp(i)}},prepareSectionContext:function(){var e=t.isEmpty(this.helpSection)?this.section:this.helpSection,n=r.removeIndexTxt(e),s=i[n],o={};return t.isEmpty(s)||(o.section_message=s,o.id=n),o},buildHeaderHelp:function(){this.findAllHeaders().hide();var n=this.findHeader().length>0;n&&this.showHeader();if(!t.isEmpty(this.sectionCtx)){var r=this.frm.closest(".drawer.main");if(r.length>0){var i={position:this.HEADER_TIP_POSITION,message:this.sectionCtx.section_message,id:"header-help_"+this.helpSection},s=e(o(i));this.asideHelp.prepend(s),i.tooltip=!0;var u=
e(o(i));u.prependTo(r),this.arrangeTltp(u)}}},buildInputId:function(e){var n=e.attr(this.INPUT_KEY);return t.isEmpty(n)&&(n=e.attr(this.GROUP_KEY)),e.attr("name")+"_"+n},buildInputHelp:function(n){var r=this.buildInputId(n),i=this.asideHelp.find('.form-help[data-rel="'+r+'"]');i.length>0&&i.remove().not().first();var s=this.prepareInputContext(n);if(t.isEmpty(s))return;var a=u(s),f={position:n.attr("data-help-position")||this.TIP_POSITION,message:a,id:r},l=e(o(f));l.hide(),this.asideHelp.append(l),f.tooltip=!0;var c=this.frm.closest(".drawer.main"),h=e(o(f));h.hide();var p=this.defineTltp(c,this.helpSection,h);h.prependTo(p)},enableFieldHelp:function(t){var n=e(t.target),r=n.find(":input.copy");r.length>0&&this.buildInputHelp(r)},prepareInputContext:function(e){var n={},s=!1,o=!1,u=e.attr(this.GROUP_KEY);if(!t.isEmpty(u)){var a=u.split(" ");u=a[0],u=r.removeIndexTxt(u);var f=i[u];s=!t.isEmpty(f),s&&(n.group_message=f)}var l=e.attr(this.INPUT_KEY);if(!t.isEmpty(l)){l=r.removeIndexTxt(l);
var c=i[l];o=!t.isEmpty(c),o&&(n.message=c)}if(s||o)n.id=this.buildInputId(e);return n},manageHelpOption:function(e){if(this.isTablet&&t.isFunction(this.tablets.handleTipSpot)&&this.tablets.handleTipSpot(e,"target")===!1)return!1;this.manageHelp(e)},manageHelp:function(t){var n=e(t.target),r=s.get(),i=s.switcher();n.prop("checked","on"===i),n.removeClass(r),n.addClass(i),i=="on"?this.buildHelp(this.forceBuild):i=="off"&&this.removeHelp()},removeHelp:function(){this.$el.find(".form-help").remove(),this.movedLegend(!1)},show:function(t){this.hideVisible(),this.hideHeader();var n=this.buildInputId(e(t.target)),r=this.findRelated(e(t.target)),i="Import_Option_Loc_import.wizard.help.step1.location.option",o="Export_Option_Loc_export.wizard.help.step3.location.option",u=this.$el.find('input[id^="Export_Option_Doc_"]').length>0;n==i||n==o||u?this.showHeader():r.show();var a=r.find(".fixed-tooltip-inner"),f=a.height();f>110&&(!a.hasClass("tltp-hidden")&&!a.hasClass("tltp-visible")?this.renderTxtBtn
(r):a.hasClass("tltp-hidden")?this.toggleTxtBtn("expand",r):a.hasClass("tltp-visible")&&this.toggleTxtBtn("collapse",r)),s.isOn()&&this.isiPad&&this.fixIosScroll()},showHeader:function(){this.hideVisible(),this.findAllHeaders().hide(),this.findHeader().show()},hide:function(t){var n=e(t.target),r=this.findRelated(n);r.not(".fixed-form-tooltip, .has-link").hide()},hideHeader:function(){this.findHeader().hide()},hideVisible:function(){this.$el.find(".form-help:visible").hide()},findRelated:function(e){var t=this.buildInputId(e);return this.$el.find('.form-help[data-rel="'+t+'"]')},findHeader:function(){return this.$el.find('.form-help[data-rel="header-help_'+this.helpSection+'"]')},findAllHeaders:function(){return this.$el.find('[data-rel^="header-help_"]')},showRadio:function(e){var t=this.findRadio(e);if(t.length<=0||t===undefined)this.showHeader();else{this.hideHeader();var n=this.findRelated(t);this.arrangeTltp(n),n.show()}},hideRadio:function(e){var t=this.findRadio(e).hide();this.findRelated
(t).hide(),this.showHeader()},findRadio:function(t){var n=e(t.target);return n.siblings("#"+n.attr("for"))},focusElseWhere:function(t){var n=e(t.target),r=n.is("textarea, :input:text, :input:password, :input:not(:button).formfield, .redactor-editor, .help.placeholder"),i=n.closest(".redactor-editor").length>0,s=n.closest(".formfield-label.css-label").length>0,o=n.is(".eqf-help-link"),u=n.is("button.fixed-tooltip-close"),a=n.is("button.cancel"),f=n.is(":input.help-switch-control"),l=n.is(".tt-dropdown-menu"),c=n.is(".tt-suggestion");if(l||c){(this.isTablet||this.isiPad)&&n.find(".tt-dropdown-menu").trigger("click.tt",[n]);return}var h=n.is("p")&&n.selector==="";!r&&!i&&!s&&!u&&!a&&!f&&!h&&this.showHeader();if(!o){var p=n.closest(".modal"),d=p.find(".has-link");d.length>0&&(d.removeClass("has-link"),d.hide())}},toggleTextExpansion:function(t){var n=e(t.currentTarget),r=n.closest(".fixed-form-tooltip"),i=n.closest(".fixed-tooltip-inner"),s=n.closest(".fixed-tooltip-wrapper"),o=n.closest(".btn-toggle-wrapper"
);i.toggleClass("tltp-hidden"),i.toggleClass("tltp-visible"),n.toggleClass("less"),n.toggleClass("more");if(n.hasClass("less")&&i.hasClass("tltp-visible")){var u=e(s).height();e(s).css("height","auto");var a=e(s).height();s.height(u).animate({height:a},500),o.animate({top:a-40},500),this.toggleTxtBtn("collapse",r)}else s.animate({height:"140px"},500),o.animate({top:"100px"},500),this.toggleTxtBtn("expand",r)},stopProp:function(e){return e.stopPropagation(),!1},hideTooltip:function(t){var n=e(t.target),r=n.closest(".modal"),i=r.find(".help-switch :checkbox");if(s.isOn){var o=s.get();if(o=="on"){var u=s.set("off");i.prop("checked","on"===u),i.removeClass(o),i.addClass(u)}}s.isOn()||this.removeHelp()},arrangeTltp:function(e){if(e.hasClass("fixed-form-tooltip")){var t=this.getHeaderHelpHeight(e),n=e.find(".fixed-tooltip-inner");t>110&&(n.hasClass("tltp-hidden")?this.toggleTxtBtn("expand",e):n.hasClass("tltp-visible")?this.toggleTxtBtn("collapse",e):!n.hasClass("tltp-visible")&&!n.hasClass("tltp-hidden"
)&&this.renderTxtBtn(e)),this.movedLegend(!0)}},movedLegend:function(e){var t=this.frm.find("legend:first"),n="top-help";if(e==1)if(t.hasClass("preview")){var r=t.parent("fieldset.process");r.addClass(n)}else t.addClass(n);else if(e==0)if(t.hasClass("preview")){var r=t.parent("fieldset.process");r.removeClass(n)}else t.removeClass(n)},renderTxtBtn:function(e){var t=e.find(".fixed-tooltip-inner"),n=e.find(".btn-toggle-wrapper"),r=n.find("span.tltp-txt"),s=n.find("span.tltp-img"),o=i["modal.help.tooltip.text.more"],u=n.find(".btn-toggle-txt");t.addClass("tltp-hidden"),n.css({visibility:"visible"}),u.css({"margin-left":"-5%"}),s.css("background-position","0px -275px"),o==undefined?r.text("More"):r.text(o)},toggleTxtBtn:function(e,t){var n=t.find(".btn-toggle-wrapper"),r=n.find("span.tltp-txt"),s=n.find("span.tltp-img"),o=n.find(".btn-toggle-txt"),u=o.width();if(e=="expand"){var a=i["modal.help.tooltip.text.more"];o.css({"margin-left":-(u/2)}),s.css("background-position","0px -275px"),a==undefined?
r.text("More"):r.text(a)}else if(e=="collapse"){var f=i["modal.help.tooltip.text.less"];o.css({"margin-left":-(u/2)}),s.css("background-position","0px -258px"),f===undefined?r.text("Less"):r.text(f)}},eqfHelpClicked:function(t){var n=e(t.currentTarget).closest(".form-help");n.length>0&&n.addClass("has-link")},defineTltp:function(e,t,n){if(e.attr("id")!="ExportWizardForm"&&e.attr("id")!="ImportWizardForm")return e;var r=t.substr(-1),i=e.children('fieldset[data-active-step="'+r+'" ]'),s="help.step",o=n.attr("data-rel").indexOf(s)+s.length,u=n.attr("data-rel").slice(o,o+1);if(r==u){var a=i.parent(".drawer.main");return a}},reflowFixedPositions:function(){document.documentElement.style.paddingRight="1px",setTimeout(function(){document.documentElement.style.paddingRight=""},0)},fixIosScroll:function(){setTimeout(function(){e("html, body").animate({scrollTop:0,scrollLeft:0},0)},0);var t=this.frm;e(document).on("touchmove",function(e){e.preventDefault()},!1),e("body").on("touchstart",t,function(
e){e.currentTarget.scrollTop===0?e.currentTarget.scrollTop=1:e.currentTarget.scrollHeight===e.currentTarget.scrollTop+e.currentTarget.offsetHeight&&(e.currentTarget.scrollTop-=1)}),e("body").on("touchmove",t,function(e){e.stopPropagation()})},fixIosRubberBand:function(){var e=this.frm.find("input.formfield"),t=this.frm.find("textarea.formfield");e!==undefined&&e.length>0&&e.on("touchmove",function(e){e.preventDefault()},!1),t!==undefined&&t.length>0&&t.on("touchmove",function(e){e.preventDefault()},!1)}});return f}),define("europass/structures/ValidationError",["jquery"],function(e){function t(e,t,n){this.elementName=e,this.errorCode=t,this.errorMsgKey=n}return t.prototype={constructor:t},t.prototype.setElementName=function(e){this.elementName=e},t.prototype.setErrorCode=function(e){this.errorCode=e},t.prototype.setErrorMsgKey=function(e){this.errorMsgKey=e},t}),define("localization/nls/ValidationErrorMessages",{root:{"validation.error.ok":"OK","validation.error.noInput":"No input, OK","validation.error.invalidDate"
:"Date is not valid.","validation.error.dateAfterToday":"Date cannot be later than Current Date.","validation.error.negativePeriod":"'From' Date cannot be a later date than 'To' or Current Date.","validation.error.nonexistFrom":"A 'From' Date must exist while a 'To' Date exists or 'Ongoing' is checked.","validation.error.nonexistTo":"A 'To' Date must exist when 'Ongoing' is unchecked.","validation.error.impossibleDate":"Month must have less than [[DD]] days"},bg:!0,es:!0,cs:!0,da:!0,de:!0,et:!0,el:!0,fr:!0,hr:!0,is:!0,it:!0,lv:!0,lt:!0,hu:!0,mk:!0,mt:!0,nl:!0,nb:!0,pl:!0,pt:!0,ro:!0,sk:!0,sl:!0,fi:!0,sv:!0,tr:!0}),define("hbs!templates/forms/validationMessages",["hbs","handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){function f(e,t){var r="",i,s;r+='\r\n<div class="feedback-area" style="',(s=n.style)?i=s.call(e,{hash:{}}):(s=e&&e.style,i=typeof s===o?s.call(e,{hash:{}}):s),r+=u(i)+'">\r\n	<section class="notification ',(s=n.status)?i=s.call(e,{hash:{}}):(s=e&&e.status,i=typeof 
s===o?s.call(e,{hash:{}}):s),r+=u(i)+'">\r\n		<ul>\r\n		',i=n.each.call(e,e&&e.errors,{hash:{},inverse:a.noop,fn:a.program(2,l,t)});if(i||i===0)r+=i;return r+="\r\n		</ul>\r\n	</section>\r\n</div>\r\n",r}function l(e,t){var r="",i,s;return r+="\r\n			<li>",(s=n.message)?i=s.call(e,{hash:{}}):(s=e&&e.message,i=typeof s===o?s.call(e,{hash:{}}):s),r+=u(i)+"</li>\r\n		",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s,o="function",u=this.escapeExpression,a=this;return s=n["if"].call(t,t&&t.errors,{hash:{},inverse:a.noop,fn:a.program(1,f,i)}),s||s===0?s:""});return t.registerPartial("templates/forms/validationMessages",n),n}),define("views/validation/ValidationFormView",["jquery","jqueryuiEffects","underscore","backbone","animatescroll","xdate","europass/structures/ValidationError","i18n!localization/nls/ValidationErrorMessages","i18n!localization/nls/DocumentLabel","i18n!localization/nls/GuiLabel","hbs!templates/forms/validationMessages","europass/http/WindowConfigInstance"
],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=r.View.extend({validationResults:undefined,serverDate:null,events:{"click button.submit:not(.disabled)":"requireValidation","europass:form:invalid":"displayErrorMessages"},initialize:function(e){this.options=e,this.removeStyles(this.$el),this.serverToday=c.serverDateTime,this.errorMessages={ok:"validation.error.ok",noInput:"validation.error.noInput",invalidDate:"validation.error.invalidDate",dateAfterToday:"validation.error.dateAfterToday",impossibleDate:"validation.error.impossibleDate",negativePeriod:"validation.error.negativePeriod",nonexistFrom:"validation.error.nonexistFrom",nonexistTo:"validation.error.nonexistTo"}},dateValidate:function(e,t,n){try{var r=new o;if(e==undefined||t==undefined||n==undefined)return r.setErrorCode(100),r.setErrorMsgKey(this.errorMessages.invalidDate),r;if(e!=""&&t==""&&n!=""||e!=""&&t==""&&n==""||e!=""&&t!=""&&n==""||e==""&&t!=""&&n=="")return r.setErrorCode(100),r.setErrorMsgKey(this.errorMessages.invalidDate),
r;if(e==""&&t==""&&n=="")return r.setErrorCode(1),r.setErrorMsgKey(this.errorMessages.noInput),r;r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok);if(t>=1&&t<=7){if(t==2)if(e>=29){if(n%4!=0||e!=29)return r.setErrorCode(102),r.setErrorMsgKey(this.errorMessages.impossibleDate),r;r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok)}else r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok);switch(t%2){case 0:if(e==31)return r.setErrorCode(102),r.setErrorMsgKey(this.errorMessages.impossibleDate),r;r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok);break;case 1:r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok);break;default:return r.setErrorCode(100),r.setErrorMsgKey(this.errorMessages.invalidDate),r}}else if(t>=8)switch(t%2){case 1:if(e==31)return r.setErrorCode(102),r.setErrorMsgKey(this.errorMessages.impossibleDate),r;r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok);break;case 0:r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok);break;default:
return r.setErrorCode(100),r.setErrorMsgKey(this.errorMessages.invalidDate),r}return r}catch(i){return null}},currentDateValidate:function(e,t,n){try{var r=new o;if(e!=""&&t!=""&&n!=""||e==""&&t!=""&&n!=""||e==""&&t==""&&n!=""){var i=new s(this.serverToday,!0);e==""&&(e=i.getDate()),t==""&&(t=i.getMonth()+1);var u=new s(n,t-1,e,!0);if(u.diffDays(i)<0)return r.setErrorCode(101),r.setErrorMsgKey(this.errorMessages.dateAfterToday),r;r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok)}else r.setErrorCode(0),r.setErrorMsgKey(this.errorMessages.ok);return r}catch(a){return null}},isDateUndefined:function(t){try{if(!n.isArray(t))return!0;for(var r=0;r<t.length;r++){var i=t[r];if(!n.isUndefined(i)&&(i!==""||e.trim(i)!==""))return!1}return!0}catch(s){return!1}},periodValidate:function(e,t,r,i){try{var u=new Array,a=this.isDateUndefined(e)?"empty":new s(e[2],Math.abs(e[1]-1),e[0],!0),f=this.isDateUndefined(t)?"empty":new s(t[2],Math.abs(t[1]-1),t[0],!0);if(typeof e!="undefined"&&e instanceof 
Array&&e.length==3){var l=this.dateValidate(e[0],e[1],e[2]);if(!n.isUndefined(l)&&!n.isNull(l))switch(l.errorCode){case 0:u.push(new o(i+".From",0,this.errorMessages.ok));break;case 1:a="empty",u.push(new o(i+".From",1,this.errorMessages.noInput));break;case 100:return u.push(new o(i+".From",100,this.errorMessages.invalidDate)),u;case 102:u.push(new o(i+".From",102,this.errorMessages.impossibleDate));break;default:u.push(l)}}if(typeof t!="undefined"&&t instanceof Array&&t.length==3){var c=this.dateValidate(t[0],t[1],t[2]);if(!n.isUndefined(c)&&!n.isNull(c))switch(c.errorCode){case 0:u.push(new o(i+".To",0,this.errorMessages.ok));break;case 1:f="empty",u.push(new o(i+".To",1,this.errorMessages.noInput));break;case 100:return u.push(new o(i+".To",100,this.errorMessages.invalidDate)),u;case 102:u.push(new o(i+".To",102,this.errorMessages.impossibleDate));break;default:u.push(c)}}return a=="empty"&&f=="empty"&&(r!=undefined&&r===!1||r==undefined)?new Array(new o(i,1,this.errorMessages.noInput
)):((a==undefined||a=="empty")&&(f instanceof s||r!=undefined&&r===!0)&&u.push(new o(i+".From",202,this.errorMessages.nonexistFrom)),a instanceof s&&r!==undefined&&r===!0&&a.diffDays(new s(this.serverToday),!0)<0&&(u.pop(),u.push(new o(i+".From",201,this.errorMessages.negativePeriod))),a instanceof s&&f instanceof s&&a.diffDays(f)<0&&(u.pop(),u.push(new o(i+".From",201,this.errorMessages.negativePeriod))),u)}catch(h){return[]}},requireValidation:function(t){var r=e(t.target);try{if(!n.isFunction(o))throw"no-constructor-for-validation-error";var i=this;i.removeStyles(this.$el),i.validationResults=new Array;if(this.options.validation===undefined||this.options.validation===null)throw"no-validation-options";var s=this.options.validation.split(" ");if(n.isArray(s)===!1)throw"no-validation-array";for(var u=0;u<s.length;u++){var a=s[u];if(!n.isString(a))continue;var f=!1;switch(a){case"currentDate":f=!0;case"date":var l=i.$el.find("fieldset[class='Birthdate'],fieldset[class='Date']");e.each(l,
function(){var t=e(this),r=t.find("select[name$='Day']").val(),s=t.find("select[name$='Month']").val(),o=t.find("select[name$='Year']").val(),u=new Array,a=undefined;f===!0?a=i.currentDateValidate(r,s,o):a=i.dateValidate(r,s,o),a!==undefined&&a!==null&&(a.elementName=t.closest("fieldset.Date").attr("name"),n.isUndefined(a.elementName)&&(a.elementName="N/A"),u.push(a));if(n.isArray(u)===!1)return;for(var l=0;l<u.length;l++){var c=u[l];if(n.isUndefined(c)||n.isEmpty(c))continue;c.errorCode!=0&&c.errorCode!=1&&i.validationResults.push(c)}});break;case"period":var c=i.$el.find("fieldset[name$='Period']");e.each(c,function(){var t=e(this),r=t.find("select[name$='From.Day']").val(),s=t.find("select[name$='From.Month']").val(),o=t.find("select[name$='From.Year']").val(),u=t.find("input:checkbox[name$='Current']").prop("checked"),a=t.find("select[name$='To.Day']").val(),f=t.find("select[name$='To.Month']").val(),l=t.find("select[name$='To.Year']").val(),c=i.periodValidate(new Array(r,s,o),new Array
(a,f,l),u,t.attr("name"));if(n.isArray(c)===!1)return;for(var h=0;h<c.length;h++){var p=c[h];if(n.isUndefined(p)||n.isEmpty(p))continue;p.errorCode!=0&&p.errorCode!=1&&i.validationResults.push(p)}});break;default:continue}}var h=n.isArray(i.validationResults);if(h===!1)throw"validation-results-no-array";i.validationResults.length===0?r.trigger("europass:form:valid"):this.$el.trigger("europass:form:invalid")}catch(p){r.trigger("europass:form:valid");return}},displayErrorMessages:function(){try{var t=this,r={};if(n.isArray(t.validationResults)===!1)return;var i=t.validationResults.length;if(i==0)return;r.errors=[],r.style="margin-top:10px",r.status="error";for(var s=0;s<i;s++){var o=t.validationResults[s];if(o===undefined||o===null)continue;var c=o.elementName,h="";if(!n.isString(c)||o.errorCode!=100&&o.errorCode!==101&&o.errorCode!==102)this.$el.find("fieldset[name='"+c+"'],fieldset[class$='Period']").find(".formfield.Date").addClass("validation-error");else{var p=/\[([0-9]+)\]/,d=c.replace
(p,"");d=d.replace("Period","Dates"),d=d.replace(p,""),h=a[d];if(h===undefined||h===null)h=f[d];h="'"+h+"' ",this.$el.find("fieldset[name='"+c+"']").find("div.formfield.Date").addClass("validation-error")}var v=u[o.errorMsgKey];if(o.errorCode===102){var m=this.$el.find("fieldset[name='"+c+"']").find("li.selected").attr("data-raw-value");m!==undefined&&m!==null&&m!==""&&(v=v.replace("[[DD]]",m))}var g={};g.message=h+v,r.errors.push(g)}var y=l(r),o=e(y);o.hide(),o.insertAfter(this.$el.find("fieldset:first > header")).slideDown(200),e(".overlay:visible > .modal > .main fieldset:first").animatescroll({element:".overlay:visible > .modal > .main",scrollSpeed:1e3,easing:"easeInOutQuart"})}catch(b){}},removeStyles:function(e){try{e.find(".formfield.Date").removeClass("validation-error"),e.find("div.feedback-area").remove()}catch(t){}}});return h}),define("mapviews/ModalFormViewMap",["jquery","underscore","europass/structures/KeyObjMap","europass/GlobalHelpOptionInstance","mapviews/ModalFormViewMap"
,"models/SkillsPassportInstance","views/forms/DefaultsFormView","views/prefs/FormPrintingPreferencesView","views/help/HelpView","views/validation/ValidationFormView","Utils"],function(e,t,n,r,i,s,o,u,a,f,l){if(i===undefined||i===null){var i=new n;i.instantiateDefaultsView=function(e,t,n,r){var i=new o({el:e.parent()});return i},i.instantiatePrefsView=function(e,t,n,r){var i="SkillsPassport.PrintingPreferences",s="SkillsPassport.PrintingPreferences.ECV",o=new u({el:e.parent(),model:t,root:i,section:s,contentSection:n,itemIndex:r});return o},i.instantiateHelpView=function(e,t,n,r,i){var s=new a({el:e.parent(),root:n,section:r,helpSection:i});return s},i.instantiateValidationView=function(e,t,n,r){var i=new f({el:e.parent(),model:t,section:n,validation:r});return i},i.instantiateFormView=function(e,n,r,s,o,u,a,f,c){var h=u;if(u===undefined||u===null||u==="")h="FormView";var p="",d="assembly/ecvForms";if(t.isString(o)&&o!==""){p=o.toLowerCase();var v="";switch(p){case"attachment":v="esp";break;
default:v=p.indexOf("e")===0?p:"e"+p}d="assembly/"+v+"Forms"}p!==""&&(p+="/"),require([d],function(){var t="views/forms/"+p+h;l.newFormInstance({_className:h,_requireName:t,el:e.parent(),model:n,root:r,section:s},i.instantiateFormViewCallback,i,[a,f,c])})},i.instantiateFormViewCallback=function(t,n,r,i){e.isArray(r)?r.push(i):r=[i],t.apply(n,r)},i.instantiateViews=function(t,n,r,o,u){var a=s,f="SkillsPassport",c=e(l.jId(t)),h=n.section,p={validation:i.instantiateValidationView(c,a,h,n.validationField),defaults:i.instantiateDefaultsView(c,a,f,h),prefs:i.instantiatePrefsView(c,a,h,n.index),help:i.instantiateHelpView(c,a,f,h,n.helpSection)};i.instantiateFormView(c,a,f,h,n.doc,n.clazz,i.instantiateViewsCallback,i,[t,p,r,o,u])},i.instantiateViewsCallback=function(t,n,r,s,o,u){n.form=u,i.put(t,n),e.isArray(o)?o.push(n):o=[n],r.apply(s,o)},i.renderForm=function(e,t,n,r,s){var o=e.form,u=i.get(o);u===null?i.instantiateViews(o,e,i.renderFormCallback,i,[e,t,n,r,s]):i.renderFormCallback(e,t,n,r,s,
u)},i.renderFormCallback=function(t,n,r,i,s,o){var u=o.form;o.prefs.render(),u.setOrigin(t.origin===undefined?"click-origin-compose":t.origin),u.render(t.index,t.subsection),o.defaults.render(),u.enableFunctionalities(),o.help.render(),r!==undefined&&e.isFunction(r)&&r.apply(i,s)},i.instantiateSimpleView=function(t,n,r,o,u){var a=s,f="SkillsPassport",c=e(l.jId(t)),h=n.section,p={help:i.instantiateHelpView(c,a,f,h)};i.instantiateFormView(c,a,f,h,n.doc,n.clazz,i.instantiateSimpleViewCallback,i,[t,p,r,o,u])},i.instantiateSimpleViewCallback=function(t,n,r,s,o,u){n.form=u,i.put(t,n),e.isArray(o)?o.push(n):o=[n],r.apply(s,o)},i.renderSimpleForm=function(e,t,n,r,s){var o=e.form,u=i.get(o);u===null?i.instantiateSimpleView(o,e,i.renderSimpleFormCallback,i,[e,t,n,r,s]):i.renderSimpleFormCallback(e,t,n,r,s,u)},i.renderSimpleFormCallback=function(t,n,i,s,o,u){var a=u.form;a.render(t.index,t.subsection),a.enableFunctionalities(),r.isOn()&&u.help.render(t.helpSection),i!==undefined&&e.isFunction(i)&&
i.apply(s,o)}}return i}),define("ModalFormInteractions",["jquery","jqueryuiEffects","animatescroll","Utils","hbs!templates/main/drawer","models/SkillsPassportInstance","mapviews/ModalFormViewMap"],function(e,t,n,r,i,s,o){var u=["http:","https:","ftp:","mailto:"],a={};return a.getModalForm=function(t,n){var s=e(r.jId(t));if(s===undefined||s===null||s.length==0){var o={id:t,data_rel_section:n},u=i(o),a=e(u);a.appendTo("body");var f=a.find("button.close");s=a.find("form.main"),f.click(function(e,t){s.trigger("europass:modal:closed")})}return s.closest("div.overlay")},a.getSectionInfo=function(e){var t=e.attr("data-rel-form"),n=e.attr("data-rel-doc"),r=e.attr("data-rel-clazz"),i=e.attr("data-rel-section"),s=e.attr("data-rel-index"),o=e.attr("data-rel-subsection"),u=e.attr("data-rel-help-section"),a=e.attr("data-validation-field"),f=e.attr("data-rel-origin"),l={form:t,doc:n,clazz:r,index:s,section:i,subsection:o,helpSection:u,validationField:a,origin:f};return l},a.openForm=function(t){var n=
e(t.currentTarget),i=e(t.target),f=null,l=i.hasClass("open-linked-attachments"),c=i.hasClass("opens-modal-form-lang-empty")||n.hasClass("opens-modal-form-lang-empty"),h=n.hasClass("opens-modal-form-lang-empty"),p=h&&i.hasClass("opens-modal-form-lang-empty")||h&&i.hasClass("noSkipOpen")||!h||!i.hasClass("opens-modal-form");if(h&&i.closest(".language.compose-list.list-item.opens-modal-form").length>0||h&&i.closest(".open-modal-skippme").length>0)p=!1;h&&i.parent("button.subsection.compose-list.add.Skills.opens-modal-form").length>0&&(p=!1);try{f=e.inArray(t.target.protocol,u)!==-1}catch(d){}var v=i.is(":button")&&!i.hasClass("opens-modal-form"),m=(i.hasClass("nested-modal")||i.closest(".nested-modal").length>0)&&!n.hasClass("nested-modal"),g=n.hasClass("disable-editing")&&n.hasClass("list-item");if(f||v||m||g||!p)return;var y=a.getSectionInfo(n);c&&(y=a.setOtherLangEmptyInfo(y));if(r.isEmptyObject(y))return;e("body").trigger("europass:waiting:indicator:show");var b=a.getModalForm(y.form,y
.section);o.renderForm(y,s.attributes,function(t){var n=e(t),r=n!==undefined?n.children(".modal"):undefined,i=r!==undefined?r.children():undefined;n.show(function(){e(this).animate({"background-color":"rgba(0,0,0, 0.7)"},400),r.find("form.drawer").css("overflow-y","scroll"),i!==undefined&&r!==undefined&&i.addBack().show("slide",{direction:"right",easing:"easeInSine"},400,function(){e(this).is("form")&&l&&e(".overlay:visible > .modal > .main fieldset.linked-attachments").animatescroll({element:".overlay:visible > .modal > .main",scrollSpeed:1e3,easing:"easeInOutQuart"}),e("body").trigger("europass:drawer:opened")}),e("body").trigger("europass:waiting:indicator:hide")})},a,[b])},a.setOtherLangEmptyInfo=function(e){return r.isUndefined(e.forminfo)&&(e.form="Form:LearnerInfo.Skills.Linguistic.ForeignLanguage[0]"),r.isUndefined(e.forminfo)&&(e.doc="cv"),r.isUndefined(e.clazz)&&(e.clazz="ForeignLanguageFormView"),r.isUndefined(e.section)&&(e.section="SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage[0]"
),r.isUndefined(e.index)&&(e.index="0"),r.isUndefined(e.helpSection)&&(e.helpSection="Help.SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"),e},a.simpleOpenForm=function(t){var n=e(t.target),r=a.getSectionInfo(n);a.simpleOpenFormByInfo(r)},a.simpleOpenFormByInfo=function(t){var n=a.getModalForm(t.form);o.renderSimpleForm(t,s.attributes,function(t){var n=e(t),r=n!==undefined?n.children(".modal"):undefined,i=r!==undefined?r.children():undefined;n.show(function(){e(this).animate({"background-color":"rgba(0,0,0, 0.7)"},400),r.find("form.drawer").css("overflow-y","scroll"),i!==undefined&&r!==undefined&&i.addBack().show("slide",{direction:"right",easing:"easeInSine"},400,function(){e("body").trigger("europass:drawer:opened")})})},a,[n])},a.confirmDeleteSection=function(t){var n=a.readDeleteButton(t),r=n.section,i=n.relatedView;e(t.target).trigger("europass:delete:requested",[i,r])},a.confirmReset=function(t){var n=a.readDeleteButton(t),r=n.relatedView;e(t.target).trigger("europass:reset:requested"
,[r])},a.readDeleteButton=function(t){var n=e(t.target),r=a.getSectionInfo(n),i=r.section,s=n.attr("data-rel-view");return{section:i,relatedView:s}},a}),define("hbs!templates/messaging/message",["hbs","handlebars","templates/helpers/if_eq"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+='\r\n	<button type="button" class="notification message close ',(s=n.state)?i=s.call(e,{hash:{}}):(s=e&&e.state,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+'"></button>\r\n	',r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.helperMissing;s+='<section class="notification ',(u=n.state)?o=u.call(t,{hash:{}}):(u=t&&t.state,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+'">\r\n	',o=(u=n.if_eq||t&&t.if_eq,a={hash:{compare:"yes"},inverse:c.noop,fn:c.program(1,p,i)},u?u.call(t,t&&t.closable,a):h.call(t,"if_eq",t&&t.closable,a));if(o||o===0)s+=o;s+='\r\n	<div class="message-area" data-rel-key="',
(u=n.messageKey)?o=u.call(t,{hash:{}}):(u=t&&t.messageKey,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+'">\r\n		',(u=n.message)?o=u.call(t,{hash:{}}):(u=t&&t.message,o=typeof u===f?u.call(t,{hash:{}}):u);if(o||o===0)s+=o;return s+="\r\n	</div>	\r\n</section>",s});return t.registerPartial("templates/messaging/message",n),n}),define("views/compose/ComposeView",["jquery","underscore","europass/backbone/EWABackboneView","Utils","ModalFormInteractions","europass/GlobalDocumentInstance","hbs!templates/messaging/message"],function(e,t,n,r,i,s,o){var u=Backbone.EWAView.extend({section:null,scrollPos:0,isAtComposeView:!1,isTablet:!1,tablets:{},documentStoringContainerSelector:"#document-storing-warning",initialRendering:!0,events:{"europass:delete:confirmed ":"proceedDeletion","click .item.skills.opens-modal-form":"getScrollPos","click .opens-modal-form-lang-empty":"getScrollPos",'click [id^="ListItem:LearnerInfo.Achievement"]':"getScrollPos","click .additional.empty":"getScrollPos"},proceedDeletion
:function(e,t){this.$el.trigger("europass:waiting:indicator:show"),this.model.reset(t),e.stopPropagation()},onClose:function(){this.model.unbind("model:linked:attachment:changed",this.reRenderAttachments),this.model.unbind("model:prefs:order:changed",this.reRenderPreferenceOrder),this.model.unbind("model:content:changed",this.reRender),this.model.unbind("model:list:sort:change",this.reRender),this.emptyViewsIndex(),this.cleanupDocumentNotification(),delete this.renderIndicationTarget},onInit:function(e){this.options=e,this.parentView=e.parentView,this.navigation=e.navigation!==null&&e.navigation!==undefined?e.navigation:"",this.section=e.section!==null&&e.section!==undefined?e.section:"",this.index=e.itemIndex!==null&&e.itemIndex!==undefined?e.itemIndex:"",this.model.bind("model:linked:attachment:changed",this.reRenderAttachments,this),this.model.bind("model:prefs:order:changed",this.reRenderPreferenceOrder,this),this.model.bind("model:content:changed",this.reRender,this),this.model.bind
("model:list:sort:change",this.reRender,this),e.initialRendering===!0&&this.render(),this.prepareViewsIndex(),this.isTablet=/(iPhone|iPod|iPad)/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)||/BlackBerry/.test(navigator.userAgent);if(this.isTablet){var t=this;require(["europass/TabletInteractionsView"],function(e){t.tablets=e})}Backbone.EWAView.prototype.onInit.apply(this,[e])},prepareViewsIndex:function(){this.enabledViews=[]},emptyViewsIndex:function(){e(this.enabledViews).each(function(e,n){t.isObject(n)&&t.isFunction(n.close)&&n.close()}),this.enabledViews=[]},addToViewsIndex:function(e){this.enabledViews===undefined&&this.prepareViewsIndex(),this.enabledViews.push(e)},render:function(n,r){if(this.$el.length===0)return!1;var i={};e.extend(!0,i,this.model.attributes),i.Preferences=this.model.preferences.get(s.getPrefDocument()),this.index!==null&&(i.Idx=this.index,i.subsection=this.section.substr(this.section.lastIndexOf(".")+1),i.locale=globalConfig.locale);var o=this
.template(i);if(t.isFunction(n)){var u=this;r===undefined&&(r=[]),this.$el.html(o).promise().done(function(){n.apply(u,r)})}else this.$el.html(o);this.applyTooltip(),this.enabledViews!==undefined&&this.enabledViews!==null&&this.enabledViews.length>0&&this.emptyViewsIndex(),this.enableFunctionalities(this.model)},applyTooltip:function(){},enableFunctionalities:function(e){},reRenderPreferenceOrder:function(e){e===this.section&&this.reRender(this.section,"click-origin-controls")},reRender:function(e,t){var n=null,i=r.getListSection(e);i!==null&&(e=i),e===this.section&&((e==="SkillsPassport.LearnerInfo.WorkExperience"||e==="SkillsPassport.LearnerInfo.Education")&&arguments!==null&&arguments!==undefined&&arguments.length>0&&(n=arguments[2]),this.render(this.reRenderIndicator,[this.doTransition(t),n]))},getScrollPos:function(t){var n=e("body").find("#main-content-area");n!==undefined&&n!==null&&n.length>0&&(this.scrollPos=n.scrollTop(),this.isAtComposeView=!0)},reRenderAttachments:function()
{var t=e("body").find("#main-content-area");t!==undefined&&t!==null&&t.length>0&&this.scrollPos!==undefined&&this.scrollPos>0&&this.isAtComposeView==1&&e(t).animate({scrollTop:this.scrollPos},400,"linear")},reRenderIndicator:function(n,r){var i=this.$el;t.isEmpty(this.renderIndicationTarget)||(i=e(this.renderIndicationTarget)),e("body").trigger("europass:section:updated",[i,n,r]),delete this.renderIndicationTarget},doTransition:function(e){return"click-origin-controls"===e},setRenderIndicationTarget:function(e){t.isEmpty(e)||(this.renderIndicationTarget=e)},openModals:function(n){if(t.isUndefined(n))return;var s=n.clazzes;if(s!==undefined&&s!==null&&e.isArray(s)&&s.length>0){var o=this;e(s).each(function(e,t){t.showFirstTimeOnly===!0&&(n.clazzes.splice(e,1),t.form!==null&&t.form!==undefined?i.simpleOpenFormByInfo(t):t.requirePath!==null&&t.clazz!==null&&(t.driveName!==null&&t.driveName!==undefined?r.newFormInstance({_className:t.clazz,_requireName:t.requirePath,_driveName:t.driveName,model
:o.model},function(e){e.render()},this):r.newFormInstance({_className:t.clazz,_requireName:t.requirePath,model:o.model},function(e){e.render()},this)))})}var u=n.events;if(!t.isEmpty(u))for(var a=0;a<u.length;a++){var f=u[a],l=e(f.el),c=f.event,h=f.args;l.length>0&&!t.isEmpty(c)&&(!t.isEmpty(h)&&t.isArray(h)?l.trigger(c,h):l.trigger(c))}},cleanupDocumentNotification:function(){var t=e(this.documentStoringContainerSelector);t.hide(),t.find("section.notification").remove()},displayDocumentNotification:function(t){var n=e(this.documentStoringContainerSelector);if(n.hasClass("dismissed"))return;var r={};r.state="warning",r.message=t,r.closable="yes";var i=o(r);n.html(i),n.show()}});return u}),define("hbs!templates/compose/cv/header",["hbs","handlebars","templates/helpers/get_text"],function(e,t){var n=t.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a=n.helperMissing,f=this.escapeExpression;return s+='<div class="cv_logo"></div>\r\n<div class="curriculum_vitae">'+
f((o=n.get_text||t&&t.get_text,u={hash:{group:"DocumentLabel"}},o?o.call(t,"Document.Header.CV",u):a.call(t,"get_text","Document.Header.CV",u)))+'</div>\r\n<div class="clear"></div>',s});return t.registerPartial("templates/compose/cv/header",n),t.registerPartial("templates/compose/cv/header",n),n}),define("hbs!templates/compose/footer",["hbs","handlebars","templates/helpers/get_text"],function(e,t){var n=t.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c="function";return s+='<footer>\r\n	<div class="document">\r\n		<span class="document-copyright">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"GuiLabel"}},u?u.call(t,"footerCopyright",a):f.call(t,"get_text","footerCopyright",a)))+'</span>\r\n		<span class="document-europass-link">\r\n			<a href="http://europass.cedefop.europa.eu/',(u=n.locale)?o=u.call(t,{hash:{}}):(u=t&&t.locale,o=typeof u===c?u.call(t,{hash:{}}):u),s+=l(o)+'/legalnotice" title="'+
l((u=n.get_text||t&&t.get_text,a={hash:{group:"GuiLabel"}},u?u.call(t,"/ewa/ewa-global/footer/legal-notice",a):f.call(t,"get_text","/ewa/ewa-global/footer/legal-notice",a)))+'" target="_blank">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"GuiLabel"}},u?u.call(t,"/ewa/ewa-global/footer/legal-notice",a):f.call(t,"get_text","/ewa/ewa-global/footer/legal-notice",a)))+"</a>\r\n		</span>\r\n	</div>\r\n</footer>\r\n\r\n",s});return t.registerPartial("templates/compose/footer",n),t.registerPartial("templates/compose/footer",n),n}),define("hbs!templates/compose/cv/skillspassport",["hbs","handlebars","hbs!templates/compose/cv/header","hbs!templates/compose/footer","templates/helpers/if_eq","templates/helpers/isEmptyObject"],function(e,t){var n=t.template(function(e,t,n,r,i){function c(e,t){return'\r\n		<dl id="Compose:LearnerInfo.WorkExperience" \r\n			class="section work-education subsection-container Work switch">\r\n			\r\n		</dl>\r\n\r\n		<dl id="Compose:LearnerInfo.Education" \r\n			class="section work-education subsection-container Education">\r\n			\r\n		</dl>\r\n	'
}function h(e,t){return'\r\n		<dl id="Compose:LearnerInfo.Education" \r\n			class="section work-education subsection-container Education switch">\r\n			\r\n		</dl>\r\n		\r\n		<dl id="Compose:LearnerInfo.WorkExperience" \r\n			class="section work-education subsection-container Work">\r\n				\r\n		</dl>\r\n	'}function p(e,t){return"\r\n	"}function d(e,t){return'\r\n		<dl id="Compose:LearnerInfo.Achievement" \r\n			class="section subsection-container additional">\r\n			\r\n		</dl>\r\n	'}function v(e,t){return'\r\n		<dl id="Compose:LearnerInfo.ReferenceTo" \r\n			class="section subsection-container annexes">\r\n			\r\n		</dl>\r\n	'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f=this,l=n.helperMissing;s+='\r\n<h2 style="display:none;"><abbr title="Curriculum Vitae">CV</abbr> Document</h2>\r\n\r\n<div class="cv compose">\r\n\r\n<!-- 	<header class="document"> -->\r\n<!-- 		',o=f.invokePartial(r["templates/compose/cv/header"],"templates/compose/cv/header"
,t,n,r);if(o||o===0)s+=o;s+=' -->\r\n<!-- 	</header> -->\r\n	\r\n	<dl id="Compose:LearnerInfo.Identification" \r\n		class="section item opens-modal-form personal"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="PersonalInfoFormView"\r\n		data-rel-form="Form:LearnerInfo.Identification"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Identification"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Identification"\r\n		data-rel-index=""\r\n		data-validation-field="date currentDate">\r\n		\r\n	</dl>\r\n	\r\n	<dl id="Compose:LearnerInfo.Headline" \r\n		class="section item opens-modal-form nested-modal clickeffect"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="HeadlineFormView"\r\n		data-rel-form="Form:LearnerInfo.Headline"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Headline"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Headline"\r\n		data-rel-index="">\r\n			\r\n	</dl>\r\n	\r\n	<div class="work-education-experiences-area">\r\n	',o=(u=n.if_eq||t&&t.if_eq,a={hash:{
compare:"Identification Headline WorkExperience Education Skills Achievement ReferenceTo"},inverse:f.program(3,h,i),fn:f.program(1,c,i)},u?u.call(t,(o=(o=t&&t.Preferences,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.order),a):l.call(t,"if_eq",(o=(o=t&&t.Preferences,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.order),a));if(o||o===0)s+=o;s+='\r\n	</div>\r\n	\r\n	<dl id="Compose:LearnerInfo.Skills" \r\n		class="section subsection-container personalskills">\r\n			\r\n	</dl>\r\n	\r\n	',o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:f.program(7,d,i),fn:f.program(5,p,i)},u?u.call(t,(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Achievement),a):l.call(t,"isEmptyObject",(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Achievement),a));if(o||o===0)s+=o;s+="\r\n	\r\n	",o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:f.program(9,v,i),fn:f.program(5,p,i)},u?u.call(t,(o=(o=t&&t.SkillsPassport,o==null||
o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.ReferenceTo),a):l.call(t,"isEmptyObject",(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.ReferenceTo),a));if(o||o===0)s+=o;s+="\r\n	\r\n</div>\r\n<!--  footer -->\r\n",o=f.invokePartial(r["templates/compose/footer"],"templates/compose/footer",t,n,r);if(o||o===0)s+=o;return s+="\r\n",s});return t.registerPartial("templates/compose/cv/skillspassport",n),n}),define("hbs!templates/attachment/linkedindication",["hbs","handlebars","templates/helpers/get_text"],function(e,t){var n=t.template(function(e,t,n,r,i){function l(e,t){var r="",i,s,f;return r+='\r\n<em class="number-of-attachments linked tip spot active-tip-text" \r\n	data-tip-replacement-text="'+u((i=(i=e&&e.ReferenceTo,i==null||i===!1?i:i.length),typeof i===o?i.apply(e):i))+'"\r\n	data-tip-replacement-key="[[number_of_attachments]]">\r\n	<span class="data-title" style="display:none;">'+u((s=n.get_text||e&&e.get_text,f={hash:{group:"EditorHelp"}},s?s.call(e,"Attachment.Number.Indicator"
,f):a.call(e,"get_text","Attachment.Number.Indicator",f)))+"</span>\r\n	"+u((i=(i=e&&e.ReferenceTo,i==null||i===!1?i:i.length),typeof i===o?i.apply(e):i))+"\r\n</em>\r\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s,o="function",u=this.escapeExpression,a=n.helperMissing,f=this;return s=n["if"].call(t,t&&t.ReferenceTo,{hash:{},inverse:f.noop,fn:f.program(1,l,i)}),s||s===0?s:""});return t.registerPartial("templates/attachment/linkedindication",n),t.registerPartial("templates/attachment/linkedindication",n),n}),define("hbs!templates/menu/itemmenu",["hbs","handlebars","hbs!templates/attachment/linkedindication","templates/helpers/get_text","templates/helpers/if_gteq"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var i="",s,o,u;i+='\r\n		<button type="button" \r\n				name="',(o=n.path)?s=o.call(e,{hash:{}}):(o=e&&e.path,s=typeof o===f?o.call(e,{hash:{}}):o),i+=l(s)+"[",(o=n.index)?s=o.call(e,{hash:{}}):(o=e&&e.index,s=typeof o===f?o.call(e,{hash:{}
}):o),i+=l(s)+']_attach_btn" \r\n				class="open-linked-attachments attach opens-modal-form tip spot nested-tip tip-addRight"\r\n				data-tip.position="top-right">\r\n				<span class="data-title" style="display:none">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Attach.To.Section",u):c.call(e,"get_text","Attach.To.Section",u)))+"</span>\r\n			",s=h.invokePartial(r["templates/attachment/linkedindication"],"templates/attachment/linkedindication",e,n,r);if(s||s===0)i+=s;return i+="\r\n		</button>\r\n	",i}function d(e,t){return"\r\n	"}function v(e,t){var r="",i,s,o;r+='\r\n		<button type="button"\r\n	            name="',(s=n.name)?i=s.call(e,{hash:{}}):(s=e&&e.name,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i),(s=n.path)?i=s.call(e,{hash:{}}):(s=e&&e.path,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i),i=(s=n.if_gteq||e&&e.if_gteq,o={hash:{compare:"0"},inverse:h.noop,fn:h.program(6,m,t)},s?s.call(e,e&&e.index,o):c.call(e,"if_gteq",e&&e.index,o));if(i||i===0)r+=i;r+='_delete_btn"\r\n	            class="delete tip spot nested-tip tip-addRight"\r\n	            data-rel-form="Form:'
,(s=n.form)?i=s.call(e,{hash:{}}):(s=e&&e.form,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i),(s=n.path)?i=s.call(e,{hash:{}}):(s=e&&e.path,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i),i=(s=n.if_gteq||e&&e.if_gteq,o={hash:{compare:"0"},inverse:h.noop,fn:h.program(6,m,t)},s?s.call(e,e&&e.index,o):c.call(e,"if_gteq",e&&e.index,o));if(i||i===0)r+=i;r+='"\r\n	            data-rel-section="SkillsPassport.',(s=n.section)?i=s.call(e,{hash:{}}):(s=e&&e.section,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i),(s=n.path)?i=s.call(e,{hash:{}}):(s=e&&e.path,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i),i=(s=n.if_gteq||e&&e.if_gteq,o={hash:{compare:"0"},inverse:h.noop,fn:h.program(6,m,t)},s?s.call(e,e&&e.index,o):c.call(e,"if_gteq",e&&e.index,o));if(i||i===0)r+=i;r+='"\r\n	            data-rel-view="Compose:',(s=n.view)?i=s.call(e,{hash:{}}):(s=e&&e.view,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i),(s=n.path)?i=s.call(e,{hash:{}}):(s=e&&e.path,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+'"\r\n	            '
,i=(s=n.if_gteq||e&&e.if_gteq,o={hash:{compare:"0"},inverse:h.noop,fn:h.program(8,g,t)},s?s.call(e,e&&e.index,o):c.call(e,"if_gteq",e&&e.index,o));if(i||i===0)r+=i;return r+='\r\n	            data-tip.position="top-right">\r\n	        <span class="data-title" style="display:none">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"EditorHelp"}},s?s.call(e,"Delete.Section",o):c.call(e,"get_text","Delete.Section",o)))+"</span>\r\n	    </button>\r\n   	",r}function m(e,t){var r="",i,s;return r+="[",(s=n.index)?i=s.call(e,{hash:{}}):(s=e&&e.index,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+"]",r}function g(e,t){var r="",i,s;return r+='data-rel-index="',(s=n.index)?i=s.call(e,{hash:{}}):(s=e&&e.index,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+'"',r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f="function",l=this.escapeExpression,c=n.helperMissing,h=this;s+='<menu class="subsection manage" label="Manage ',(u=n.subsection)?o=u.call(t,{hash
:{}}):(u=t&&t.subsection,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+'">\r\n\r\n	<button class="opens-modal-form edit extra"><span>'+l((u=n.get_text||t&&t.get_text,a={hash:{}},u?u.call(t,"Buttons.Edit.Content",a):c.call(t,"get_text","Buttons.Edit.Content",a)))+"</span></button>\r\n		\r\n	",o=n["if"].call(t,t&&t.withAttachments,{hash:{},inverse:h.noop,fn:h.program(1,p,i)});if(o||o===0)s+=o;s+="\r\n	\r\n	",o=n["if"].call(t,t&&t.noDelete,{hash:{},inverse:h.program(5,v,i),fn:h.program(3,d,i)});if(o||o===0)s+=o;return s+="\r\n</menu>",s});return t.registerPartial("templates/menu/itemmenu",n),t.registerPartial("templates/menu/itemmenu",n),n}),define("hbs!templates/compose/personname",["hbs","handlebars","templates/helpers/if_eq","templates/helpers/get_text"],function(e,t){var n=t.template(function(e,t,n,r,i){function c(e,t){var r="",i,s,o;r+="\r\n	",i=(s=n.if_eq||e&&e.if_eq,o={hash:{compare:"FirstName Surname"},inverse:f.program(10,g,t),fn:f.program(2,h,t)},s?s.call(e,(i=(i=(i=(i=e&&e.Preferences
,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.PersonName),i==null||i===!1?i:i.order),o):u.call(e,"if_eq",(i=(i=(i=(i=e&&e.Preferences,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.PersonName),i==null||i===!1?i:i.order),o));if(i||i===0)r+=i;return r+="\r\n",r}function h(e,t){var r="",i;r+="\r\n		",i=n["with"].call(e,(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.PersonName),{hash:{},inverse:f.noop,fn:f.program(3,p,t)});if(i||i===0)r+=i;return r+="\r\n	",r}function p(e,t){var r="",i,s;r+='\r\n		<span id="LearnerInfo.Identification.PersonName.FirstName"  class="',i=n.unless.call(e,e&&e.FirstName,{hash:{},inverse:f.noop,fn:f.program(4,d,t)});if(i||i===0)r+=i;r+=' FirstName">',i=n.unless.call(e,e&&e.FirstName,{hash:{},inverse:f.noop,fn:f.program(6,v,t)});if(i||i===0)r+=i;(s=n.FirstName)?i=s.call(e,{hash:{}}):(s=e&&e.FirstName,i=typeof s===
l?s.call(e,{hash:{}}):s),r+=a(i)+'</span>\r\n		<span id="LearnerInfo.Identification.PersonName.Surname" class="',i=n.unless.call(e,e&&e.Surname,{hash:{},inverse:f.noop,fn:f.program(4,d,t)});if(i||i===0)r+=i;r+=' Surname">',i=n.unless.call(e,e&&e.Surname,{hash:{},inverse:f.noop,fn:f.program(8,m,t)});if(i||i===0)r+=i;return(s=n.Surname)?i=s.call(e,{hash:{}}):(s=e&&e.Surname,i=typeof s===l?s.call(e,{hash:{}}):s),r+=a(i)+"</span>\r\n		",r}function d(e,t){return"default-value"}function v(e,t){var r,i;return a((r=n.get_text||e&&e.get_text,i={hash:{}},r?r.call(e,"LearnerInfo.Identification.PersonName.FirstName",i):u.call(e,"get_text","LearnerInfo.Identification.PersonName.FirstName",i)))}function m(e,t){var r,i;return a((r=n.get_text||e&&e.get_text,i={hash:{}},r?r.call(e,"LearnerInfo.Identification.PersonName.Surname",i):u.call(e,"get_text","LearnerInfo.Identification.PersonName.Surname",i)))}function g(e,t){var r="",i;r+="\r\n		",i=n["with"].call(e,(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?
i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.PersonName),{hash:{},inverse:f.noop,fn:f.program(11,y,t)});if(i||i===0)r+=i;return r+="\r\n	",r}function y(e,t){var r="",i,s;r+='\r\n		<span id="LearnerInfo.Identification.PersonName.Surname" class="',i=n.unless.call(e,e&&e.Surname,{hash:{},inverse:f.noop,fn:f.program(4,d,t)});if(i||i===0)r+=i;r+=' Surname">',i=n.unless.call(e,e&&e.Surname,{hash:{},inverse:f.noop,fn:f.program(8,m,t)});if(i||i===0)r+=i;(s=n.Surname)?i=s.call(e,{hash:{}}):(s=e&&e.Surname,i=typeof s===l?s.call(e,{hash:{}}):s),r+=a(i)+'</span>\r\n		<span id="LearnerInfo.Identification.PersonName.FirstName" class="',i=n.unless.call(e,e&&e.FirstName,{hash:{},inverse:f.noop,fn:f.program(4,d,t)});if(i||i===0)r+=i;r+=' FirstName">',i=n.unless.call(e,e&&e.FirstName,{hash:{},inverse:f.noop,fn:f.program(6,v,t)});if(i||i===0)r+=i;return(s=n.FirstName)?i=s.call(e,{hash:{}}):(s=e&&e.FirstName,i=typeof s===l?s.call(e,{hash:{}}):s),r+=a(i)+"</span>\r\n		",r}function b
(e,t){var r="",i,s,o;r+="\r\n\r\n	",i=(s=n.if_eq||e&&e.if_eq,o={hash:{compare:"FirstName Surname"},inverse:f.program(16,E,t),fn:f.program(14,w,t)},s?s.call(e,(i=(i=(i=(i=e&&e.Preferences,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.PersonName),i==null||i===!1?i:i.order),o):u.call(e,"if_eq",(i=(i=(i=(i=e&&e.Preferences,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.PersonName),i==null||i===!1?i:i.order),o));if(i||i===0)r+=i;return r+="\r\n\r\n",r}function w(e,t){var r="",i,s;r+='\r\n		<span id="LearnerInfo.Identification.PersonName.FirstName" class="default-value">',i=n.unless.call(e,e&&e.FirstName,{hash:{},inverse:f.noop,fn:f.program(6,v,t)});if(i||i===0)r+=i;(s=n.FirstName)?i=s.call(e,{hash:{}}):(s=e&&e.FirstName,i=typeof s===l?s.call(e,{hash:{}}):s),r+=a(i)+'</span>\r\n		<span id="LearnerInfo.Identification.PersonName.Surname" class="default-value">',i=n.unless.call(e,e&&e.Surname,{hash:{},inverse:f.
noop,fn:f.program(8,m,t)});if(i||i===0)r+=i;return(s=n.Surname)?i=s.call(e,{hash:{}}):(s=e&&e.Surname,i=typeof s===l?s.call(e,{hash:{}}):s),r+=a(i)+"</span>\r\n	",r}function E(e,t){var r="",i,s;r+='\r\n		<span id="LearnerInfo.Identification.PersonName.Surname" class="default-value">',i=n.unless.call(e,e&&e.Surname,{hash:{},inverse:f.noop,fn:f.program(8,m,t)});if(i||i===0)r+=i;(s=n.Surname)?i=s.call(e,{hash:{}}):(s=e&&e.Surname,i=typeof s===l?s.call(e,{hash:{}}):s),r+=a(i)+'</span>\r\n		<span id="LearnerInfo.Identification.PersonName.FirstName" class="default-value">',i=n.unless.call(e,e&&e.FirstName,{hash:{},inverse:f.noop,fn:f.program(6,v,t)});if(i||i===0)r+=i;return(s=n.FirstName)?i=s.call(e,{hash:{}}):(s=e&&e.FirstName,i=typeof s===l?s.call(e,{hash:{}}):s),r+=a(i)+"</span>\r\n	",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u=n.helperMissing,a=this.escapeExpression,f=this,l="function";o=n["if"].call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo
),o==null||o===!1?o:o.Identification),o==null||o===!1?o:o.PersonName),{hash:{},inverse:f.program(13,b,i),fn:f.program(1,c,i)});if(o||o===0)s+=o;return s+="\r\n",s});return t.registerPartial("templates/compose/personname",n),t.registerPartial("templates/compose/personname",n),n}),define("hbs!templates/compose/cv/personalinfo",["hbs","handlebars","hbs!templates/menu/itemmenu","hbs!templates/compose/personname","templates/helpers/get_text","templates/helpers/isEmptyObject","templates/helpers/get_obj_metadata","templates/helpers/get_dimension_metadata","templates/helpers/call_partial","templates/helpers/format_address","templates/helpers/each_with_index","templates/helpers/format_link","templates/helpers/format_date","templates/helpers/commalist","templates/helpers/isIdentificationWithPhotoEmpty"],function(e,t){var n=t.template(function(e,t,n,r,i){function d(e,t){var r="",i,s,o;r+='\r\n	<div class="Photo active opens-modal-form nested-modal ',i=(s=n.isEmptyObject||e&&e.isEmptyObject,o={hash
:{},inverse:c.noop,fn:c.program(2,v,t)},s?s.call(e,(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Photo),o):p.call(e,"isEmptyObject",(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Photo),o));if(i||i===0)r+=i;r+='"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="PhotoFormView"\r\n		data-rel-form="Form:LearnerInfo.Identification.Photo"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Identification.Photo"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Identification.Photo"\r\n		data-rel-index=""\r\n		rel="tooltip">\r\n		<span style="display:none;" class="data-title">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"EditorHelp"}},s?s.call(e,"Modify.LearnerInfo.Identification.Photo",o):p.call(e,"get_text","Modify.LearnerInfo.Identification.Photo",o)))+'</span>\r\n			<div class="photo-preview-area">\r\n				<img \r\n					 ',i=(s=n.get_obj_metadata||
e&&e.get_obj_metadata,o={hash:{key:"cropping"},inverse:c.noop,fn:c.program(4,m,t)},s?s.call(e,(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Photo),o):p.call(e,"get_obj_metadata",(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Photo),o));if(i||i===0)r+=i;return r+='\r\n					 \r\n					 	src="'+l((i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Photo),i==null||i===!1?i:i.TempURI),typeof i===f?i.apply(e):i))+'" \r\n					 	alt="'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"EditorPlaceholder"}},s?s.call(e,"LearnerInfo.Identification.Photo",o):p.call(e,"get_text","LearnerInfo.Identification.Photo",o)))+'"/>\r\n			</div>\r\n			\r\n			<button type="button" \r\n					name="LearnerInfo.Identification.Photo_delete_btn" \r\n					class="photo delete tip spot"\r\n					data-rel-section="SkillsPassport.LearnerInfo.Identification.Photo"\r\n					data-rel-view="Compose:LearnerInfo.Identification"\r\n					data-rel-index="">\r\n				 <span class="data-title" style="display:none;">'+
l((s=n.get_text||e&&e.get_text,o={hash:{group:"EditorHelp"}},s?s.call(e,"Delete.Photo",o):p.call(e,"get_text","Delete.Photo",o)))+'</span>\r\n			</button>\r\n		<span class="upload-prompt">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"GuiLabel"}},s?s.call(e,"LearnerInfo.Identification.Photo.Upload.Prompt",o):p.call(e,"get_text","LearnerInfo.Identification.Photo.Upload.Prompt",o)))+"</span>\r\n	</div>\r\n",r}function v(e,t){return"nophoto"}function m(e,t){var r="",i;r+="\r\n					 \r\n					 	",i=n["if"].call(e,e&&e.cropping,{hash:{},inverse:c.program(8,b,t),fn:c.program(5,g,t)});if(i||i===0)r+=i;return r+="\r\n					  	\r\n					 ",r}function g(e,t){var r="",i;r+="\r\n					 		",i=n["with"].call(e,e&&e.cropping,{hash:{},inverse:c.noop,fn:c.program(6,y,t)});if(i||i===0)r+=i;return r+="\r\n					  	",r}function y(e,t){var r="",i,s;return r+='\r\n					 		style="width:',(s=n.width)?i=s.call(e,{hash:{}}):(s=e&&e.width,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+"px;height:",(s=n.height)?i=s.call
(e,{hash:{}}):(s=e&&e.height,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+"px;margin-left:-",(s=n.x)?i=s.call(e,{hash:{}}):(s=e&&e.x,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+"px;margin-top:-",(s=n.y)?i=s.call(e,{hash:{}}):(s=e&&e.y,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+'px;" \r\n					  		',r}function b(e,t){var r="",i,s,o;r+="\r\n					  		",i=(s=n.get_dimension_metadata||e&&e.get_dimension_metadata,o={hash:{},inverse:c.program(14,x,t),fn:c.program(9,w,t)},s?s.call(e,e,o):p.call(e,"get_dimension_metadata",e,o));if(i||i===0)r+=i;return r+="\r\n					  		\r\n					  	",r}function w(e,t){var r="",i,s,o;r+='\r\n					 			style="',o={hash:{},inverse:c.noop,fn:c.program(10,E,t)},(s=n.width)?i=s.call(e,o):(s=e&&e.width,i=typeof s===f?s.call(e,o):s),n.width||(i=h.call(e,i,{hash:{},inverse:c.noop,fn:c.program(10,E,t)}));if(i||i===0)r+=i;o={hash:{},inverse:c.noop,fn:c.program(12,S,t)},(s=n.height)?i=s.call(e,o):(s=e&&e.height,i=typeof s===f?s.call(e,o):s),n.height||(i=h.call(e,i,{hash:{
},inverse:c.noop,fn:c.program(12,S,t)}));if(i||i===0)r+=i;return r+='"\r\n					 		',r}function E(e,t){var n="";return n+="width:"+l(typeof e===f?e.apply(e):e)+"px;",n}function S(e,t){var n="";return n+="height:"+l(typeof e===f?e.apply(e):e)+"px;",n}function x(e,t){return'\r\n					 			style="width:95px;height:110px;"\r\n					  		'}function T(e,t){return"\r\n"}function N(e,t){var r="",i,s,o;r+="\r\n	",i=(s=n.call_partial||e&&e.call_partial,o={hash:{path:"",noDelete:!0},inverse:c.noop,fn:c.program(19,C,t)},s?s.call(e,e,o):p.call(e,"call_partial",e,o));if(i||i===0)r+=i;return r+="\r\n",r}function C(e,t){var i="",s;i+="\r\n		",s=c.invokePartial(r["templates/menu/itemmenu"],"templates/menu/itemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n	",i}function k(e,t){var i="",s,o,u;i+='\r\n	<div class="name value PersonName LearnerInfo.Identification.PersonName">\r\n		',s=c.invokePartial(r["templates/compose/personname"],"templates/compose/personname",e,n,r);if(s||s===0)i+=s;return i+='\r\n		\r\n		<button type="button" \r\n				name="switchPersonNamesOrder"\r\n				class="names switch tip spot nested-tip tip-closerTop">\r\n				<span style="display:none;" class="data-title">'+
l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"LearnerInfo.Identification.PersonName.Switch",u):p.call(e,"get_text","LearnerInfo.Identification.PersonName.Switch",u)))+"</span>\r\n				switch\r\n		</button>\r\n		\r\n	</div>\r\n	",i}function L(e,t){var r="",i;r+='\r\n<div class="PersonalBasic">\r\n\r\n\r\n\r\n',i=n["if"].call(e,(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),{hash:{},inverse:c.noop,fn:c.program(24,A,t)});if(i||i===0)r+=i;r+="\r\n\r\n\r\n",i=n["if"].call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Telephone),{hash:{},inverse:c.noop,fn:c.program(27,M,t)});if(i||i===0)r+=i;r+="\r\n\r\n\r\n",i=n["if"].call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification
),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Email),{hash:{},inverse:c.noop,fn:c.program(35,B,t)});if(i||i===0)r+=i;r+="\r\n\r\n\r\n",i=n["if"].call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),{hash:{},inverse:c.noop,fn:c.program(38,F,t)});if(i||i===0)r+=i;r+="\r\n\r\n\r\n",i=n["if"].call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.InstantMessaging),{hash:{},inverse:c.noop,fn:c.program(42,R,t)});if(i||i===0)r+=i;return r+="\r\n\r\n</div>\r\n",r}function A(e,t){var r="",i,s,o;r+='\r\n<div class="value Address" id="LearnerInfo.Identification.ContactInfo.Address">\r\n		',i=(s=n.format_address||e&&e.format_address,o={hash:{},inverse:c.noop,fn:c.program(25,O,t)},s?s.call(e,(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?
i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o):p.call(e,"format_address",(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o));if(i||i===0)r+=i;return r+="\r\n</div>\r\n",r}function O(e,t){var n="";return n+='\r\n		   <span class="Address">'+l(typeof e===f?e.apply(e):e)+"</span>\r\n		",n}function M(e,t){var r="",i,s,o;r+='\r\n<div class="value Telephone ',i=n.unless.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Telephone),{hash:{},inverse:c.noop,fn:c.program(28,_,t)});if(i||i===0)r+=i;r+='">\r\n',i=(s=n.each_with_index||e&&e.each_with_index,o={hash:{},inverse:c.noop,fn:c.program(30,D,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==
null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Telephone),o):p.call(e,"each_with_index",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Telephone),o));if(i||i===0)r+=i;return r+="\r\n</div>\r\n",r}function _(e,t){return"default-value"}function D(e,t){var r="",i,s;r+='\r\n	<div class="item ',(s=n.index)?i=s.call(e,{hash:{}}):(s=e&&e.index,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+" ",i=n["if"].call(e,(i=e&&e.Use,i==null||i===!1?i:i.Code),{hash:{},inverse:c.program(33,H,t),fn:c.program(31,P,t)});if(i||i===0)r+=i;return r+=' ">\r\n		<span class="Use" style="display:none">'+l((i=(i=e&&e.Use,i==null||i===!1?i:i.Label),typeof i===f?i.apply(e):i))+'</span>\r\n		<span class="Contact">',(s=n.Contact)?i=s.call(e,{hash:{}}):(s=e&&e.Contact,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+"</span>\r\n	</div>\r\n",r}function P(e,t){var n="",r;return n+=" "+
l((r=(r=e&&e.Use,r==null||r===!1?r:r.Code),typeof r===f?r.apply(e):r))+" ",n}function H(e,t){return" telephone-default "}function B(e,t){var r="",i,s,o;r+='\r\n<div class="value Email">\r\n	<span class="Use">'+l((i=(i=(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Email),i==null||i===!1?i:i.Use),i==null||i===!1?i:i.Label),typeof i===f?i.apply(e):i))+"</span>\r\n	",i=(s=n.format_link||e&&e.format_link,o={hash:{type:"email"},inverse:c.noop,fn:c.program(36,j,t)},s?s.call(e,(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Email),i==null||i===!1?i:i.Contact),o):p.call(e,"format_link",(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Email),i==null||i===!1?i:i.Contact),o));
if(i||i===0)r+=i;return r+="\r\n</div>\r\n",r}function j(e,t){var n="",r;n+='\r\n		<span class="Contact">',r=typeof e===f?e.apply(e):e;if(r||r===0)n+=r;return n+="</span>\r\n	",n}function F(e,t){var r="",i,s,o;r+='\r\n<div class="value Website">\r\n',i=(s=n.each_with_index||e&&e.each_with_index,o={hash:{},inverse:c.noop,fn:c.program(39,I,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),o):p.call(e,"each_with_index",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),o));if(i||i===0)r+=i;return r+="\r\n</div>\r\n",r}function I(e,t){var r="",i,s,o;r+='\r\n		<div class="item ',(s=n.index)?i=s.call(e,{hash:{}}):(s=e&&e.index,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+'">\r\n			<span class="Use">'+l((i=(i=e&&e.Use,i==null||i===!1?i:i.Label),typeof i===f?
i.apply(e):i))+"</span>\r\n			",i=(s=n.format_link||e&&e.format_link,o={hash:{type:"website"},inverse:c.noop,fn:c.program(40,q,t)},s?s.call(e,e&&e.Contact,o):p.call(e,"format_link",e&&e.Contact,o));if(i||i===0)r+=i;return r+="\r\n		</div>\r\n",r}function q(e,t){var n="",r;n+='\r\n				<span class="Contact">',r=typeof e===f?e.apply(e):e;if(r||r===0)n+=r;return n+="</span>\r\n			",n}function R(e,t){var r="",i,s,o;r+='\r\n<div class="value InstantMessaging">\r\n',i=(s=n.each_with_index||e&&e.each_with_index,o={hash:{},inverse:c.noop,fn:c.program(43,U,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.InstantMessaging),o):p.call(e,"each_with_index",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.InstantMessaging),o));if(i||i===0)r+=i;return r+="\r\n</div>\r\n",r}function U
(e,t){var r="",i,s;return r+='\r\n	<div class="item ',(s=n.index)?i=s.call(e,{hash:{}}):(s=e&&e.index,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+'">\r\n		<span class="Use">'+l((i=(i=e&&e.Use,i==null||i===!1?i:i.Label),typeof i===f?i.apply(e):i))+'</span>\r\n		<span class="Contact">',(s=n.Contact)?i=s.call(e,{hash:{}}):(s=e&&e.Contact,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+"</span>\r\n	</div>\r\n",r}function z(e,t){var r="",i,s,o;r+='\r\n<div class="PersonalDetails">\r\n\r\n',i=(s=n.isEmptyObject||e&&e.isEmptyObject,o={hash:{},inverse:c.program(46,W,t),fn:c.program(16,T,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Demographics),i==null||i===!1?i:i.Gender),o):p.call(e,"isEmptyObject",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Demographics),i==null||i===!1?i:i.Gender),o));if(i||i===0)r+=i;r+="\r\n\r\n",i=n["if"].call
(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Demographics),i==null||i===!1?i:i.Birthdate),{hash:{},inverse:c.noop,fn:c.program(49,V,t)});if(i||i===0)r+=i;r+="\r\n\r\n",i=n["if"].call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Demographics),i==null||i===!1?i:i.Nationality),{hash:{},inverse:c.noop,fn:c.programWithDepth(52,J,t,e)});if(i||i===0)r+=i;return r+="\r\n\r\n</div>\r\n",r}function W(e,t){var r="",i,s,o;r+='\r\n<dl class="Gender">\r\n	<dt class="label">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Identification.Demographics.Gender",o):p.call(e,"get_text","LearnerInfo.Identification.Demographics.Gender",o)))+'</dt>\r\n	<dd class="value">\r\n		',i=n["if"].call(e,(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i
.Demographics),i==null||i===!1?i:i.Gender),i==null||i===!1?i:i.Label),{hash:{},inverse:c.noop,fn:c.program(47,X,t)});if(i||i===0)r+=i;return r+="\r\n	</dd>\r\n</dl>\r\n",r}function X(e,t){var n="",r;return n+='\r\n			<span class="Gender">'+l((r=(r=(r=(r=(r=(r=e&&e.SkillsPassport,r==null||r===!1?r:r.LearnerInfo),r==null||r===!1?r:r.Identification),r==null||r===!1?r:r.Demographics),r==null||r===!1?r:r.Gender),r==null||r===!1?r:r.Label),typeof r===f?r.apply(e):r))+"</span>\r\n		",n}function V(e,t){var r="",i,s,o;r+='\r\n	<dl class="Birthdate">\r\n		<dt class="label">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Identification.Demographics.Birthdate",o):p.call(e,"get_text","LearnerInfo.Identification.Demographics.Birthdate",o)))+'</dt>\r\n		<dd class="value">\r\n			',i=(s=n.format_date||e&&e.format_date,o={hash:{DocumentType:"ECV"},inverse:c.noop,fn:c.program(50,$,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||
i===!1?i:i.Identification),i==null||i===!1?i:i.Demographics),i==null||i===!1?i:i.Birthdate),(i=(i=(i=(i=e&&e.Preferences,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Demographics),i==null||i===!1?i:i.Birthdate),!0,o):p.call(e,"format_date",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Demographics),i==null||i===!1?i:i.Birthdate),(i=(i=(i=(i=e&&e.Preferences,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Identification),i==null||i===!1?i:i.Demographics),i==null||i===!1?i:i.Birthdate),!0,o));if(i||i===0)r+=i;return r+="\r\n		</dd>\r\n	</dl>\r\n",r}function $(e,t){var n="";return n+='\r\n				<span class="Birthdate">'+l(typeof e===f?e.apply(e):e)+"</span>\r\n			",n}function J(e,t,r){var i="",s,o,u;i+='\r\n	<dl class="Nationality">\r\n		<dt class="label">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"DocumentLabel"}},o?o.call(e,"LearnerInfo.Identification.Demographics.Nationality"
,u):p.call(e,"get_text","LearnerInfo.Identification.Demographics.Nationality",u)))+'</dt>\r\n		<dd class="value">\r\n			',s=(o=n.commalist||e&&e.commalist,u={hash:{},inverse:c.noop,fn:c.program(53,K,t)},o?o.call(e,(s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Identification),s==null||s===!1?s:s.Demographics),s==null||s===!1?s:s.Nationality),(s=(s=(s=(s=(s=r&&r.Preferences,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Identification),s==null||s===!1?s:s.Demographics),s==null||s===!1?s:s.Nationality),s==null||s===!1?s:s.array),u):p.call(e,"commalist",(s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Identification),s==null||s===!1?s:s.Demographics),s==null||s===!1?s:s.Nationality),(s=(s=(s=(s=(s=r&&r.Preferences,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Identification),s==null||s===!1?s:s.Demographics),s==null||s===!1?s:s.Nationality),s==null||s===!1?s:s.array),u));if(s||s===0)i+=s;return i+="\r\n		</dd>\r\n	</dl>\r\n"
,i}function K(e,t){var n="";return n+='\r\n			<span class="Nationality">'+l(typeof e===f?e.apply(e):e)+"</span>\r\n			",n}function Q(e,t){var r="",i,s;return r+='\r\n	<div class="empty add PersonalInfo"\r\n		><span>'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):p.call(e,"get_text","Buttons.Add.Content",s)))+"</span>\r\n	</div>\r\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.blockHelperMissing,p=n.helperMissing;s+='<dt class="label">\r\n	<span class="title">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"DocumentLabel"}},u?u.call(t,"LearnerInfo.Identification",a):p.call(t,"get_text","LearnerInfo.Identification",a)))+'</span>\r\n	\r\n	<div class="clear"></div>\r\n\r\n',o=n["if"].call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),o==null||o===!1?o:o.Photo),{hash:{},inverse:c.program
(16,T,i),fn:c.program(1,d,i)});if(o||o===0)s+=o;s+="\r\n</dt>\r\n\r\n",o=n["if"].call(t,(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),{hash:{},inverse:c.noop,fn:c.program(18,N,i)});if(o||o===0)s+=o;s+='\r\n\r\n\r\n<dd class="personal-details value personal">\r\n	\r\n	\r\n	',o=n["if"].call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),o==null||o===!1?o:o.PersonName),{hash:{},inverse:c.noop,fn:c.program(21,k,i)});if(o||o===0)s+=o;s+="\r\n\r\n",o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:c.program(23,L,i),fn:c.program(16,T,i)},u?u.call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),o==null||o===!1?o:o.ContactInfo),a):p.call(t,"isEmptyObject",(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),o==null||o===!1?o:o.ContactInfo),a));if(o||o===0)s+=o;s+="\r\n\r\n\r\n",o=(u=n.isEmptyObject||
t&&t.isEmptyObject,a={hash:{},inverse:c.program(45,z,i),fn:c.program(16,T,i)},u?u.call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),o==null||o===!1?o:o.Demographics),a):p.call(t,"isEmptyObject",(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),o==null||o===!1?o:o.Demographics),a));if(o||o===0)s+=o;s+="\r\n\r\n\r\n\r\n",o=(u=n.isIdentificationWithPhotoEmpty||t&&t.isIdentificationWithPhotoEmpty,a={hash:{},inverse:c.noop,fn:c.program(55,Q,i)},u?u.call(t,(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),a):p.call(t,"isIdentificationWithPhotoEmpty",(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Identification),a));if(o||o===0)s+=o;return s+="\r\n\r\n</dd> ",s});return t.registerPartial("templates/compose/cv/personalinfo",n),n}),define("europass/http/MediaType",["europass/http/MediaType"],function(e){if(e===undefined||
e===null)var e={json:"application/json",xml:"application/xml",form:"application/x-www-form-urlencoded",multipart:"multipart/form-data"};return e}),define("views/compose/cv/PersonalInfoComposeView",["jquery","underscore","Utils","views/compose/ComposeView","hbs!templates/compose/cv/personalinfo","europass/http/Resource","europass/http/MediaType","europass/http/SessionManagerInstance","views/prefs/PrintingPreferencesView"],function(e,t,n,r,i,s,o,u,a){var f=r.extend({htmlTemplate:i,events:t.extend({"click :button.photo.delete":"requestDeletePhoto","touchstart :button.photo.delete":"requestDeletePhoto","click :button.names.switch":"handlePersonNameOrder","touchstart :button.names.switch":"handlePersonNameOrder"},r.prototype.events),photoSection:"Photo",prefsView:null,onInit:function(e){this.prefsView=new a({model:this.model}),r.prototype.onInit.apply(this,[e])},onClose:function(){r.prototype.onClose.apply(this),t.isObject(this.prefsView)&&t.isFunction(this.prefsView.close)&&this.prefsView.close
(),delete this.prefsView},reRender:function(e,t){var r=n.getListSection(e);r!==null&&(e=r),(e===this.section||e===this.section+"."+this.photoSection)&&this.render(this.reRenderIndicator,[this.doTransition(t)])},requestDeletePhoto:function(e){if(this.isTablet&&t.isFunction(this.tablets.handleTipSpot)&&this.tablets.handleTipSpot(e,"currentTarget")===!1)return!1;this.doDeletePhoto(e)},doDeletePhoto:function(t){var n=e(t.target),r=n.attr("data-rel-section"),i=n.attr("data-rel-view");n.trigger("europass:delete:requested",[i,r])},proceedDeletion:function(e,t){e.stopPropagation(),this.$el.trigger("europass:waiting:indicator:show"),this.removePhoto(t)},updateRemovedPhoto:function(e){this.model.reset(e),this.$el.trigger("europass:waiting:indicator:hide")},removePhoto:function(e){var t=this.model.get(e),n=!1;if(t!==null){var r=t.TempURI;if(r===undefined||r===null||r===""){n=!1;return}var i=new s(r);i._delete({success:{scope:this,callback:function(){n=!0,this.updateRemovedPhoto(e)}},error:{scope:this
,callback:function(t){n=!1,this.updateRemovedPhoto(e)}}})}else n=!1;return n},handlePersonNameOrder:function(e){if(this.prefsView!==undefined&&this.prefsView!==null)return this.isTablet&&t.isFunction(this.tablets.handleTipSpot)&&this.tablets.handleTipSpot(e,"target")===!1?!1:(this.switchPersonNameOrder(),!1)},switchPersonNameOrder:function(e){this.$el.trigger("europass:waiting:indicator:show");var t=this.prefsView.switchPersonNames();t===!0&&(this.model.trigger("prefs:order:changed",this.section),this.render(this.reRenderIndicator,[this.doTransition(e)]))},applyTooltip:function(e){var n=t.isFunction(this.model.info)?this.model.info():null;n.isIdentificationEmpty()?this.$el.addClass("empty").find(".edit").remove():this.$el.removeClass("empty")}});return f}),define("hbs!templates/compose/cv/headline",["hbs","handlebars","hbs!templates/menu/itemmenu","templates/helpers/alignSpecialChars","templates/helpers/get_text","templates/helpers/call_partial","templates/helpers/headlineTypeCode","templates/helpers/if_eq"
,"templates/helpers/nestHtmlLists"],function(e,t){var n=t.template(function(e,t,n,r,i,s){function h(e,t,r){var i="",s,o,u;i+="\r\n		",s=n["if"].call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Headline),s==null||s===!1?s:s.Type),{hash:{},inverse:l.program(8,g,t),fn:l.program(2,p,t)});if(s||s===0)i+=s;i+="\r\n	</dt>	\r\n	",s=(o=n.call_partial||e&&e.call_partial,u={hash:{path:"LearnerInfo.Headline"},inverse:l.noop,fn:l.program(10,y,t)},o?o.call(e,e,u):c.call(e,"call_partial",e,u));if(s||s===0)i+=s;i+='\r\n	<dd class="value\r\n		',s=(o=n.headlineTypeCode||e&&e.headlineTypeCode,u={hash:{},inverse:l.noop,fn:l.program(12,b,t)},o?o.call(e,(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),u):c.call(e,"headlineTypeCode",(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),u));if(s||s===0)i+=s;i+=' Description">\r\n\r\n		',s=n["if"].call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Headline),s==null||s===!1?s:
s.Description),{hash:{},inverse:l.program(24,k,t),fn:l.programWithDepth(15,E,t,r)});if(s||s===0)i+=s;return i+="\r\n		\r\n	</dd>\r\n\r\n",i}function p(e,t){var r="",i;r+="\r\n			",i=n["if"].call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Headline),i==null||i===!1?i:i.Type),i==null||i===!1?i:i.Code),{hash:{},inverse:l.program(5,v,t),fn:l.program(3,d,t)});if(i||i===0)r+=i;return r+="\r\n		",r}function d(e,t){var n="",r;return n+='\r\n				<span class="title">'+f((r=(r=(r=(r=(r=e&&e.SkillsPassport,r==null||r===!1?r:r.LearnerInfo),r==null||r===!1?r:r.Headline),r==null||r===!1?r:r.Type),r==null||r===!1?r:r.Label),typeof r===a?r.apply(e):r))+"</span>\r\n			",n}function v(e,t){var r="",i,s,o;r+='\r\n				<span class="title">',i=(s=n.alignSpecialChars||e&&e.alignSpecialChars,o={hash:{group:"GuiLabel",fallbackKey:"LearnerInfo.Headline.Type",cmsKey:"LearnerInfo.Headline.Title"},inverse:l.noop,fn:l.program(6,m,t)},s?s.call(e,e,o):c.call(e,"alignSpecialChars"
,e,o));if(i||i===0)r+=i;return r+="</span>\r\n			",r}function m(e,t){var n;return n=typeof e===a?e.apply(e):e,n||n===0?n:""}function g(e,t){var r="",i,s,o;r+='\r\n 			<span class="title">',i=(s=n.alignSpecialChars||e&&e.alignSpecialChars,o={hash:{group:"GuiLabel",fallbackKey:"LearnerInfo.Headline.Type",cmsKey:"LearnerInfo.Headline.Title"},inverse:l.noop,fn:l.program(6,m,t)},s?s.call(e,e,o):c.call(e,"alignSpecialChars",e,o));if(i||i===0)r+=i;return r+="</span>\r\n		",r}function y(e,t){var i="",s;i+="\r\n		",s=l.invokePartial(r["templates/menu/itemmenu"],"templates/menu/itemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n	",i}function b(e,t){var r="",i,s,o;r+="\r\n			",i=(s=n.if_eq||e&&e.if_eq,o={hash:{compare:"personal_statement"},inverse:l.noop,fn:l.program(13,w,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Headline),i==null||i===!1?i:i.Type),i==null||i===!1?i:i.Code),o):c.call(e,"if_eq",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i
:i.LearnerInfo),i==null||i===!1?i:i.Headline),i==null||i===!1?i:i.Type),i==null||i===!1?i:i.Code),o));if(i||i===0)r+=i;return r+="\r\n		",r}function w(e,t){return" rich-content"}function E(e,t,r){var i="",s,o,u;i+='\r\n			\r\n			<div class="value Description Label">\r\n				',s=(o=n.headlineTypeCode||r&&r.headlineTypeCode,u={hash:{},inverse:l.program(21,N,t),fn:l.program(16,S,t)},o?o.call(e,(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),u):c.call(e,"headlineTypeCode",(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),u));if(s||s===0)i+=s;return i+="\r\n			</div>\r\n 			\r\n		",i}function S(e,t){var r="",i,s,o;r+="\r\n					",i=(s=n.if_eq||e&&e.if_eq,o={hash:{compare:"personal_statement"},inverse:l.program(19,T,t),fn:l.program(17,x,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Headline),i==null||i===!1?i:i.Type),i==null||i===!1?i:i.Code),o):c.call(e,"if_eq",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==
null||i===!1?i:i.Headline),i==null||i===!1?i:i.Type),i==null||i===!1?i:i.Code),o));if(i||i===0)r+=i;return r+="\r\n				",r}function x(e,t){var r="",i,s,o;return r+='\r\n						<span class="personal-statement">'+f((s=n.nestHtmlLists||e&&e.nestHtmlLists,o={hash:{}},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Headline),i==null||i===!1?i:i.Description),i==null||i===!1?i:i.Label),o):c.call(e,"nestHtmlLists",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Headline),i==null||i===!1?i:i.Description),i==null||i===!1?i:i.Label),o)))+"</span>\r\n					",r}function T(e,t){var n="",r;return n+="\r\n						"+f((r=(r=(r=(r=(r=e&&e.SkillsPassport,r==null||r===!1?r:r.LearnerInfo),r==null||r===!1?r:r.Headline),r==null||r===!1?r:r.Description),r==null||r===!1?r:r.Label),typeof r===a?r.apply(e):r))+"\r\n					",n}function N(e,t){var r="",i,s,o;r+="\r\n					",i=(s=n.if_eq||e&&e.if_eq,o={hash:{compare:"personal_statement"},inverse
:l.program(19,T,t),fn:l.program(22,C,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Headline),i==null||i===!1?i:i.Type),i==null||i===!1?i:i.Code),o):c.call(e,"if_eq",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Headline),i==null||i===!1?i:i.Type),i==null||i===!1?i:i.Code),o));if(i||i===0)r+=i;return r+="\r\n				",r}function C(e,t){var n="",r;n+="\r\n						",r=(r=(r=(r=(r=(r=e&&e.SkillsPassport,r==null||r===!1?r:r.LearnerInfo),r==null||r===!1?r:r.Headline),r==null||r===!1?r:r.Description),r==null||r===!1?r:r.Label),typeof r===a?r.apply(e):r);if(r||r===0)n+=r;return n+="\r\n					",n}function k(e,t){var r="",i,s;return r+='\r\n		<div class="empty add">\r\n			<span>'+f((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):c.call(e,"get_text","Buttons.Add.Content",s)))+'</span>\r\n		</div>\r\n		\r\n<!--			<span class="default-value description">'+f((i=n.get_text||
e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"LearnerInfo.Headline.Description",s):c.call(e,"get_text","LearnerInfo.Headline.Description",s)))+"</span>-->\r\n 		",r}function L(e,t){var r="",i,s,o;r+='\r\n		<span class="title">',i=(s=n.alignSpecialChars||e&&e.alignSpecialChars,o={hash:{group:"GuiLabel",fallbackKey:"LearnerInfo.Headline.Type",cmsKey:"LearnerInfo.Headline.Title"},inverse:l.noop,fn:l.program(6,m,t)},s?s.call(e,e,o):c.call(e,"alignSpecialChars",e,o));if(i||i===0)r+=i;return r+='</span>\r\n	</dt>\r\n	\r\n	<dd class="value">\r\n		<div class="empty add"><span>'+f((s=n.get_text||e&&e.get_text,o={hash:{group:"GuiLabel"}},s?s.call(e,"Buttons.Add.Content",o):c.call(e,"get_text","Buttons.Add.Content",o)))+"</span></div>\r\n	</dd>\r\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var o="",u,a="function",f=this.escapeExpression,l=this,c=n.helperMissing;o+='<dt class="label">\r\n\r\n',u=n["if"].call(t,(u=(u=t&&t.SkillsPassport,u==null||
u===!1?u:u.LearnerInfo),u==null||u===!1?u:u.Headline),{hash:{},inverse:l.program(26,L,i),fn:l.programWithDepth(1,h,i,s)});if(u||u===0)o+=u;return o+="\r\n",o});return t.registerPartial("templates/compose/cv/headline",n),n}),define("views/compose/cv/HeadlineComposeView",["jquery","underscore","views/compose/ComposeView","hbs!templates/compose/cv/headline"],function(e,t,n,r){var i=n.extend({htmlTemplate:r,onInit:function(e){this.model.bind("content:changed:LearnerInfo.Identification.Demographics.Gender.Code",this.genderChanged,this),n.prototype.onInit.apply(this,[e])},onClose:function(){n.prototype.onClose.call(this),this.model.unbind("content:changed:LearnerInfo.Identification.Demographics.Gender.Code",this.genderChanged)},genderChanged:function(e,t){var n="SkillsPassport.LearnerInfo.Headline.Description",r=this.model.translation().chooseOccupationMap(t),i=this.model.get(n);if(i===undefined||i===null)return!1;var s=i.Code;if(s===undefined||s===null)return!1;var o=r.get(s);if(o===undefined||
o===null||o==="")return!1;var u=n+".Label";this.model.set(u,o,{silent:!0}),this.model.trigger("model:content:changed",this.section)},applyTooltip:function(e){var n=t.isFunction(this.model.info)?this.model.info():null,r=this.section.substring(this.section.indexOf("LearnerInfo.")+"LearnerInfo.".length,this.section.length);n.isSectionEmpty(r)?this.$el.addClass("empty"):this.$el.removeClass("empty")}});return i}),function(e,t){function n(t,n){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap=#"+s+"]")[0],!!o&&r(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&r(t)}function r(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var i=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,
NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,s=e
(this[0]);s.length&&s[0]!==document;){if(r=s.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===r?["Left","Right"]:["Top","Bottom"
],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection
:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;i.length>r;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(n,r,i){var s,o,u,a,f={},l=n.split(".")[0];n=n.split(".")[1],s=l+"-"+n,i||(i=r,r=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[l]=e[l]||{},o=e[l][n],u=e[l][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget
(e,n),t):new u(e,n)},e.extend(u,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new r,a.options=e.widget.extend({},a.options),e.each(i,function(n,i){return e.isFunction(i)?(f[n]=function(){var e=function(){return r.prototype[n].apply(this,arguments)},t=function(e){return r.prototype[n].apply(this,e)};return function(){var n,r=this._super,s=this._superApply;return this._super=e,this._superApply=t,n=i.apply(this,arguments),this._super=r,this._superApply=s,n}}(),t):(f[n]=i,t)}),u.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||n:n},f,{constructor:u,namespace:l,widgetName:n,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,u,n._proto)}),delete o._childConstructors):r._childConstructors.push(u),e.widget.bridge(n,u)},e.widget.extend=function(n){for(var i,o,u=r.call(arguments,1),a=0,f=u.length;f>a;a++)for(i in u[a])o=u[a][i],u[a].hasOwnProperty(i)&&o!==t&&(n[i]=e.isPlainObject(o)?e.
isPlainObject(n[i])?e.widget.extend({},n[i],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;e.fn[n]=function(u){var f="string"==typeof u,l=r.call(arguments,1),c=this;return u=!f&&l.length?e.widget.extend.apply(null,[u].concat(l)):u,f?this.each(function(){var r,i=e.data(this,o);return i?e.isFunction(i[u])&&"_"!==u.charAt(0)?(r=i[u].apply(i,l),r!==i&&r!==t?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):t):e.error("no such method '"+u+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+u+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(u||{})._init():e.data(this,o,new i(u,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+
this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass
("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,s,o,u=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(u={},i=n.split("."),n=i.shift(),i.length){for(s=u[n]=e.widget.extend({},this.options[n]),o=0;i.length-1>o;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];if(n=i.pop(),1===arguments.length)return s[n]===t?null:s[n];s[n]=r}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];u[n]=r}return this._setOptions(u),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,r
,i){var s,o=this;"boolean"!=typeof n&&(i=r,r=n,n=!1),i?(r=s=e(r),this.bindings=this.bindings.add(r)):(i=r,r=this.element,s=this.widget()),e.each(i,function(i,u){function a(){return n||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof u?o[u]:u).apply(o,arguments):t}"string"!=typeof u&&(a.guid=u.guid=u.guid||a.guid||e.guid++);var f=i.match(/^(\w+)\s*(.*)$/),l=f[1]+o.eventNamespace,c=f[2];c?s.delegate(c,l,a):r.bind(l,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(
t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4"
,options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,s="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return i&&!s&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(
){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance
:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this
.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.
ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!r||"valid"===this.options.revert&&
r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo
),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"
),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;return i.containment?"window"===i.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent
.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===i.containment?(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):i.containment.constructor===Array?(this.containment=i.containment,undefined):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],r&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this
.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n),undefined):(this.containment=null,undefined)},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(
t){var n,r,i,s,o=this.options,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=t.pageX,f=t.pageY;return this.offset.scroll||(this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(r=this.relative_container.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=
n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(
){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this
.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,function(){var o=!1,u=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==u&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(u.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture
(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable"
).options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed
:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)))),i!==!1&&
e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){var r,i,s,o,u,a,f,l,c,h,p=e(this).data("ui-draggable"),d=p.options,v=d.snapTolerance,m=n.offset.left,g=m+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--)u=p.snapElements[c].left,a=u+p.snapElements[c].width,f=p.snapElements[c].top,l=f+p.snapElements[c].height,u-v>g||m>a+v||f-v>b||y>l+v||!e.contains(p.snapElements[c].item.ownerDocument,p.snapElements[c].item)?(p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements
[c].item})),p.snapElements[c].snapping=!1):("inner"!==d.snapMode&&(r=v>=Math.abs(f-b),i=v>=Math.abs(l-y),s=v>=Math.abs(u-g),o=v>=Math.abs(a-m),r&&(n.position.top=p._convertPositionTo("relative",{top:f-p.helperProportions.height,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u-p.helperProportions.width}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left)),h=r||i||s||o,"outer"!==d.snapMode&&(r=v>=Math.abs(f-y),i=v>=Math.abs(l-b),s=v>=Math.abs(u-m),o=v>=Math.abs(a-g),r&&(n.position.top=p._convertPositionTo("relative",{top:f,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top
:0,left:a-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[c].snapping&&(r||i||s||o||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=r||i||s||o||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});r.length&&(t=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}e.widget("ui.droppable"
,{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?(t=arguments[0],undefined):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},e.ui.ddmanager.droppables[n.scope]=e.ui.ddmanager.droppables[n.scope]||[],e.ui.ddmanager.droppables[n.scope].push(this),n.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,n=e.ui.ddmanager.droppables[this.options.scope];n.length>t;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"===t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply
(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return r&&(r.currentItem||r.element)[0]!==this
.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(i=!0,!1):undefined}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,n,r){if(!n.offset)return!1;var i,s,o=(e.positionAbs||e.position.absolute).left,u=(e.positionAbs||e.position.absolute).top,a=o+e.helperProportions.width,f=u+e.helperProportions.height,l=n.offset.left,c=n.offset.top,
h=l+n.proportions().width,p=c+n.proportions().height;switch(r){case"fit":return o>=l&&h>=a&&u>=c&&p>=f;case"intersect":return o+e.helperProportions.width/2>l&&h>a-e.helperProportions.width/2&&u+e.helperProportions.height/2>c&&p>f-e.helperProportions.height/2;case"pointer":return i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(s,c,n.proportions().height)&&t(i,l,n.proportions().width);case"touch":return(u>=c&&p>=u||f>=c&&p>=f||c>u&&f>p)&&(o>=l&&h>=o||a>=l&&h>=a||l>o&&a>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;s.length>r;r++)if(!(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))){for(i=0;u.length>i;i++)if(u[i]===s[r].element[0]){s
[r].proportions().height=0;continue e}s[r].visible="none"!==s[r].element.css("display"),s[r].visible&&("mousedown"===o&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.
disabled&&!this.greedyChild&&this.visible){var r,s,o,u=e.ui.intersect(t,this,this.options.tolerance),a=!u&&this.isover?"isout":u&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===s}),o.length&&(r=e.data(o[0],"ui-droppable"),r.greedyChild="isover"===a)),r&&"isover"===a&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),r&&"isout"===a&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing
:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,r,i,s,o=this,u=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!u.aspectRatio,aspectRatio:u.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:u.helper||u.ghost||u.animate?u.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"
),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=u.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)r=e.trim(t[n]),s="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+
s+"'></div>"),i.css({zIndex:u.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),u.autoHide&&(this._handles.hide(),e(this.element
).addClass("ui-resizable-autohide").mouseenter(function(){u.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){u.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)r=e(this.handles[n])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart
:function(n){var r,i,s,o=this.options,u=this.element.position(),a=this.element;return this.resizing=!0,/absolute/.test(a.css("position"))?a.css({position:"absolute",top:a.css("top"),left:a.css("left")}):a.is(".ui-draggable")&&a.css({position:"absolute",top:u.top,left:u.left}),this._renderProxy(),r=t(this.helper.css("left")),i=t(this.helper.css("top")),o.containment&&(r+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:r,top:i},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize
.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),a.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(t){var n,r=this.helper,i={},s=this.originalMousePosition,o=this.axis,u=this.position.top,a=this.position.left,f=this.size.width,l=this.size.height,c=t.pageX-s.left||0,h=t.pageY-s.top||0,p=this._change[o];return p?(n=p.apply(this,[t,c,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==u&&(i.top=this.position.top+"px"),this.position.left!==a&&(i.left=this.position.left+"px"),this.size.width!==f&&(i.width=this.size.width+"px"),this.size.height!==l&&(i.height=this.size.height+"px"),r.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop
:function(t){this.resizing=!1;var n,r,i,s,o,u,a,f=this.options,l=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&e.ui.hasScroll(n[0],"left")?0:l.sizeDiff.height,s=r?0:l.sizeDiff.width,o={width:l.helper.width()-s,height:l.helper.height()-i},u=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,a=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null,f.animate||this.element.css(e.extend(o,{top:a,left:u})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!f.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,r,s,o,u,a=this.options;u={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:1/0,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight
:1/0},(this._aspectRatio||e)&&(t=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,r=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,t>u.minWidth&&(u.minWidth=t),s>u.minHeight&&(u.minHeight=s),u.maxWidth>r&&(u.maxWidth=r),u.maxHeight>o&&(u.maxHeight=o)),this._vBoundaries=u},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,r=this.size,s=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(r.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(r.height-e.height),e.left=t.left+(r.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,r=this.axis,s=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,u=n(e.width)&&t.minWidth&&t.minWidth>
e.width,a=n(e.height)&&t.minHeight&&t.minHeight>e.height,f=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(r),h=/nw|ne|n/.test(r);return u&&(e.width=t.minWidth),a&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),u&&c&&(e.left=f-t.minWidth),s&&c&&(e.left=f-t.maxWidth),a&&h&&(e.top=l-t.minHeight),o&&h&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,r,i,s=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(i=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")],t=0;n.length>t;t++)this.borderDif[t]=(parseInt
(n[t],10)||0)+(parseInt(r[t],10)||0);i.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change
.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height
:n.size.height-o},f=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n,r,i,s,o,u,a,f=e(this).data("ui-resizable"),l=f.options,c=f.element,h=l.containment,p=h instanceof e?h.get(0):/parent/.test(h)?c.parent().get(0):h;p&&(f.containerElement=e(p),/document/.test(h)||h===document?(f.containerOffset={left:0,top:0},f.containerPosition={left:0,top:0},f.parentData={element:e(document),left:0,top:0,width:e(document).width(),height
:e(document).height()||document.body.parentNode.scrollHeight}):(n=e(p),r=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){r[e]=t(n.css("padding"+i))}),f.containerOffset=n.offset(),f.containerPosition=n.position(),f.containerSize={height:n.innerHeight()-r[3],width:n.innerWidth()-r[1]},i=f.containerOffset,s=f.containerSize.height,o=f.containerSize.width,u=e.ui.hasScroll(p,"left")?p.scrollWidth:o,a=e.ui.hasScroll(p)?p.scrollHeight:s,f.parentData={element:p,left:i.left,top:i.top,width:u,height:a}))},resize:function(t){var n,r,i,s,o=e(this).data("ui-resizable"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),f.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=u.helper?a.left:0),f.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?
o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?a.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,n=Math.abs((o._helper?o.offset.left-c.left:o.offset.left-c.left)+o.sizeDiff.width),r=Math.abs((o._helper?o.offset.top-c.top:o.offset.top-a.top)+o.sizeDiff.height),i=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),i&&s&&(n-=Math.abs(o.parentData.left)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,l&&(o.size.height=o.size.width/o.aspectRatio)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,l&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;t._helper&&!
n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?r(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],r(n.alsoResize)):e.each(n.alsoResize,function(e){r(e)})},resize:function(t,n){var r=e(this).data("ui-resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=
e(this).data("ui-resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?a(i.alsoResize):e.each(i.alsoResize,function(e,t){a(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).
removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size,i=t.originalSize,s=t.originalPosition,o=t.axis,u="number"==typeof n.grid?[n.grid,n.grid]:n.grid,a=u[0]||1,f=u[1]||1,l=Math.round((r.width-i.width)/a)*a,c=Math.round((r.height-i.height)/f)*f,h=i.width+l,p=i.height+c,d=n.maxWidth&&h>n.maxWidth,v=n.maxHeight&&p>n.maxHeight,m=n.minWidth&&n.minWidth>h,g=n.minHeight&&n.minHeight>p;n.grid=u,m&&(h+=a),g&&(p+=f),d&&(h-=a),v&&(p-=f),/^(se|s|e)$/.test(o)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(o)?(t.size.width=h,t.size.height=p,t.position.top=s.top-c):/^(sw)$/.test(o)?(t.size.width=h,t.size.height=p,t.position.left=s.left-l):(p-f>0?(t.size.height=p,t.position.top=s.top-c):(t.size.height=f,t.position.top=s.top+i.height-f),h-a>0?(t.size.width=h,t.position.left=s.left-l):(t.size.width=a,t.position.left=s.left+i.width-a))}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options
:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options
;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,s=e.data(this,"selectable-item");return s?(r=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),s.unselecting=!r,s.selecting=r,s.selected=r,r?n._trigger("selecting",t,{selecting:s.element}):n._trigger("unselecting",t,{unselecting:s.element}),!1):undefined}))},_mouseDrag:function(t){if(this.dragged=!0
,!this.options.disabled){var n,r=this,i=this.options,s=this.opos[0],o=this.opos[1],u=t.pageX,a=t.pageY;return s>u&&(n=u,u=s,s=n),o>a&&(n=a,a=o,o=n),this.helper.css({left:s,top:o,width:u-s,height:a-o}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),f=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?f=!(n.left>u||s>n.right||n.top>a||o>n.bottom):"fit"===i.tolerance&&(f=n.left>s&&u>n.right&&n.top>o&&a>n.bottom),f?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting"
,t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable"
,e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption
:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=null,i=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(r=e(this),!1):undefined}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target)),r?!this.options.handle||n||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,r){var i,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset
.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex"
)&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?
this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft
()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r),s&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop
:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this
)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this
.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c="x"===this.options.axis||r+f>u&&a>r+f,h="y"===this.options.axis||t+l>s&&o>t+l,p=c&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>s&&o>n-this.helperProportions.width/2&&r+this.helperProportions.height/2>u&&a>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides
:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&r||"left"===s&&!r:i&&("down"===i&&n||"up"===i&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){u.push(this)}var r,i,s,o,u=[],a=[],f=this._connectWith();if(f&&t)for(r=f.length-1;r>=0;r--)for(s=e(f[r]),i=s.length-1;i>=0;i--)o=e.data(s[i],this.widgetFullName),o&&o!==this&&!o.options
.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=a.length-1;r>=0;r--)a[r][0].each(n);return e(u)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=e(h[n]),r=i.length-1;r>=0
;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=c.length-1;n>=0;n--)for(o=c[n][1],u=c[n][0],r=0,f=u.length;f>r;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this
.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===r?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(s)}):"img"===r&&s.attr("src",t.currentItem.attr("src")),n||s.css("visibility","hidden"),s},update:function(e,o){(!n||r.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop"
)||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(r){var s,o,u,a,f,l,c,h,p,d,v=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!e.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(v&&e.contains(this.containers[s].element[0],v.element[0]))continue;v=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",r,this._uiHash(this)),this.containers[s].containerCache.over=0);if(v)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",r,this._uiHash(this)),this.containers[m].containerCache.over=1
);else{for(u=1e4,a=null,d=v.floating||n(this.currentItem),f=d?"left":"top",l=d?"width":"height",c=this.positionAbs[f]+this.offset.click[f],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!d||t(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(h=this.items[o].item.offset()[f],p=!1,Math.abs(h-c)>Math.abs(h+this.items[o][l]-c)&&(p=!0,h+=this.items[o][l]),u>Math.abs(h-c)&&(u=Math.abs(h-c),a=this.items[o],this.direction=p?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(r,a,null,!0):this._rearrange(r,null,this.containers[m].element,!0),this._trigger("change",r,this._uiHash()),this.containers[m]._trigger("change",r,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",r,this._uiHash
(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this
.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left")
,10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).
css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset
.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item
[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(
e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),r=0;i.length>r;r++)i[r].call(this,e
);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(r=0;i.length>r;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),define("jqueryuiSortable",["jquery"],function(e){return function(){var t,n;return t||e.$.ui}}(this)),!function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,n.screenX
,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,r=e.ui.mouse.prototype,i=r._mouseInit,s=r._mouseDestroy;r._touchStart=function(e){var r=this;!n&&r._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,r._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},r._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},r._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},r._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),i.call(t)},r._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),s.call(t)}}}(jQuery),define("jqueryuiTouchPunch",["jquery.ui.widget"],function(e){return function(){var t,n;return t||e.$.ui}}(this)),define("views/interaction/ListView"
,["require","jquery","jqueryuiEffects","jqueryuiSortable","jqueryuiTouchPunch","underscore","backbone","Utils","europass/GlobalDocumentInstance","i18n!localization/nls/GuiLabel"],function(e,t,n,r,i,s,o,u,a,f){var l=o.View.extend({swap:"XXX",events:{"sortstart ":"sortStarted","sortstop ":"sortStopped"},onClose:function(){try{t.data(this.$el,"sortable")&&this.$el.sortable("destroy")}catch(e){}delete this.list,delete this.startPos,delete this.startListArray,delete this.endListArray},initialize:function(e){try{this.currentDocument=a.getPrefDocument();var n=function(e,n){return n.children().each(function(){t(this).width(t(this).width())}),n},r={helper:function(e,n){var r=t(n);return r.css({"max-height":"60px",overflow:"hidden"}),r},handle:".sortable_placeholder",revert:!0,cursor:"move",opacity:.5,containment:"parent",delay:200,items:".compose-list.list-item",placeholder:"item-re-ordering",tolerance:"pointer",scroll:!0,scrollSensitivity:2,scrollSpeed:20,refreshPositions:!1,dropOnEmpty:!1};s.isString
(e.sortableAxis)&&e.sortableAxis!=="both"&&(r.axis=e.sortableAxis),s.isObject(e.sortableConfig)&&!s.isEmpty(e.sortableConfig)&&t.extend(r,e.sortableConfig);if(s.isString(e.type)&&e.type==="tbody"){var i={helper:n};t.extend(r,i)}var o=f["Sortable.Placeholder.Text"];this.dropText=o===undefined?"Drop here":o,s.isFunction(this.$el.sortable)&&(this.$el.sortable(r),this.$el.disableSelection())}catch(u){}},cssOverflowConfigSet:{overflow:"hidden"},cssOverflowConfigUnSet:{overflow:"visible"},cssTmpConfigSet:{height:"60px","max-height":"60px",opacity:"1","margin-top":"20px"},cssTmpConfigUnSet:{height:"","max-height":"","margin-top":"0px"},overlayCls:"draggable-item-overlay",overlaySelector:".draggable-item-overlay",easingSpeed:500,addEffect:function(e){try{var n=this;e.animate(this.cssTmpConfigSet,this.easingSpeed,function(){var e=t(this);e.css(n.cssOverflowConfigSet),e.prepend('<div class="'+n.overlayCls+'"/>')})}catch(r){}},removeEffect:function(e){try{e.css(this.cssTmpConfigUnSet),e.css(this.cssOverflowConfigUnSet
),e.find(this.overlaySelector).remove()}catch(t){}},sortStarted:function(e,n){try{var r=n.item;r.addClass("disable-editing"),r.siblings(".compose-list.empty").hide(),this.uiStartPos=r.index(),this.startPos=this.findRelatedIndex(r),n.placeholder.append("<span>"+this.dropText+"</span>").show(this.easingSpeed);var i=r.is("tr"),s=!i&&r.parents(".esp").length===0;if(s){var o=r.siblings(".compose-list.list-item");o.push(r);for(var u=0;u<o.length;u++)this.addEffect(t(o[u])),t(o[u]).addClass("is-being-dragged");r.addClass("current-drag")}if(i){var a=parseInt(r.attr("data-nested-tds"));isNaN(a)&&(a=r.children("td").length),n.placeholder.html('<td class="empty-item-reorder"><td colspan="'+a+'" class="table-item-re-ordering"><span>'+this.dropText+"</span></td></td>"),n.placeholder.css("height",r.css("height"));var f=r.closest("dl");f.length>0&&f.height(f.height()),r.is("[id^='experience']")?r.css({"margin-left":"4%"}):r.is("[id^='certificate']")&&r.css({"margin-left":"-1.1%"}),this.$el.sortable("option"
,"revert",!1),this.$el.sortable("refreshPositions")}}catch(l){}},findRelatedIndex:function(e){var t=e.attr("data-rel-item-index"),n;return n=t===undefined||t===null?parseInt(e.attr("data-rel-index")):parseInt(t),n},sortStopped:function(e,n){try{var r=t(e.target),i=n.item;i.removeClass("disable-editing"),i.siblings(".compose-list.empty").show();var s=!i.is("tr")&&i.parents(".esp").length===0;if(s){var o=i.siblings(".compose-list.list-item");o.push(i);for(var a=0;a<o.length;a++)this.removeEffect(t(o[a])),t(o[a]).removeClass("is-being-dragged")}var f=n.item;this.removeEffect(f),f.removeClass("current-drag");var l=this.uiStartPos,c=f.index(),h=this.startPos,p=h,d=c+1;if(l>c)d+=1;else{if(!(l<c))return;d-=1}var v=this.$el.find(".compose-list.list-item:nth-child("+d+")");v.length>0&&(p=this.findRelatedIndex(v));if(h==p)return;var m=r;m.is("tbody")&&(m=r.closest("table"));var g=m.attr("data-rel-section"),y=m.attr("data-bind-document"),b=[];y===undefined||y===null||y===""?b=[this.currentDocument
]:b=y.split(" ");for(var a=0;a<b.length;a++){var w=u.removeSkillsPassportPrefix(g)+".array";this.model.preferences.reorderArrayPerDocument(b[a],null,w,h,p)}var o=this.model.get(g);t.isArray(o)&&u.arrayMove(o,h,p),this.model.trigger("list:sort:change",g,h,p)}catch(E){}}});return l}),define("hbs!templates/menu/listitemmenu",["hbs","handlebars","hbs!templates/attachment/linkedindication","templates/helpers/get_text","templates/helpers/if_gteq"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+="[",(s=n.index)?i=s.call(e,{hash:{}}):(s=e&&e.index,i=typeof s===f?s.call(e,{hash:{}}):s),r+=l(i)+"]",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f="function",l=this.escapeExpression,c=n.helperMissing,h=this;s+='<menu class="section manage" label="Manage">\r\n\r\n	<button class="opens-modal-form edit extra"><span>'+l((u=n.get_text||t&&t.get_text,a={hash:{}},u?u.call(t,"Buttons.Edit.Content",a):c.call(t,"get_text"
,"Buttons.Edit.Content",a)))+'</span></button>\r\n\r\n	<button type="button" \r\n			name="',(u=n.path)?o=u.call(t,{hash:{}}):(u=t&&t.path,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+"[",(u=n.index)?o=u.call(t,{hash:{}}):(u=t&&t.index,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+']_attach_btn" \n			class="open-linked-attachments attach opens-modal-form tip spot nested-tip tip-addRight"\r\n			data-tip.position="top-right">\n			<span class="data-title" style="display:none">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"EditorHelp"}},u?u.call(t,"Attach.To.Section",a):c.call(t,"get_text","Attach.To.Section",a)))+"</span>\r\n		",o=h.invokePartial(r["templates/attachment/linkedindication"],"templates/attachment/linkedindication",t,n,r);if(o||o===0)s+=o;s+='\r\n	</button>\r\n	\r\n	<button type="button" \r\n			name="',(u=n.path)?o=u.call(t,{hash:{}}):(u=t&&t.path,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+"[",(u=n.index)?o=u.call(t,{hash:{}}):(u=t&&t.index,o=typeof u===f?u.call(t,{hash:{
}}):u),s+=l(o)+']_delete_btn" \r\n			class="delete tip spot nested-tip tip-addRight"\r\n			data-rel-form="Form:',(u=n.path)?o=u.call(t,{hash:{}}):(u=t&&t.path,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o),o=n["if"].call(t,t&&t.index,{hash:{},inverse:h.noop,fn:h.program(1,p,i)});if(o||o===0)s+=o;s+='"\r\n            data-rel-section="SkillsPassport.',(u=n.path)?o=u.call(t,{hash:{}}):(u=t&&t.path,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o),o=(u=n.if_gteq||t&&t.if_gteq,a={hash:{compare:"0"},inverse:h.noop,fn:h.program(1,p,i)},u?u.call(t,t&&t.index,a):c.call(t,"if_gteq",t&&t.index,a));if(o||o===0)s+=o;return s+='"\r\n			data-rel-view="Compose:',(u=n.path)?o=u.call(t,{hash:{}}):(u=t&&t.path,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+'"\r\n			data-rel-index="',(u=n.index)?o=u.call(t,{hash:{}}):(u=t&&t.index,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+'"\r\n			data-tip.position="top-right">\r\n		<span class="data-title" style="display:none">'+l((u=n.get_text||t&&t.get_text,a={hash:{group
:"EditorHelp"}},u?u.call(t,"Delete.Section",a):c.call(t,"get_text","Delete.Section",a)))+"</span>\r\n	</button>\r\n\r\n</menu>\r\n",s});return t.registerPartial("templates/menu/listitemmenu",n),t.registerPartial("templates/menu/listitemmenu",n),n}),define("hbs!templates/compose/cv/workexperiencelist",["hbs","handlebars","hbs!templates/menu/listitemmenu","templates/helpers/if_eq","templates/helpers/get_text","templates/helpers/if_gt","templates/helpers/isEmptyObject","templates/helpers/each_with_index","templates/helpers/format_date_period","templates/helpers/isOnlyCountry","templates/helpers/format_organisation_address","templates/helpers/format_link","templates/helpers/nestHtmlLists","templates/helpers/with_attachment","templates/helpers/crop_text","templates/helpers/call_partial","templates/helpers/if_last_item","templates/helpers/if_lt","templates/helpers/if_gteq"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+='\r\n		<button type="button" \r\n				name="switchWorkEducationOrder"\r\n				class="work-education-switch  switch tip spot tip-addLeft tip-removeLeft-9pixels"\r\n				data-tip.position="top-left">\r\n				<span class="data-title" style="display:none">'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Buttons.Switch.Section",s):f.call(e,"get_text","Buttons.Switch.Section",s)))+"</span>\r\n		</button>\r\n",r}function d(e,t){var r="",i,s;return r+='\r\n	<span class="sort container">\r\n    <button type="button"\r\n            name="autosort"\r\n            class="autoSort byDate tip spot workExperience tip-removeLeft--10pixels tip-closerTop"\r\n            data-tip.position="top-left">Auto Sort\r\n            <span class="data-title" style="display:none;">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Auto.Sort.Descend",s):f.call(e,"get_text","Auto.Sort.Descend",s)))+"</span>\r\n            </button>\r\n    </span>\r\n    ",r}function v(e,t){var r="",i,s;return r+='\r\n	\r\n		\r\n		<li class="compose-list empty" \r\n			id="ListItem:LearnerInfo.WorkExperience.Empty">\r\n			\r\n			<button type="button" \r\n				name="LearnerInfo.WorkExperience[0]_add_btn" \r\n				class="section compose-list opens-modal-form add empty" \r\n				data-rel-doc="cv"\r\n				data-rel-clazz="WorkExperienceFormView"\r\n				data-rel-form="Form:WorkExperience[0]"\r\n				data-rel-section="SkillsPassport.LearnerInfo.WorkExperience[0]"\r\n				data-rel-help-section="Help.SkillsPassport.LearnerInfo.WorkExperience"\r\n				data-validation-field="date period"\r\n				data-rel-index="0">\r\n				<span class="img-placeholder">&nbsp;</span>\r\n				<span>'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content",s)))+"</span></button>\r\n		</li>\r\n\r\n	",r}function m(e,t,r){var i="",s,o,u;i+="\r\n		",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{},inverse:h.noop,fn:h.programWithDepth(8,g,t,e,r)},o?o.call(e,(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),u):f.call(e,"each_with_index",(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),u));if(s||s===0)i+=s;i+='\r\n		\r\n		\r\n		<li class="compose-list subsection-container empty">\r\n			<button type="button" \r\n				name="LearnerInfo.WorkExperience['+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']_add_btn" \r\n				class="section compose-list add opens-modal-form" \r\n				data-rel-doc="cv"\r\n				data-rel-clazz="WorkExperienceFormView"\r\n				data-rel-form="Form:WorkExperience['+
l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']"\r\n				data-rel-section="SkillsPassport.LearnerInfo.WorkExperience['+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']"\r\n				data-rel-help-section="Help.SkillsPassport.LearnerInfo.WorkExperience"\r\n				data-rel-index="'+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+'"\r\n				data-validation-field="date period">\r\n				<span class="img-placeholder">&nbsp;</span>\r\n				<span>\r\n				',s=(o=n.if_lt||e&&e.if_lt,u={hash:{compare:"1"},inverse:h.noop,fn:h.program(56,K,t)},o?o.call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),u)
:f.call(e,"if_lt",(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;i+="\r\n				",s=(o=n.if_gteq||e&&e.if_gteq,u={hash:{compare:"1"},inverse:h.noop,fn:h.program(58,Q,t)},o?o.call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),u):f.call(e,"if_gteq",(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;return i+="\r\n				</span>\r\n			</button>\r\n		</li>\r\n	",i}function g(e,t,r,i){var s="",o,u,a;s+='\r\n		\r\n				<li class="compose-list list-item opens-modal-form" \r\n					id="ListItem:LearnerInfo.WorkExperience[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']" \r\n					data-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=
l(o)+'"\r\n					data-rel-doc="cv"\r\n					data-rel-clazz="WorkExperienceFormView"\r\n					data-rel-form="Form:WorkExperience[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n					data-rel-section="SkillsPassport.LearnerInfo.WorkExperience[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n					data-rel-help-section="Help.SkillsPassport.LearnerInfo.WorkExperience"\r\n					data-rel-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+'"\r\n					data-validation-field="date period">\r\n					\r\n					',o=n["if"].call(e,e&&e.Period,{hash:{},inverse:h.noop,fn:h.program(9,y,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					",o=n["if"].call(e,e&&e.Position,{hash:{},inverse:h.noop,fn:h.program(12,w,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					",o=n["if"].call(e,e&&e.Employer,{hash:{},inverse:h.noop,fn:h.program(14,E,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					\r\n					"
,o=n["if"].call(e,e&&e.Activities,{hash:{},inverse:h.noop,fn:h.program(35,B,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					",o=n["if"].call(e,(o=e&&e.Employer,o==null||o===!1?o:o.Sector),{hash:{},inverse:h.noop,fn:h.program(37,j,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					\r\n					",o=n["if"].call(e,e&&e.ReferenceTo,{hash:{},inverse:h.noop,fn:h.programWithDepth(40,I,t,i)});if(o||o===0)s+=o;s+=" \r\n					\r\n					",o=(u=n.call_partial||e&&e.call_partial,a={hash:{path:"LearnerInfo.WorkExperience",buttons:"Extra"},inverse:h.noop,fn:h.program(47,W,t)},u?u.call(e,e,a):f.call(e,"call_partial",e,a));if(o||o===0)s+=o;s+="\r\n					",o=(u=n.if_gt||i&&i.if_gt,a={hash:{compare:"1"},inverse:h.noop,fn:h.programWithDepth(49,X,t,r)},u?u.call(e,(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.WorkExperience),o==null||o===!1?o:o.length),a):f.call(e,"if_gt",(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.WorkExperience),o==null||o===!1?o:o.length
),a));if(o||o===0)s+=o;return s+="\r\n				</li>\r\n					\r\n		",s}function y(e,t){var r="",i,s,o;r+='\r\n						<dd class="content-label Period">\r\n							',i=(s=n.format_date_period||e&&e.format_date_period,o={hash:{DocumentType:"ECV"},inverse:h.noop,fn:h.program(10,b,t)},s?s.call(e,e&&e.Period,(i=(i=e&&e.current_pref_item,i==null||i===!1?i:i.Period),i==null||i===!1?i:i.format),!1,o):f.call(e,"format_date_period",e&&e.Period,(i=(i=e&&e.current_pref_item,i==null||i===!1?i:i.Period),i==null||i===!1?i:i.format),!1,o));if(i||i===0)r+=i;return r+="\r\n						</dd>\r\n					",r}function b(e,t){var n="",r;n+='\r\n								<span class="PeriodRange">',r=typeof e===c?e.apply(e):e;if(r||r===0)n+=r;return n+="</span>\r\n							",n}function w(e,t){var n="",r;return n+='\r\n					<dd class="value Position">\r\n						<span class="Position">'+l((r=(r=e&&e.Position,r==null||r===!1?r:r.Label),typeof r===c?r.apply(e):r))+"</span>\r\n					</dd>\r\n					",n}function E(e,t){var r="",i;r+='\r\n					<dd class="value Employer">\r\n						'
,i=n["if"].call(e,(i=e&&e.Employer,i==null||i===!1?i:i.Name),{hash:{},inverse:h.noop,fn:h.program(15,S,t)});if(i||i===0)r+=i;r+="\r\n						\r\n						",i=n["if"].call(e,(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),{hash:{},inverse:h.noop,fn:h.program(17,x,t)});if(i||i===0)r+=i;r+="\r\n						\r\n						",i=n["if"].call(e,(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),{hash:{},inverse:h.noop,fn:h.program(31,D,t)});if(i||i===0)r+=i;return r+="\r\n						\r\n					</dd>\r\n					",r}function S(e,t){var n="",r;return n+='\r\n							<span class="Name">'+l((r=(r=e&&e.Employer,r==null||r===!1?r:r.Name),typeof r===c?r.apply(e):r))+"</span>\r\n						",n}function x(e,t){var r="",i;r+='\r\n							<div class="Address ',i=n.unless.call(e,(i=(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),i==null||i===!1?i:i.AddressLine),{hash:{},inverse:h.noop,fn:h.program(18,T,t)});if(
i||i===0)r+=i;r+='">\r\n							',i=n.unless.call(e,(i=(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),i==null||i===!1?i:i.AddressLine),{hash:{},inverse:h.noop,fn:h.program(21,C,t)});if(i||i===0)r+=i;r+="\r\n							",i=n["if"].call(e,(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),{hash:{},inverse:h.noop,fn:h.program(28,M,t)});if(i||i===0)r+=i;return r+="\r\n							</div>\r\n						",r}function T(e,t){var r;return r=n.unless.call(e,(r=(r=(r=(r=e&&e.Employer,r==null||r===!1?r:r.ContactInfo),r==null||r===!1?r:r.Address),r==null||r===!1?r:r.Contact),r==null||r===!1?r:r.PostalCode),{hash:{},inverse:h.noop,fn:h.program(19,N,t)}),r||r===0?r:""}function N(e,t){return"minimal"}function C(e,t){var r="",i;r+="\r\n								",i=n.unless.call(e,(i=(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),i==null||i===!1?
i:i.PostalCode),{hash:{},inverse:h.noop,fn:h.program(22,k,t)});if(i||i===0)r+=i;return r+="\r\n							",r}function k(e,t){var r="",i;r+="\r\n									",i=n["if"].call(e,(i=e&&e.Employer,i==null||i===!1?i:i.Name),{hash:{},inverse:h.noop,fn:h.program(23,L,t)});if(i||i===0)r+=i;return r+="\r\n								",r}function L(e,t){var r="",i,s,o;r+="\r\n										",i=(s=n.isOnlyCountry||e&&e.isOnlyCountry,o={hash:{},inverse:h.program(26,O,t),fn:h.program(24,A,t)},s?s.call(e,(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o):f.call(e,"isOnlyCountry",(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o));if(i||i===0)r+=i;return r+="\r\n									",r}function A(e,t){return"\r\n										    &nbsp;\r\n										"}function O(e,t){return'\r\n											<span class="comma-separator">, </span>\r\n										'}function M(e,t){var r="",i,s,o;r+="\r\n								",i=(s=n.format_organisation_address||
e&&e.format_organisation_address,o={hash:{},inverse:h.noop,fn:h.program(29,_,t)},s?s.call(e,(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o):f.call(e,"format_organisation_address",(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o));if(i||i===0)r+=i;return r+="\r\n							",r}function _(e,t){var n="";return n+='\r\n									<span class="Address">'+l(typeof e===c?e.apply(e):e)+"</span>\r\n								",n}function D(e,t){var r="",i;r+='\r\n							<div class="Website">\r\n							',i=n["if"].call(e,(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),i==null||i===!1?i:i.Contact),{hash:{},inverse:h.noop,fn:h.program(32,P,t)});if(i||i===0)r+=i;return r+="\r\n							</div>\r\n						",r}function P(e,t){var r="",i,s,o;r+='\r\n								<span class="Website">\r\n								',i=(s=n.format_link||e&&e.format_link,o={hash:{type:"website"},inverse:
h.noop,fn:h.program(33,H,t)},s?s.call(e,(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),i==null||i===!1?i:i.Contact),o):f.call(e,"format_link",(i=(i=(i=e&&e.Employer,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),i==null||i===!1?i:i.Contact),o));if(i||i===0)r+=i;return r+="\r\n								</span>\r\n							",r}function H(e,t){var n;return n=typeof e===c?e.apply(e):e,n||n===0?n:""}function B(e,t){var r="",i,s;return r+='\r\n					<dd class="value rich-content Activities">\r\n							'+l((i=n.nestHtmlLists||e&&e.nestHtmlLists,s={hash:{}},i?i.call(e,e&&e.Activities,s):f.call(e,"nestHtmlLists",e&&e.Activities,s)))+"\r\n					</dd>\r\n					",r}function j(e,t){var r="",i,s,o;r+='\r\n						<dd class="value rich-content Sector">\r\n							<span class="Sector inner-content-label">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.WorkExperience.Employer.Sector",o):f.call(e,"get_text","LearnerInfo.WorkExperience.Employer.Sector"
,o)))+"</span>\r\n						",i=n["if"].call(e,(i=(i=e&&e.Employer,i==null||i===!1?i:i.Sector),i==null||i===!1?i:i.Label),{hash:{},inverse:h.noop,fn:h.program(38,F,t)});if(i||i===0)r+=i;return r+="\r\n						</dd>\r\n					",r}function F(e,t){var n="",r;return n+='\r\n							<span class="Sector">'+l((r=(r=(r=e&&e.Employer,r==null||r===!1?r:r.Sector),r==null||r===!1?r:r.Label),typeof r===c?r.apply(e):r))+"</span>\r\n						",n}function I(e,t,r){var i="",s,o,u;i+='\r\n						<dd class="value attachment">\r\n							<span class="attachment inner-content-label">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"DocumentLabel"}},o?o.call(e,"LearnerInfo.WorkExperience.ReferenceTo",u):f.call(e,"get_text","LearnerInfo.WorkExperience.ReferenceTo",u)))+"</span>\r\n								",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{index_name:"index2"},inverse:h.noop,fn:h.programWithDepth(41,q,t,r)},o?o.call(e,e&&e.ReferenceTo,u):f.call(e,"each_with_index",e&&e.ReferenceTo,u));if(s||s===0)i+=s;return i+="\r\n						</dd>\r\n					"
,i}function q(e,t,r){var i="",s,o,u;i+="\r\n									",s=(o=n.with_attachment||r&&r.with_attachment,u={hash:{},inverse:h.noop,fn:h.programWithDepth(42,R,t,e)},o?o.call(e,(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u):f.call(e,"with_attachment",(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u));if(s||s===0)i+=s;return i+="\r\n								",i}function R(e,t,r){var i="",s,o,u;i+='\r\n										<span class="linked-attachment" name="',(o=n.Name)?s=o.call(e,{hash:{}}):(o=e&&e.Name,s=typeof o===c?o.call(e,{hash:{}}):o),i+=l(s)+'">\r\n											',s=(o=n.if_gt||r&&r.if_gt,u={hash:{compare:"0"},inverse:h.noop,fn:h.program(43,U,t)},o?o.call(e,r&&r.index2,u):f.call(e,"if_gt",r&&r.index2,u));if(s||s===0)i+=s;i+="\r\n											",s=(o=n.crop_text||e&&e.crop_text,u={hash:{},inverse:h.noop,fn:h.program(45,z,t)},o?o.call(e,e&&e.Description,u):f.call(e,"crop_text",e&&e.Description,u));if(s||s===0)i+=s;return i+="\r\n										</span>\r\n									",i}function U(e,t){return", "
}function z(e,t){return l(typeof e===c?e.apply(e):e)}function W(e,t){var i="",s;i+="\r\n						",s=h.invokePartial(r["templates/menu/listitemmenu"],"templates/menu/listitemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n					",i}function X(e,t,r){var i="",s,o,u;i+='\r\n<!-- 						<span class="sortable_placeholder tip spot" data-tip.position="top-left"> -->\r\n<!-- 						<span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Reorder.List.Sections",u):f.call(e,"get_text","Reorder.List.Sections",u)))+'</span> -->\r\n                          \r\n						<button type="button"\r\n						        name="move_up"\r\n						        class="sort-move-up  ',s=(o=n.if_eq||e&&e.if_eq,u={hash:{compare:"0"},inverse:h.program(52,$,t),fn:h.program(50,V,t)},o?o.call(e,e&&e.index,u):f.call(e,"if_eq",e&&e.index,u));if(s||s===0)i+=s;i+='"\r\n						        data-tip.position="top-left">\r\n          \r\n						        <span>UP</span>\r\n						        <span class="data-title" style="display:none;">'+
l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Upwards",u):f.call(e,"get_text","Move.Sort.Upwards",u)))+'</span>\r\n						        </button>\r\n						<button type="button"\r\n						        name="move_down"\r\n						        class="sort-move-down ',s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:h.program(52,$,t),fn:h.program(50,V,t)},o?o.call(e,(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;i+='"\r\n						        data-tip.position="top-left">\r\n								<span>DOWN</span>\r\n								<span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Downwards",u):f.call(e,"get_text","Move.Sort.Downwards",u)))+"</span>\r\n								</button>\r\n						\r\n						"
,s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:h.noop,fn:h.program(54,J,t)},o?o.call(e,(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.WorkExperience),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;return i+="\r\n<!-- 						</div> -->\r\n\r\n					",i}function V(e,t){return"inactive"}function $(e,t){return"tip spot tip-removeLeft--10pixels"}function J(e,t){var r="",i,s;return r+='\r\n							<button type="button"\r\n							        name="move_top"\r\n							        class="sort-move-top tip spot tip-removeLeft--10pixels"\r\n							        data-tip.position="top-left">\r\n							        <span>TOP</span>\r\n							        <span class="data-title" style="display:none;">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Move.Sort.ToTop",s):f.call(e,"get_text"
,"Move.Sort.ToTop",s)))+"</span>\r\n						    </button>\r\n						",r}function K(e,t){var r="",i,s;return r+="\r\n					"+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content",s)))+"\r\n				",r}function Q(e,t){var r="",i,s;return r+="\r\n					"+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content.Not.Empty.WorkExperience",s):f.call(e,"get_text","Buttons.Add.Content.Not.Empty.WorkExperience",s)))+"\r\n				",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c="function",h=this;o=(u=n.if_eq||t&&t.if_eq,a={hash:{compare:"Identification Headline WorkExperience Education Skills Achievement ReferenceTo"},inverse:h.noop,fn:h.program(1,p,i)},u?u.call(t,(o=(o=t&&t.Preferences,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.order),a):f.call(t,"if_eq",(o=(o=t&&t.Preferences,o==null||
o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.order),a));if(o||o===0)s+=o;s+='\r\n<dt class="label list section-heading">\r\n    ',o=(u=n.if_gt||t&&t.if_gt,a={hash:{compare:"1"},inverse:h.noop,fn:h.program(3,d,i)},u?u.call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.WorkExperience),o==null||o===!1?o:o.length),a):f.call(t,"if_gt",(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.WorkExperience),o==null||o===!1?o:o.length),a));if(o||o===0)s+=o;s+='\r\n	<span class="title">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"DocumentLabel"}},u?u.call(t,"LearnerInfo.WorkExperience",a):f.call(t,"get_text","LearnerInfo.WorkExperience",a)))+'</span>\r\n</dt>\r\n<dd class="line"></dd>\r\n<ol class="sortable compose-list" \r\n	id="List:SkillsPassport.LearnerInfo.WorkExperience" \r\n	data-rel-section="SkillsPassport.LearnerInfo.WorkExperience">\r\n	\r\n	',o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:h.programWithDepth
(7,m,i,t),fn:h.program(5,v,i)},u?u.call(t,(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.WorkExperience),a):f.call(t,"isEmptyObject",(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.WorkExperience),a));if(o||o===0)s+=o;return s+="\r\n</ol>",s});return t.registerPartial("templates/compose/cv/workexperiencelist",n),n}),define("views/compose/cv/WorkExperienceListComposeView",["jquery","underscore","views/interaction/ListView","views/compose/ComposeView","hbs!templates/compose/cv/workexperiencelist"],function(e,t,n,r,i){var s=r.extend({htmlTemplate:i,events:t.extend({"click :button:not(.inactive).sort-move-up":"sortMoveUp","click :button:not(.inactive).sort-move-down":"sortMoveDown","click :button.sort-move-top":"sortMoveTop","click .autoSort.byDate":"autoSort"},r.prototype.events),onInit:function(e){this.model.bind("model:prefs:data:format:changed",this.dateFormatChanged,this),this.model.bind("content:changed:LearnerInfo.Identification.Demographics.Gender.Code"
,this.genderChanged,this),r.prototype.onInit.apply(this,[e])},onClose:function(){r.prototype.onClose.apply(this),this.model.unbind("model:prefs:data:format:changed",this.dateFormatChanged),this.model.unbind("content:changed:LearnerInfo.Identification.Demographics.Gender.Code",this.genderChanged)},enableFunctionalities:function(t){r.prototype.enableFunctionalities.apply(this,[t]);var i=this;this.$el.find(".sortable.compose-list").each(function(r,s){var o=e(s);if(o.find("> li.list-item").length>1){var u=new n({el:o,model:t});i.addToViewsIndex(u)}})},dateFormatChanged:function(e){if(e.indexOf(this.section)===0)return!1;this.reRender(this.section)},genderChanged:function(t,n){var r="SkillsPassport.LearnerInfo.WorkExperience",i=this.model.translation().chooseOccupationMap(n),s=e(this.model.get(r)),o=s.length,u=this;s.each(function(e,t){var n=t.Position;if(n===undefined||n===null)return!1;var s=n.Code;if(s===undefined||s===null)return!1;var a=i.get(s);if(a===undefined||a===null||a==="")return!1
;var f=r+"["+e+"].Position.Label";u.model.set(f,a,e==o-1?null:{silent:!0}),u.model.trigger("model:content:changed",u.section)})},autoSort:function(n){var r="SkillsPassport.LearnerInfo.WorkExperience",i=e(this.model.get(r));if(i.length<=1)return;var s={};i.each(function(e,n){var r=t.isUndefined(n.Period)?undefined:n.Period.From,i=t.isUndefined(n.Period)?undefined:n.Period.To;s[e]={item:n,from:r,to:i}}),e(this.el).trigger("europass:autosort:date",[s,r,this.el])},sortMoveUp:function(e){this.$el.trigger("europass:sort:list:moveUp",[e.target])},sortMoveDown:function(e){this.$el.trigger("europass:sort:list:moveDown",[e.target])},sortMoveTop:function(e){this.$el.trigger("europass:sort:list:moveTop",[e.target])}});return s}),define("hbs!templates/compose/cv/educationlist",["hbs","handlebars","hbs!templates/menu/listitemmenu","templates/helpers/if_eq","templates/helpers/get_text","templates/helpers/if_gt","templates/helpers/isEmptyObject","templates/helpers/each_with_index","templates/helpers/format_date_period"
,"templates/helpers/isOnlyCountry","templates/helpers/format_organisation_address","templates/helpers/format_link","templates/helpers/nestHtmlLists","templates/helpers/with_attachment","templates/helpers/crop_text","templates/helpers/call_partial","templates/helpers/if_last_item","templates/helpers/if_lt","templates/helpers/if_gteq"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+='\r\n		<button type="button" \r\n				name="switchWorkEducationOrder"\r\n				class="work-education-switch  switch tip spot tip-addLeft tip-removeLeft-9pixels" \r\n				data-tip.position="top-left">\r\n				<span class="data-title" style="display:none">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Buttons.Switch.Section",s):f.call(e,"get_text","Buttons.Switch.Section",s)))+"</span>\r\n		</button>\r\n",r}function d(e,t){var r="",i,s;return r+='\r\n	<span class="sort container">\r\n    <button type="button"\r\n     name="autosort"\r\n     class="autoSort byDate tip spot education tip-removeLeft--10pixels tip-closerTop"\r\n     data-tip.position="top-left">Auto Sort\r\n     <span class="data-title" style="display:none;">'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Auto.Sort.Descend",s):f.call(e,"get_text","Auto.Sort.Descend",s)))+"</span>\r\n     </button>\r\n    </span>\r\n    ",r}function v(e,t){var r="",i,s;return r+='\r\n	\r\n		\r\n		<li class="compose-list empty" id="ListItem:LearnerInfo.Education.Empty">\r\n			\r\n			<button type="button" \r\n				name="LearnerInfo.Education[0]_add_btn" \r\n				data-rel-doc="cv"\r\n				class="section compose-list opens-modal-form add empty"\r\n				data-rel-clazz="EducationFormView"\r\n				data-rel-form="Form:LearnerInfo.Education[0]"\r\n				data-rel-section="SkillsPassport.LearnerInfo.Education[0]"\r\n				data-rel-help-section="Help.SkillsPassport.LearnerInfo.Education"\r\n				data-validation-field="date period"\r\n				data-rel-index="0">\r\n				<span class="img-placeholder">&nbsp;</span>\r\n				<span>'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content"
,s)))+"</span>\r\n			</button>\r\n			\r\n		</li>\r\n\r\n	",r}function m(e,t,r){var i="",s,o,u;i+="\r\n		",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{},inverse:h.noop,fn:h.programWithDepth(8,g,t,e,r)},o?o.call(e,(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),u):f.call(e,"each_with_index",(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),u));if(s||s===0)i+=s;i+='\r\n		\r\n		<li class="compose-list empty">\r\n			\r\n			<button type="button" \r\n					name="LearnerInfo.Education['+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']_add_btn" \r\n					class="section compose-list add opens-modal-form" \r\n					data-rel-doc="cv"\r\n					data-rel-clazz="EducationFormView"\r\n					data-rel-form="Form:Education['+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education
),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']"\r\n					data-rel-section="SkillsPassport.LearnerInfo.Education['+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']"\r\n					data-rel-help-section="Help.SkillsPassport.LearnerInfo.Education"\r\n					data-validation-field="date period"\r\n					data-rel-index="'+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+'">\r\n					<span class="img-placeholder">&nbsp;</span>\r\n					<span>\r\n					',s=(o=n.if_lt||e&&e.if_lt,u={hash:{compare:"1"},inverse:h.noop,fn:h.program(59,G,t)},o?o.call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),u):f.call(e,"if_lt",(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||
s===!1?s:s.length),u));if(s||s===0)i+=s;i+="\r\n					",s=(o=n.if_gteq||e&&e.if_gteq,u={hash:{compare:"1"},inverse:h.noop,fn:h.program(61,Y,t)},o?o.call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),u):f.call(e,"if_gteq",(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;return i+="\r\n					</span>\r\n			</button>\r\n		</li>\r\n	",i}function g(e,t,r,i){var s="",o,u,a;s+='\r\n		\r\n			\r\n				<li class="compose-list list-item opens-modal-form" \r\n					id="ListItem:LearnerInfo.Education[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']" \r\n					data-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+'"\r\n					data-rel-doc="cv"\r\n					data-rel-clazz="EducationFormView"\r\n					data-rel-form="Form:LearnerInfo.Education[',(u=
n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n					data-rel-section="SkillsPassport.LearnerInfo.Education[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n					data-rel-help-section="Help.SkillsPassport.LearnerInfo.Education"\r\n					data-validation-field="date period"\r\n					data-rel-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+'">	\r\n					\r\n					',o=n["if"].call(e,e&&e.Period,{hash:{},inverse:h.noop,fn:h.program(9,y,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					",o=n["if"].call(e,e&&e.Title,{hash:{},inverse:h.noop,fn:h.program(12,w,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					",o=n["if"].call(e,e&&e.Level,{hash:{},inverse:h.noop,fn:h.program(14,E,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					",o=n["if"].call(e,e&&e.Organisation,{hash:{},inverse:h.noop,fn:h.program(16,S,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					",o=n["if"].
call(e,e&&e.Activities,{hash:{},inverse:h.noop,fn:h.program(37,j,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					",o=n["if"].call(e,e&&e.Field,{hash:{},inverse:h.noop,fn:h.program(39,F,t)});if(o||o===0)s+=o;s+="\r\n					\r\n					\r\n					",o=n["if"].call(e,e&&e.ReferenceTo,{hash:{},inverse:h.noop,fn:h.programWithDepth(42,q,t,r)});if(o||o===0)s+=o;s+=" \r\n					\r\n					",o=(u=n.call_partial||e&&e.call_partial,a={hash:{path:"LearnerInfo.Education",buttons:"Extra"},inverse:h.noop,fn:h.program(50,V,t)},u?u.call(e,e,a):f.call(e,"call_partial",e,a));if(o||o===0)s+=o;s+="\r\n					\r\n					",o=(u=n.if_gt||i&&i.if_gt,a={hash:{compare:"1"},inverse:h.noop,fn:h.programWithDepth(52,$,t,r)},u?u.call(e,(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Education),o==null||o===!1?o:o.length),a):f.call(e,"if_gt",(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Education),o==null||o===!1?o:o.length),a));if(o||o===0)s+=o;return s+="\r\n					\r\n				</li>\r\n		"
,s}function y(e,t){var r="",i,s,o;r+='\r\n						<dd class="content-label Period ">\r\n							',i=(s=n.format_date_period||e&&e.format_date_period,o={hash:{DocumentType:"ECV"},inverse:h.noop,fn:h.program(10,b,t)},s?s.call(e,e&&e.Period,(i=(i=e&&e.current_pref_item,i==null||i===!1?i:i.Period),i==null||i===!1?i:i.format),!1,o):f.call(e,"format_date_period",e&&e.Period,(i=(i=e&&e.current_pref_item,i==null||i===!1?i:i.Period),i==null||i===!1?i:i.format),!1,o));if(i||i===0)r+=i;return r+="\r\n						</dd>\r\n					",r}function b(e,t){var n="",r;n+='\r\n								<span class="PeriodRange">',r=typeof e===c?e.apply(e):e;if(r||r===0)n+=r;return n+="</span>\r\n							",n}function w(e,t){var r="",i,s;return r+='\r\n						<dd class="value Title">\r\n							<span class="Title">',(s=n.Title)?i=s.call(e,{hash:{}}):(s=e&&e.Title,i=typeof s===c?s.call(e,{hash:{}}):s),r+=l(i)+"</span>\r\n						</dd>\r\n					",r}function E(e,t){var n="",r;return n+='\r\n						<dd class="value Level">\r\n								<span class="Level">'+
l((r=(r=e&&e.Level,r==null||r===!1?r:r.Label),typeof r===c?r.apply(e):r))+"</span>\r\n						</dd>\r\n					",n}function S(e,t){var r="",i;r+='\r\n						<dd class="value Organisation">\r\n							',i=n["if"].call(e,(i=e&&e.Organisation,i==null||i===!1?i:i.Name),{hash:{},inverse:h.noop,fn:h.program(17,x,t)});if(i||i===0)r+=i;r+="\r\n							\r\n							",i=n["if"].call(e,(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),{hash:{},inverse:h.noop,fn:h.program(19,T,t)});if(i||i===0)r+=i;r+="\r\n							\r\n							",i=n["if"].call(e,(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),{hash:{},inverse:h.noop,fn:h.program(33,P,t)});if(i||i===0)r+=i;return r+="\r\n						</dd>\r\n					",r}function x(e,t){var n="",r;return n+='\r\n								<span class="Name">'+l((r=(r=e&&e.Organisation,r==null||r===!1?r:r.Name),typeof r===c?r.apply(e):r))+"</span>\r\n							",n}function T(e,t){var r="",i;r+='\r\n								<div class="Address ',i=n.unless
.call(e,(i=(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),i==null||i===!1?i:i.AddressLine),{hash:{},inverse:h.noop,fn:h.program(20,N,t)});if(i||i===0)r+=i;r+='">\r\n								',i=n["if"].call(e,(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),{hash:{},inverse:h.noop,fn:h.program(23,k,t)});if(i||i===0)r+=i;return r+="\r\n								</div>\r\n							",r}function N(e,t){var r;return r=n.unless.call(e,(r=(r=(r=(r=e&&e.Organisation,r==null||r===!1?r:r.ContactInfo),r==null||r===!1?r:r.Address),r==null||r===!1?r:r.Contact),r==null||r===!1?r:r.PostalCode),{hash:{},inverse:h.noop,fn:h.program(21,C,t)}),r||r===0?r:""}function C(e,t){return"minimal"}function k(e,t){var r="",i,s,o;r+="\r\n									",i=n.unless.call(e,(i=(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),i==null||i===!1?i:i.AddressLine
),{hash:{},inverse:h.noop,fn:h.program(24,L,t)});if(i||i===0)r+=i;r+="\r\n									",i=(s=n.format_organisation_address||e&&e.format_organisation_address,o={hash:{},inverse:h.noop,fn:h.program(31,D,t)},s?s.call(e,(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o):f.call(e,"format_organisation_address",(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o));if(i||i===0)r+=i;return r+="\r\n								",r}function L(e,t){var r="",i;r+="\r\n										",i=n.unless.call(e,(i=(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),i==null||i===!1?i:i.PostalCode),{hash:{},inverse:h.noop,fn:h.program(25,A,t)});if(i||i===0)r+=i;return r+="\r\n									",r}function A(e,t){var r="",i;r+="\r\n											",i=n["if"].call(e,(i=e&&e.Organisation,i==null||i===!1?i:i.Name),{hash:{},inverse:h.noop,fn:h.program(26,
O,t)});if(i||i===0)r+=i;return r+="\r\n										",r}function O(e,t){var r="",i,s,o;r+="\r\n												",i=(s=n.isOnlyCountry||e&&e.isOnlyCountry,o={hash:{},inverse:h.program(29,_,t),fn:h.program(27,M,t)},s?s.call(e,(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o):f.call(e,"isOnlyCountry",(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Address),i==null||i===!1?i:i.Contact),o));if(i||i===0)r+=i;return r+="\r\n											",r}function M(e,t){return"\r\n												     &nbsp;\r\n												"}function _(e,t){return'\r\n													<span class="comma-separator">, </span>\r\n												'}function D(e,t){var n="";return n+='\r\n										<span class="Address">'+l(typeof e===c?e.apply(e):e)+"</span>\r\n									",n}function P(e,t){var r="",i;r+='\r\n								<div class="Website">\r\n									',i=n["if"].call(e,(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.
Website),i==null||i===!1?i:i.Contact),{hash:{},inverse:h.noop,fn:h.program(34,H,t)});if(i||i===0)r+=i;return r+="\r\n								</div>\r\n							",r}function H(e,t){var r="",i,s,o;r+='\r\n										<span class="Website">\r\n											',i=(s=n.format_link||e&&e.format_link,o={hash:{type:"website"},inverse:h.noop,fn:h.program(35,B,t)},s?s.call(e,(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),i==null||i===!1?i:i.Contact),o):f.call(e,"format_link",(i=(i=(i=e&&e.Organisation,i==null||i===!1?i:i.ContactInfo),i==null||i===!1?i:i.Website),i==null||i===!1?i:i.Contact),o));if(i||i===0)r+=i;return r+="\r\n										</span>\r\n									",r}function B(e,t){var n;return n=typeof e===c?e.apply(e):e,n||n===0?n:""}function j(e,t){var r="",i,s;return r+='\r\n						<dd class="value rich-content Activities">\r\n							'+l((i=n.nestHtmlLists||e&&e.nestHtmlLists,s={hash:{}},i?i.call(e,e&&e.Activities,s):f.call(e,"nestHtmlLists",e&&e.Activities,s)))+"\r\n						</dd>\r\n					"
,r}function F(e,t){var r="",i;r+='\r\n						<dd class="value Field">\r\n							',i=n["if"].call(e,e&&e.Field,{hash:{},inverse:h.noop,fn:h.program(40,I,t)});if(i||i===0)r+=i;return r+="\r\n						</dd>\r\n					",r}function I(e,t){var n="",r;return n+='\r\n								<span class="Field">'+l((r=(r=e&&e.Field,r==null||r===!1?r:r.Label),typeof r===c?r.apply(e):r))+"</span>\r\n							",n}function q(e,t,r){var i="",s;i+='\r\n						<dd class="value attachment">\r\n						',s=n["if"].call(e,e&&e.ReferenceTo,{hash:{},inverse:h.noop,fn:h.programWithDepth(43,R,t,r)});if(s||s===0)i+=s;return i+="\r\n						</dd>\r\n					",i}function R(e,t,r){var i="",s,o,u;i+='\r\n							<span class="attachment inner-content-label">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"DocumentLabel"}},o?o.call(e,"LearnerInfo.Education.ReferenceTo",u):f.call(e,"get_text","LearnerInfo.Education.ReferenceTo",u)))+"</span>\r\n							",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{index_name:"index2"},inverse:h.noop,fn:h.programWithDepth
(44,U,t,r)},o?o.call(e,e&&e.ReferenceTo,u):f.call(e,"each_with_index",e&&e.ReferenceTo,u));if(s||s===0)i+=s;return i+="\r\n						",i}function U(e,t,r){var i="",s,o,u;i+="\r\n								",s=(o=n.with_attachment||r&&r.with_attachment,u={hash:{},inverse:h.noop,fn:h.programWithDepth(45,z,t,e)},o?o.call(e,(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u):f.call(e,"with_attachment",(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u));if(s||s===0)i+=s;return i+="\r\n							",i}function z(e,t,r){var i="",s,o,u;i+='\r\n									<span class="linked-attachment" name="',(o=n.Name)?s=o.call(e,{hash:{}}):(o=e&&e.Name,s=typeof o===c?o.call(e,{hash:{}}):o),i+=l(s)+'">\r\n									',s=(o=n.if_gt||r&&r.if_gt,u={hash:{compare:"0"},inverse:h.noop,fn:h.program(46,W,t)},o?o.call(e,r&&r.index2,u):f.call(e,"if_gt",r&&r.index2,u));if(s||s===0)i+=s;i+="\r\n									",s=(o=n.crop_text||e&&e.crop_text,u={hash:{},inverse:h.noop,fn:h.program(48,X,t)},o?o.call(e,e&&e.Description,u):f.
call(e,"crop_text",e&&e.Description,u));if(s||s===0)i+=s;return i+="\r\n									</span>\r\n								",i}function W(e,t){return", "}function X(e,t){return l(typeof e===c?e.apply(e):e)}function V(e,t){var i="",s;i+="\r\n						",s=h.invokePartial(r["templates/menu/listitemmenu"],"templates/menu/listitemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n					",i}function $(e,t,r){var i="",s,o,u;i+='\r\n<!-- 						<span class="sortable_placeholder tip spot" data-tip.position="top-left"> +</span> -->\r\n							<span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Reorder.List.Sections",u):f.call(e,"get_text","Reorder.List.Sections",u)))+'</span>\r\n							 \r\n<!-- 					     <div class = "manage-sorting"> -->\r\n						<button type="button"\r\n								name="move_up"\r\n								class="sort-move-up ',s=(o=n.if_eq||e&&e.if_eq,u={hash:{compare:"0"},inverse:h.program(55,K,t),fn:h.program(53,J,t)},o?o.call(e,e&&e.index,u):f.call(e,"if_eq"
,e&&e.index,u));if(s||s===0)i+=s;i+='"\r\n						        data-tip.position="top-left">\r\n						        <span>UP</span>\r\n						         <span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Upwards",u):f.call(e,"get_text","Move.Sort.Upwards",u)))+'</span>\r\n						        </button>\r\n						<button type="button"\r\n								name="move_down"\r\n								class="sort-move-down ',s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:h.program(55,K,t),fn:h.program(53,J,t)},o?o.call(e,(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;i+='"\r\n						        data-tip.position="top-left">\r\n								<span>DOWN</span>\r\n								<span class="data-title" style="display:none;">'+
l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Downwards",u):f.call(e,"get_text","Move.Sort.Downwards",u)))+"</span>\r\n								</button>\r\n						\r\n						",s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:h.noop,fn:h.program(57,Q,t)},o?o.call(e,(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Education),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;return i+="\r\n<!-- 						</div> -->\r\n					\r\n					",i}function J(e,t){return"inactive"}function K(e,t){return"tip spot tip-removeLeft--10pixels"}function Q(e,t){var r="",i,s;return r+='\r\n							<button type="button"\r\n								name="move_top"\r\n								class="sort-move-top tip spot tip-removeLeft--10pixels"\r\n								data-tip.position="top-left">\r\n								<span>TOP</span>\r\n								<span class="data-title" style="display:none;">'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Move.Sort.ToTop",s):f.call(e,"get_text","Move.Sort.ToTop",s)))+"</span>\r\n								</button>\r\n						",r}function G(e,t){var r="",i,s;return r+="\r\n						"+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content",s)))+"\r\n					",r}function Y(e,t){var r="",i,s;return r+="\r\n						"+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content.Not.Empty.Education",s):f.call(e,"get_text","Buttons.Add.Content.Not.Empty.Education",s)))+"\r\n					",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c="function",h=this;o=(u=n.if_eq||t&&t.if_eq,a={hash:{compare:"Identification Headline Education WorkExperience Skills Achievement ReferenceTo"},inverse:h.noop,fn:h.program(1,p,i)},u?u.call(t,(o=(o=t&&t.Preferences,o==null||
o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.order),a):f.call(t,"if_eq",(o=(o=t&&t.Preferences,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.order),a));if(o||o===0)s+=o;s+='\r\n<dt class="label list section-heading">\r\n     ',o=(u=n.if_gt||t&&t.if_gt,a={hash:{compare:"1"},inverse:h.noop,fn:h.program(3,d,i)},u?u.call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Education),o==null||o===!1?o:o.length),a):f.call(t,"if_gt",(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Education),o==null||o===!1?o:o.length),a));if(o||o===0)s+=o;s+='\r\n	<span class="title">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"DocumentLabel"}},u?u.call(t,"LearnerInfo.Education",a):f.call(t,"get_text","LearnerInfo.Education",a)))+'</span>\r\n</dt>\r\n<dd class="line"></dd>\r\n\r\n<ol class="sortable compose-list" \r\n	id="List:SkillsPassport.LearnerInfo.Education" \r\n	data-rel-section="SkillsPassport.LearnerInfo.Education">\r\n	\r\n	'
,o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:h.programWithDepth(7,m,i,t),fn:h.program(5,v,i)},u?u.call(t,(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Education),a):f.call(t,"isEmptyObject",(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Education),a));if(o||o===0)s+=o;return s+="			\r\n</ol>",s});return t.registerPartial("templates/compose/cv/educationlist",n),n}),define("views/compose/cv/EducationListComposeView",["jquery","underscore","views/interaction/ListView","views/compose/ComposeView","hbs!templates/compose/cv/educationlist"],function(e,t,n,r,i){var s=r.extend({htmlTemplate:i,events:t.extend({"click :button:not(.inactive).sort-move-up":"sortMoveUp","click :button:not(.inactive).sort-move-down":"sortMoveDown","click :button.sort-move-top":"sortMoveTop","click .autoSort.byDate":"autoSort"},r.prototype.events),onInit:function(e){this.model.bind("model:prefs:data:format:changed",this.dateFormatChanged,this
),r.prototype.onInit.apply(this,[e])},onClose:function(){r.prototype.onClose.apply(this),this.model.unbind("model:prefs:data:format:changed",this.dateFormatChanged)},enableFunctionalities:function(t){r.prototype.enableFunctionalities.apply(this,[t]);var i=this;this.$el.find(".sortable.compose-list").each(function(r,s){var o=e(s);if(o.find("> li.list-item").length>1){var u=new n({el:o,model:t});i.addToViewsIndex(u)}})},dateFormatChanged:function(e){if(e.indexOf(this.section)===0)return!1;this.reRender(this.section)},autoSort:function(n){var r="SkillsPassport.LearnerInfo.Education",i=e(this.model.get(r));if(i.length<=1)return;var s={};i.each(function(e,n){var r=t.isUndefined(n.Period)?undefined:n.Period.From,i=t.isUndefined(n.Period)?undefined:n.Period.To;s[e]={item:n,from:r,to:i}}),e(this.el).trigger("europass:autosort:date",[s,r,this.el])},sortMoveUp:function(e){this.$el.trigger("europass:sort:list:moveUp",[e.target])},sortMoveDown:function(e){this.$el.trigger("europass:sort:list:moveDown"
,[e.target])},sortMoveTop:function(e){this.$el.trigger("europass:sort:list:moveTop",[e.target])}});return s}),define("hbs!templates/compose/cv/skills",["hbs","handlebars","templates/helpers/get_text","templates/helpers/isEmptyObject"],function(e,t){var n=t.template(function(e,t,n,r,i){function h(e,t){return"\r\n	"}function p(e,t){return'\r\n	<dl id="Compose:LearnerInfo.Skills.Other" \r\n		class="subsection item skills opens-modal-form"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="GenericSkillsFormView"\r\n		data-rel-form="Form:LearnerInfo.Skills.Other"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Skills.Other"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Other"\r\n		data-rel-subsection="Other"\r\n		data-rel-index="">\r\n		<!-- Other Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n	</dl>\r\n	'}function d(e,t){return'\r\n	<dl id="Compose:LearnerInfo.Skills.Driving" \r\n		class="subsection item skills opens-modal-form"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="DrivingFormView"\r\n		data-rel-form="Form:LearnerInfo.Skills.Driving"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Skills.Driving"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Driving"\r\n		data-rel-subsection="Driving"\r\n		data-rel-index="">\r\n		<!-- Driving Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n	</dl>\r\n	'
}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c=this;s+='\r\n<dt class="label section-heading">\r\n	<span class="title">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"DocumentLabel"}},u?u.call(t,"LearnerInfo.Skills",a):f.call(t,"get_text","LearnerInfo.Skills",a)))+'</span>\r\n</dt>\r\n<dd class="line"></dd>\r\n\r\n<dd>\r\n	\r\n	<dl id="Compose:LearnerInfo.Skills.Linguistic.MotherTongue" \r\n		class="subsection item skills opens-modal-form"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="MotherTongueFormView"\r\n		data-rel-form="Form:LearnerInfo.Skills.Linguistic.MotherTongue"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Skills.Linguistic.MotherTongue"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Linguistic.MotherTongue"\r\n		data-rel-index="">			\r\n		<!-- MotherTongue Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n	</dl>\r\n		\r\n	\r\n	<dl id="Compose:LearnerInfo.Skills.Linguistic.ForeignLanguage" \r\n		class="subsection skills foreign-language-skills opens-modal-form-lang-empty">\r\n		<!-- ForeignLanguage Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n	</dl>\r\n	\r\n	\r\n	\r\n	<dl id="Compose:LearnerInfo.Skills.Communication" \r\n		class="subsection item skills opens-modal-form"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="GenericSkillsFormView"\r\n		data-rel-form="Form:LearnerInfo.Skills.Communication"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Skills.Communication"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Communication"\r\n		data-rel-subsection="Communication"\r\n		data-rel-index="">\r\n		<!-- Communication Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n	</dl>\r\n	\r\n	\r\n	<dl id="Compose:LearnerInfo.Skills.Organisational" \r\n		class="subsection item skills opens-modal-form"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="GenericSkillsFormView"\r\n		data-rel-form="Form:LearnerInfo.Skills.Organisational"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Skills.Organisational"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Organisational"\r\n		data-rel-subsection="Organisational"\r\n		data-rel-index="">\r\n		<!-- Organisational Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n	</dl>\r\n	\r\n	\r\n	<dl id="Compose:LearnerInfo.Skills.JobRelated" \r\n		class="subsection item skills opens-modal-form"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="GenericSkillsFormView"\r\n		data-rel-form="Form:LearnerInfo.Skills.JobRelated"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Skills.JobRelated"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.JobRelated"\r\n		data-rel-subsection="JobRelated"\r\n		data-rel-index="">\r\n		<!-- JobRelated Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n	</dl>	\r\n	\r\n\r\n<dl id="Compose:LearnerInfo.Skills.Computer" \r\n		class="subsection item skills opens-modal-form ict"\r\n		data-rel-doc="cv"\r\n		data-rel-clazz="ComputerSkillsFormView"\r\n		data-rel-form="Form:LearnerInfo.Skills.Computer"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Skills.Computer"\r\n		data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Computer"\r\n		data-rel-subsection = "Computer"\r\n		data-rel-index="">\r\n		<!-- Computer Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n	</dl>\r\n<!-- 	<dl id="Compose:LearnerInfo.Skills.Computer"  -->\r\n<!-- 		class="subsection item skills computer-skills opens-modal-form"> -->\r\n		<!-- Computer Skills Compose View (with attached Handlebars view) get rendered here upon initialization of SkillsComposeView-->\r\n<!-- 	</dl> -->\r\n	\r\n	'
,o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:c.program(3,p,i),fn:c.program(1,h,i)},u?u.call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Other),a):f.call(t,"isEmptyObject",(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Other),a));if(o||o===0)s+=o;s+="\r\n	\r\n	",o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:c.program(5,d,i),fn:c.program(1,h,i)},u?u.call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Driving),a):f.call(t,"isEmptyObject",(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Driving),a));if(o||o===0)s+=o;return s+="\r\n</dd>\r\n",s});return t.registerPartial("templates/compose/cv/skills",n),n}),define("hbs!templates/compose/cv/motherTongue",["hbs","handlebars","hbs!templates/menu/itemmenu","templates/helpers/get_text"
,"templates/helpers/call_partial","templates/helpers/commalist"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s,o;r+="\r\n		",i=(s=n.call_partial||e&&e.call_partial,o={hash:{path:"LearnerInfo.Skills.Linguistic.MotherTongue"},inverse:f.noop,fn:f.program(2,d,t)},s?s.call(e,e,o):l.call(e,"call_partial",e,o));if(i||i===0)r+=i;return r+="\r\n",r}function d(e,t){var i="",s;i+="\r\n			",s=f.invokePartial(r["templates/menu/itemmenu"],"templates/menu/itemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n		",i}function v(e,t,r){var i="",s,o,u;i+='\r\n		<div class="MotherTongue content-label">\r\n			',s=(o=n.commalist||e&&e.commalist,u={hash:{},inverse:f.noop,fn:f.program(5,m,t)},o?o.call(e,(s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.MotherTongue),(s=(s=(s=(s=(s=r&&r.Preferences,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),
s==null||s===!1?s:s.MotherTongue),s==null||s===!1?s:s.array),u):l.call(e,"commalist",(s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.MotherTongue),(s=(s=(s=(s=(s=r&&r.Preferences,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.MotherTongue),s==null||s===!1?s:s.array),u));if(s||s===0)i+=s;return i+="\r\n		</div>\r\n	",i}function m(e,t){var n="";return n+='\r\n			<span class="MotherTongue">'+h(typeof e===c?e.apply(e):e)+"</span>\r\n			",n}function g(e,t){var r="",i,s;return r+='\r\n		<div class="empty add"\r\n			><span>'+h((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):l.call(e,"get_text","Buttons.Add.Content",s)))+"</span>\r\n		</div>\r\n	",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f=this,l=n.helperMissing,c="function",h=this
.escapeExpression;s+='<dt class="label">\r\n	<span class="title">'+h((u=n.get_text||t&&t.get_text,a={hash:{group:"DocumentLabel"}},u?u.call(t,"LearnerInfo.Skills.Linguistic.MotherTongue",a):l.call(t,"get_text","LearnerInfo.Skills.Linguistic.MotherTongue",a)))+"</span>\r\n</dt>\r\n",o=n["if"].call(t,(o=(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Linguistic),o==null||o===!1?o:o.MotherTongue),{hash:{},inverse:f.noop,fn:f.program(1,p,i)});if(o||o===0)s+=o;s+='\r\n<dd class="value">\r\n	\r\n	',o=n["if"].call(t,(o=(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Linguistic),o==null||o===!1?o:o.MotherTongue),{hash:{},inverse:f.program(7,g,i),fn:f.programWithDepth(4,v,i,t)});if(o||o===0)s+=o;return s+="\r\n</dd>",s});return t.registerPartial("templates/compose/cv/motherTongue",n),n}),define("views/compose/cv/MotherTongueComposeView",["jquery","underscore","views/compose/ComposeView"
,"hbs!templates/compose/cv/motherTongue"],function(e,t,n,r){var i=n.extend({htmlTemplate:r,reRender:function(e,n){e===this.section&&t.isObject(this.parentView)&&(this.parentView.setRenderIndicationTarget(this.options.el),this.parentView.onReRendering(n))},applyTooltip:function(t){var n=this.model.get(this.section);n===undefined||n===null||e.isArray(n)&&n.length===0?this.$el.addClass("empty"):this.$el.removeClass("empty")}});return i}),define("hbs!templates/compose/cv/foreignLanguageList",["hbs","handlebars","hbs!templates/menu/listitemmenu","templates/helpers/isEmptyObject","templates/helpers/get_text","templates/helpers/each_with_index","templates/helpers/if_gt","templates/helpers/if_eq","templates/helpers/if_last_item","templates/helpers/with_attachment","templates/helpers/crop_text","templates/helpers/call_partial"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+='\r\n		<dt class="label">\r\n			<span class="title noSkipOpen">'+l((i=n.get_text||
e&&e.get_text,s={hash:{group:"DocumentLabel"}},i?i.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage",s):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage",s)))+'</span>\r\n		</dt>\r\n		<dd class="value">\r\n			<div type="button" \r\n					name="LearnerInfo.Skills.Linguistic.ForeignLanguage[0]_add_btn" \r\n					class="subsection compose-list add Skills empty noSkipOpen" \r\n					data-rel-doc="cv"\r\n					data-rel-clazz="ForeignLanguageFormView"\r\n					data-rel-form="Form:LearnerInfo.Skills.Linguistic.ForeignLanguage[0]"\r\n					data-rel-section="SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage[0]"\r\n					data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"\r\n					data-rel-index="0"\r\n					><span class="img-placeholder"></span><span>'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content",s)))+"</span></div>\r\n		</dd>\r\n ",r}function d
(e,t){var r="",i,s,o;r+='\r\n <dt class="" style="display:none">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage",o)))+'</dt>\r\n <dd class="foreign-language-skills">\r\n	<table cellpadding="1" class="languages"\r\n		id="List:SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"\r\n		data-rel-section="SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"\r\n		data-bind-document="ECV ELP" \r\n		summary="'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage",o)))+'">\r\n		<caption>'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage",o)))+'</caption>\r\n		<thead class="open-modal-skippme">\r\n			<tr id="nodnd-1">\r\n				<th id="nodnd-1-ForeignLanguage" class="no-border sub-heading">\r\n					<span class="title">'+
l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage",o)))+'</span>\r\n				</th>\r\n				<th id="nodnd-1-ProficiencyLevel.Understanding" colspan="2" align="center">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Understanding",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Understanding",o)))+'</th>\r\n				<th id="nodnd-1-ProficiencyLevel.Speaking" colspan="2" align="center">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Speaking",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Speaking",o)))+'</th>\r\n				<th id="nodnd-1-ProficiencyLevel.Writing" align="center">'+l((s=n.get_text||e&&e.get_text
,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Writing",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Writing",o)))+'</th>\r\n				<th id="nodnd-1-menu-placeholder" class="menu-placeholder">&nbsp;</th>\r\n			</tr>\r\n			\r\n			<tr id="nodnd-2">\r\n				<th id="nodnd-2-no-border" class="no-border">&nbsp;</th>\r\n				<th id="nodnd-2-Listening" class="Listening">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Listening",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Listening",o)))+'</th>\r\n				<th id="nodnd-2-Reading" class="Reading">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Reading",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Reading"
,o)))+'</th>\r\n				<th id="nodnd-2-SpokenInteraction" class="SpokenInteraction">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.SpokenInteraction",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.SpokenInteraction",o)))+'</th>\r\n				<th id="nodnd-2-SpokenProduction" class="SpokenProduction">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.SpokenProduction",o):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.SpokenProduction",o)))+'</th>\r\n				<th id="nodnd-2-Writing" class="Writing">&nbsp;</th>\r\n				<th id="nodnd-2-menu-placeholder" class="menu-placeholder">&nbsp;</th>\r\n			</tr>\r\n		</thead>\r\n		<tbody \r\n			data-rel-section="SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"\r\n			data-bind-group="^(LearnerInfo\\.Skills\\.Linguistic\\.ForeignLanguage\\[(\\d)\\])([\\S]*)$">\r\n			'
,i=(s=n.isEmptyObject||e&&e.isEmptyObject,o={hash:{},inverse:c.programWithDepth(6,m,t,e),fn:c.program(4,v,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Linguistic),i==null||i===!1?i:i.ForeignLanguage),o):f.call(e,"isEmptyObject",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Linguistic),i==null||i===!1?i:i.ForeignLanguage),o));if(i||i===0)r+=i;return r+='\r\n		</tbody>\r\n		\r\n		<tfoot>\r\n			<tr class="compose-list nodrag table-footer" \r\n				id="ForeignLanguage-empty">\r\n				<td colspan="7" headers="nodnd-1-ForeignLanguage">\r\n						<button type="button" \r\n								name="LearnerInfo.Skills.Linguistic.ForeignLanguage['+l((i=(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Linguistic),i==null||i===!1?i:i.ForeignLanguage),i==null||i===!1?i:i.length),typeof i===h?i.apply(e
):i))+']_add_btn" \r\n								class="subsection compose-list add Skills opens-modal-form" \r\n								data-rel-doc="cv"\r\n								data-rel-clazz="ForeignLanguageFormView"\r\n								data-rel-form="Form:LearnerInfo.Skills.Linguistic.ForeignLanguage['+l((i=(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Linguistic),i==null||i===!1?i:i.ForeignLanguage),i==null||i===!1?i:i.length),typeof i===h?i.apply(e):i))+']"\r\n								data-rel-section="SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage['+l((i=(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Linguistic),i==null||i===!1?i:i.ForeignLanguage),i==null||i===!1?i:i.length),typeof i===h?i.apply(e):i))+']"\r\n								data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"\r\n								data-rel-index="'+l((i=(i=(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo
),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Linguistic),i==null||i===!1?i:i.ForeignLanguage),i==null||i===!1?i:i.length),typeof i===h?i.apply(e):i))+'"\r\n								><span class="img-placeholder"></span><span>'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"GuiLabel"}},s?s.call(e,"Buttons.Add.Content.Not.Empty",o):f.call(e,"get_text","Buttons.Add.Content.Not.Empty",o)))+"</span></button>\r\n				</td>\r\n			</tr>\r\n		</tfoot>\r\n	\r\n	</table>\r\n	",r}function v(e,t){return'\r\n				<tr id="nodnd-3" class="language nodrag">\r\n					<td colspan="7" headers="nodnd-1-ForeignLanguage">&nbsp;</td>\r\n				</tr>\r\n			'}function m(e,t,r){var i="",s,o,u;i+="\r\n\r\n				",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{},inverse:c.noop,fn:c.programWithDepth(7,g,t,e,r)},o?o.call(e,(s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.ForeignLanguage),u):f.call(e,"each_with_index",(s=(s=(s=(s=e&&e.SkillsPassport
,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.ForeignLanguage),u));if(s||s===0)i+=s;return i+="\r\n			",i}function g(e,t,r,i){var s="",o,u,a;s+='\r\n					\r\n						<tr id="language-',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+'" \r\n							class="language compose-list list-item opens-modal-form"\r\n							data-nested-tds="7"\r\n							data-rel-doc="cv"\r\n							data-rel-clazz="ForeignLanguageFormView"\r\n							data-rel-form="Form:LearnerInfo.Skills.Linguistic.ForeignLanguage[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n							data-rel-section="SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n							data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"\r\n							data-rel-index="'
,(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+'">							\r\n							\r\n							<td class="label" headers="nodnd-1-ForeignLanguage">\r\n								<div class="language-title">\r\n								',o=(u=n.if_gt||i&&i.if_gt,a={hash:{compare:"1"},inverse:c.noop,fn:c.programWithDepth(8,y,t,r)},u?u.call(e,(o=(o=(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Linguistic),o==null||o===!1?o:o.ForeignLanguage),o==null||o===!1?o:o.length),a):f.call(e,"if_gt",(o=(o=(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Linguistic),o==null||o===!1?o:o.ForeignLanguage),o==null||o===!1?o:o.length),a));if(o||o===0)s+=o;s+="\r\n								\r\n								"+l((o=(o=e&&e.Description,o==null||o===!1?o:o.Label),typeof o===h?o.apply(e):o))+'\r\n								</div>\r\n							</td>\r\n							<td colspan="5" headers="nodnd-1-ForeignLanguage">\r\n 								<table id="ProficiencyLevel" cellpadding="0" width="100%" summary="'+
l((o=(o=e&&e.Description,o==null||o===!1?o:o.Label),typeof o===h?o.apply(e):o))+'">\r\n									<caption>'+l((o=(o=e&&e.Description,o==null||o===!1?o:o.Label),typeof o===h?o.apply(e):o))+'</caption>\r\n 									<tr class="self-evaluation">\r\n										<td id="language-',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+'-ProficiencyLevel.Listening" class="Listening">\r\n											'+l((o=(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.Listening),typeof o===h?o.apply(e):o))+"\r\n											",o=n.unless.call(e,(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.Listening),{hash:{},inverse:c.noop,fn:c.program(15,S,t)});if(o||o===0)s+=o;s+='\r\n										</td>\r\n										<td id="language-',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+'-ProficiencyLevel.Reading" class="Reading">\r\n											'+l((o=(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.Reading),typeof o===h?o.apply(e):o))+"\r\n											",o=n.unless
.call(e,(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.Reading),{hash:{},inverse:c.noop,fn:c.program(17,x,t)});if(o||o===0)s+=o;s+='\r\n										</td>\r\n										<td id="language-',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+'-ProficiencyLevel.SpokenInteraction" class="SpokenInteraction">\r\n											'+l((o=(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.SpokenInteraction),typeof o===h?o.apply(e):o))+"\r\n											",o=n.unless.call(e,(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.SpokenInteraction),{hash:{},inverse:c.noop,fn:c.program(19,T,t)});if(o||o===0)s+=o;s+='\r\n										</td>\r\n										<td id="language-',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+'-ProficiencyLevel.SpokenProduction" class="SpokenProduction">\r\n											'+l((o=(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.SpokenProduction),typeof o===h?o.apply(e):o))+"\r\n											",o=n.unless.call(e,(o=e&&e.ProficiencyLevel
,o==null||o===!1?o:o.SpokenProduction),{hash:{},inverse:c.noop,fn:c.program(21,N,t)});if(o||o===0)s+=o;s+='\r\n										</td>\r\n										<td id="language-',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===h?u.call(e,{hash:{}}):u),s+=l(o)+'-ProficiencyLevel.Writing" class="Writing" >\r\n											'+l((o=(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.Writing),typeof o===h?o.apply(e):o))+"\r\n											",o=n.unless.call(e,(o=e&&e.ProficiencyLevel,o==null||o===!1?o:o.Writing),{hash:{},inverse:c.noop,fn:c.program(23,C,t)});if(o||o===0)s+=o;s+="\r\n										</td>\r\n									</tr>\r\n									",o=n["if"].call(e,e&&e.Certificate,{hash:{},inverse:c.noop,fn:c.program(25,k,t)});if(o||o===0)s+=o;s+="\r\n									\r\n									\r\n									",o=n["if"].call(e,e&&e.ReferenceTo,{hash:{},inverse:c.noop,fn:c.programWithDepth(31,M,t,i)});if(o||o===0)s+=o;s+=' \r\n 								</table>\r\n							</td>\r\n							<td class="menu-placeholder" headers="nodnd-1-menu-placeholder">\r\n							',o=(u=n.
call_partial||e&&e.call_partial,a={hash:{path:"LearnerInfo.Skills.Linguistic.ForeignLanguage",buttons:"Extra"},inverse:c.noop,fn:c.program(38,B,t)},u?u.call(e,e,a):f.call(e,"call_partial",e,a));if(o||o===0)s+=o;return s+="\r\n							</td>\r\n						</tr>\r\n					\r\n				",s}function y(e,t,r){var i="",s,o,u;i+='\r\n<!-- 									<span class="sortable_placeholder tip spot" data-tip.position="top-left"> -->\r\n<!-- 										  	 <span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Reorder.List.Sections",u):f.call(e,"get_text","Reorder.List.Sections",u)))+'</span>	 -->\r\n<!-- 										  +</span> -->\r\n								\r\n									<button type="button"\r\n											name="move_up"\r\n											class="sort-move-up  ',s=(o=n.if_eq||e&&e.if_eq,u={hash:{compare:"0"},inverse:c.program(11,w,t),fn:c.program(9,b,t)},o?o.call(e,e&&e.index,u):f.call(e,"if_eq",e&&e.index,u));if(s||s===0)i+=s;i+='"\r\n											data-tip.position="top-left">\r\n											<span>UP</span>\r\n											<span class="data-title" style="display:none;">'+
l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Upwards",u):f.call(e,"get_text","Move.Sort.Upwards",u)))+'</span>\r\n									</button>\r\n									<button type="button"\r\n											name="move_down"\r\n											class="sort-move-down ',s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:c.program(11,w,t),fn:c.program(9,b,t)},o?o.call(e,(s=(s=(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.ForeignLanguage),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.ForeignLanguage),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;i+='"\r\n											data-tip.position="top-left">\r\n											<span>DOWN</span>\r\n											<span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.
get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Downwards",u):f.call(e,"get_text","Move.Sort.Downwards",u)))+"</span>\r\n									</button>\r\n									\r\n									",s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:c.noop,fn:c.program(13,E,t)},o?o.call(e,(s=(s=(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.ForeignLanguage),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Linguistic),s==null||s===!1?s:s.ForeignLanguage),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;return i+="\r\n								\r\n								",i}function b(e,t){return"inactive"}function w(e,t){return"tip spot tip-removeLeft--10pixels"}function E(e,t){var r="",i,s;return r+='\r\n										<button type="button"\r\n												name="move_top"\r\n												class="sort-move-top tip spot tip-removeLeft--10pixels"\r\n												data-tip.position="top-left">\r\n											<span>TOP</span>\r\n											<span class="data-title" style="display:none;">'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Move.Sort.ToTop",s):f.call(e,"get_text","Move.Sort.ToTop",s)))+"</span>\r\n										</button>\r\n									",r}function S(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Listening",s):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Listening",s)))+"</span>\r\n											",r}function x(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Reading",s):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Reading",s)))+"</span>\r\n											",r}function T(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.SpokenInteraction",s):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.SpokenInteraction",s)))+"</span>\r\n											",r}function N(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.SpokenProduction",s):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.SpokenProduction",s)))+"</span>\r\n											",r}function C(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Writing",s):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ProficiencyLevel.Writing"
,s)))+"</span>\r\n											",r}function k(e,t){var r="",i,s,o;r+='\r\n									<tr class="certificates">\r\n										<td colspan="5" headers="nodnd-1-ForeignLanguage">\r\n											<ul>\r\n												',i=(s=n.each_with_index||e&&e.each_with_index,o={hash:{index_name:"index2"},inverse:c.noop,fn:c.program(26,L,t)},s?s.call(e,e&&e.Certificate,o):f.call(e,"each_with_index",e&&e.Certificate,o));if(i||i===0)r+=i;return r+="\r\n											</ul>\r\n										</td>\r\n									</tr>\r\n									",r}function L(e,t){var r="",i,s,o;r+='\r\n														<li class="Title" >\r\n														',i=(s=n.isEmptyObject||e&&e.isEmptyObject,o={hash:{},inverse:c.program(29,O,t),fn:c.program(27,A,t)},s?s.call(e,e&&e.Title,o):f.call(e,"isEmptyObject",e&&e.Title,o));if(i||i===0)r+=i;return r+="	\r\n														</li>\r\n												",r}function A(e,t){return"\r\n															&ndash;\r\n														"}function O(e,t){var r="",i,s;return r+="\r\n															",(s=n.Title)?i=s.call(e,{hash:{}}):(s=e&&e.
Title,i=typeof s===h?s.call(e,{hash:{}}):s),r+=l(i)+"\r\n													",r}function M(e,t,r){var i="",s,o,u;i+='\r\n									<tr class="documentation">\r\n										<td colspan="5" headers="nodnd-1-ForeignLanguage">\r\n											<div class="attachment">\r\n												<span class="attachment inner-content-label">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"DocumentLabel"}},o?o.call(e,"LearnerInfo.Skills.Linguistic.ForeignLanguage.ReferenceTo",u):f.call(e,"get_text","LearnerInfo.Skills.Linguistic.ForeignLanguage.ReferenceTo",u)))+"</span>\r\n												",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{index_name:"index2"},inverse:c.noop,fn:c.programWithDepth(32,_,t,r)},o?o.call(e,e&&e.ReferenceTo,u):f.call(e,"each_with_index",e&&e.ReferenceTo,u));if(s||s===0)i+=s;return i+="\r\n											</div>\r\n										</td>\r\n									</tr>\r\n									",i}function _(e,t,r){var i="",s,o,u;i+="\r\n													",s=(o=n.with_attachment||r&&r.with_attachment,u={hash:{},inverse:c.noop,fn:c
.programWithDepth(33,D,t,e)},o?o.call(e,(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u):f.call(e,"with_attachment",(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u));if(s||s===0)i+=s;return i+="\r\n												",i}function D(e,t,r){var i="",s,o,u;i+='\r\n														<span class="linked-attachment" name="',(o=n.Name)?s=o.call(e,{hash:{}}):(o=e&&e.Name,s=typeof o===h?o.call(e,{hash:{}}):o),i+=l(s)+'">\r\n															',s=(o=n.if_gt||r&&r.if_gt,u={hash:{compare:"0"},inverse:c.noop,fn:c.program(34,P,t)},o?o.call(e,r&&r.index2,u):f.call(e,"if_gt",r&&r.index2,u));if(s||s===0)i+=s;i+="\r\n															",s=(o=n.crop_text||e&&e.crop_text,u={hash:{},inverse:c.noop,fn:c.program(36,H,t)},o?o.call(e,e&&e.Description,u):f.call(e,"crop_text",e&&e.Description,u));if(s||s===0)i+=s;return i+="\r\n														</span>\r\n													",i}function P(e,t){return", "}function H(e,t){return l(typeof e===h?e.apply(e):e)}function B(e,t){var i="",s;i+="\r\n								"
,s=c.invokePartial(r["templates/menu/listitemmenu"],"templates/menu/listitemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n							",i}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c=this,h="function";o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:c.program(3,d,i),fn:c.program(1,p,i)},u?u.call(t,(o=(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Linguistic),o==null||o===!1?o:o.ForeignLanguage),a):f.call(t,"isEmptyObject",(o=(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Linguistic),o==null||o===!1?o:o.ForeignLanguage),a));if(o||o===0)s+=o;return s+="\r\n</dd>",s});return t.registerPartial("templates/compose/cv/foreignLanguageList",n),n}),define("views/compose/cv/ForeignLanguageListComposeView",["jquery","underscore","views/interaction/ListView","views/compose/ComposeView"
,"hbs!templates/compose/cv/foreignLanguageList"],function(e,t,n,r,i){var s=r.extend({htmlTemplate:i,events:t.extend({"click :button:not(.inactive).sort-move-up":"sortMoveUp","click :button:not(.inactive).sort-move-down":"sortMoveDown","click :button.sort-move-top":"sortMoveTop"},r.prototype.events),enableFunctionalities:function(t){r.prototype.enableFunctionalities.apply(this,[t]);var i=this;this.$el.find("table.languages > tbody").each(function(r,s){var o=e(s);if(o.find("> tr.list-item").length>1){var u=new n({el:o,model:t,type:"tbody"});i.addToViewsIndex(u)}})},reRender:function(e,t){if(e=="SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage"&&arguments!==null&&arguments!==undefined&&arguments.length>0)var n=arguments[2];e.indexOf(this.section)===0&&this.render(this.reRenderIndicator,[this.doTransition(t),n])},applyTooltip:function(e){var n=t.isFunction(this.model.info)?this.model.info():null,r=this.section.substring(this.section.indexOf("LearnerInfo.")+"LearnerInfo.".length,
this.section.length);n.isSectionEmpty(r)?this.$el.addClass("empty"):this.$el.removeClass("empty")},sortMoveUp:function(e){this.$el.trigger("europass:sort:list:moveUp",[e.target,!0])},sortMoveDown:function(e){this.$el.trigger("europass:sort:list:moveDown",[e.target,!0])},sortMoveTop:function(e){this.$el.trigger("europass:sort:list:moveTop",[e.target,!0])}});return s}),define("hbs!templates/compose/cv/driving",["hbs","handlebars","hbs!templates/menu/itemmenu","templates/helpers/get_text","templates/helpers/isSectionWithAttachmentsEmpty","templates/helpers/simple_each_with_index","templates/helpers/if_gt","templates/helpers/each_with_index","templates/helpers/with_attachment","templates/helpers/crop_text","templates/helpers/call_partial"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+='\r\n		<div class="empty add"><span>'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content"
,s)))+"</span></div>\r\n	",r}function d(e,t){var r="",i,s,o;r+='	\r\n		<div class="Driving">\r\n			',i=(s=n.simple_each_with_index||e&&e.simple_each_with_index,o={hash:{},inverse:c.noop,fn:c.program(4,v,t)},s?s.call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Driving),i==null||i===!1?i:i.Description),o):f.call(e,"simple_each_with_index",(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Driving),i==null||i===!1?i:i.Description),o));if(i||i===0)r+=i;r+="\r\n		</div>\r\n		\r\n		\r\n		",i=n["if"].call(e,(i=(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Driving),i==null||i===!1?i:i.ReferenceTo),{hash:{},inverse:c.noop,fn:c.programWithDepth(7,g,t,e)});if(i||i===0)r+=i;r+=" \r\n		\r\n		",i=(s=n.call_partial||e&&e.call_partial,o={hash:{path:"LearnerInfo.Skills.Driving",subsection:"Driving",withAttachments
:"true"},inverse:c.noop,fn:c.program(12,E,t)},s?s.call(e,(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Driving),o):f.call(e,"call_partial",(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Driving),o));if(i||i===0)r+=i;return r+="\r\n		\r\n	",r}function v(e,t){var r="",i,s,o;r+="\r\n				",i=(s=n.if_gt||e&&e.if_gt,o={hash:{compare:"0"},inverse:c.noop,fn:c.program(5,m,t)},s?s.call(e,e&&e.index,o):f.call(e,"if_gt",e&&e.index,o));if(i||i===0)r+=i;return r+='\r\n					<span class="Driving">\r\n						',(s=n.value)?i=s.call(e,{hash:{}}):(s=e&&e.value,i=typeof s===h?s.call(e,{hash:{}}):s),r+=l(i)+"\r\n					</span>\r\n			",r}function m(e,t){return", "}function g(e,t,r){var i="",s,o,u;i+='\r\n			<div class="attachment">\r\n				<span class="attachment inner-content-label">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"DocumentLabel"}},o?o.call(e,"LearnerInfo.Skills.Driving.ReferenceTo"
,u):f.call(e,"get_text","LearnerInfo.Skills.Driving.ReferenceTo",u)))+"</span>\r\n				",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{},inverse:c.noop,fn:c.programWithDepth(8,y,t,r)},o?o.call(e,(s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Driving),s==null||s===!1?s:s.ReferenceTo),u):f.call(e,"each_with_index",(s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Driving),s==null||s===!1?s:s.ReferenceTo),u));if(s||s===0)i+=s;return i+="\r\n			</div>\r\n		",i}function y(e,t,r){var i="",s,o,u;i+="\r\n					",s=(o=n.with_attachment||r&&r.with_attachment,u={hash:{},inverse:c.noop,fn:c.programWithDepth(9,b,t,e)},o?o.call(e,(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u):f.call(e,"with_attachment",(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u));if(s||s===0)i+=s;return i+="\r\n				",i}function b(e,t,r){var i="",s,o,u;i+='\r\n						<span class="linked-attachment" name="'
,(o=n.Name)?s=o.call(e,{hash:{}}):(o=e&&e.Name,s=typeof o===h?o.call(e,{hash:{}}):o),i+=l(s)+'">\r\n						',s=(o=n.if_gt||r&&r.if_gt,u={hash:{compare:"0"},inverse:c.noop,fn:c.program(5,m,t)},o?o.call(e,r&&r.index,u):f.call(e,"if_gt",r&&r.index,u));if(s||s===0)i+=s;i+="\r\n						",s=(o=n.crop_text||e&&e.crop_text,u={hash:{},inverse:c.noop,fn:c.program(10,w,t)},o?o.call(e,e&&e.Description,u):f.call(e,"crop_text",e&&e.Description,u));if(s||s===0)i+=s;return i+="\r\n						</span>\r\n					",i}function w(e,t){return l(typeof e===h?e.apply(e):e)}function E(e,t){var i="",s;i+="\r\n			",s=c.invokePartial(r["templates/menu/itemmenu"],"templates/menu/itemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n		",i}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c=this,h="function";s+='<dt class="label">\r\n	<span class="title">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"DocumentLabel"}},u?u.call(t,"LearnerInfo.Skills.Driving"
,a):f.call(t,"get_text","LearnerInfo.Skills.Driving",a)))+'</span>\r\n</dt>\r\n\r\n<dd class="value">\r\n	',o=(u=n.isSectionWithAttachmentsEmpty||t&&t.isSectionWithAttachmentsEmpty,a={hash:{},inverse:c.program(3,d,i),fn:c.program(1,p,i)},u?u.call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Driving),a):f.call(t,"isSectionWithAttachmentsEmpty",(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Driving),a));if(o||o===0)s+=o;return s+="\r\n\r\n</dd>\r\n\r\n",s});return t.registerPartial("templates/compose/cv/driving",n),n}),define("views/compose/cv/DrivingComposeView",["jquery","underscore","views/compose/ComposeView","hbs!templates/compose/cv/driving"],function(e,t,n,r){var i=n.extend({htmlTemplate:r,enableFunctionalities:function(e){var r=this.model.get(this.section+".Description");this.numOfItems=t.isArray(r)?r.length:0,n.prototype.enableFunctionalities.apply(this
,[e])},reRender:function(e,n){if(e===this.section){var r=this.doTransition(n),i=this.model.get(this.section),s=this.model.get(this.section+".Description"),o=!t.isEmpty(i)&&(this.numOfItems===undefined||this.numOfItems===0);this.numOfItems=t.isArray(s)?s.length:0;var u=t.isEmpty(i)&&this.numOfItems>=0&&t.isEmpty(s);if(!o&&!u){this.render(this.reRenderIndicator,[r]);return}t.isObject(this.parentView)&&(o||u)&&(o&&this.parentView.setRenderIndicationTarget(this.options.el),this.parentView.onReRendering(n))}},applyTooltip:function(e){var n=t.isFunction(this.model.info)?this.model.info():null,r=this.section.substring(this.section.indexOf("LearnerInfo.")+"LearnerInfo.".length,this.section.length);n.isSectionEmpty(r)?this.$el.addClass("empty"):this.$el.removeClass("empty")}});return i}),define("views/compose/cv/GenericSkillsComposeView",["require","jquery","underscore","views/compose/ComposeView"],function(e,t,n,r){var i=r.extend({initialize:function(t){this.section=t.section;var n=this.section
.substr(this.section.lastIndexOf(".")+1),i="hbs!templates/compose/cv/genericskills/"+n.toLowerCase(),s=null,o=this;e(["assembly/ecvCompose"],function(){e([i],function(e){s=e,o.htmlTemplate=s,r.prototype.initialize.apply(o,[t]),o.model.getActiveSkillsSection()==o.section&&(o.section=="SkillsPassport.LearnerInfo.Skills.Other"?o.reRender(o.section,"click-origin-controls"):o.reRender(o.section,"click-origin-compose"),o.model.resetActiveSkillsSection())})})},configureRerendering:function(e){this.section=="SkillsPassport.LearnerInfo.Skills.Other"?this.reRender(this.section,"click-origin-controls"):this.reRender(this.section,"click-origin-compose")},enableFunctionalities:function(e){this.contents=this.model.get(this.section),r.prototype.enableFunctionalities.apply(this,[e])},reRender:function(e,t){if(e===this.section){var r=this.doTransition(t),i=!n.isEmpty(this.section.match("w*\\.Other$"));if(!i){this.render(this.reRenderIndicator,[r]);return}var s=this.model.get(this.section),o=!n.isEmpty(s
)&&n.isEmpty(this.contents),u=n.isEmpty(s)&&!n.isEmpty(this.contents);this.contents=s;if(!o&&!u){this.render(this.reRenderIndicator,[r]);return}n.isObject(this.parentView)&&i&&(o&&this.parentView.setRenderIndicationTarget(this.options.el),this.parentView.onReRendering(t))}},applyTooltip:function(e){var t=n.isFunction(this.model.info)?this.model.info():null,r=this.section.substring(this.section.indexOf("LearnerInfo.")+"LearnerInfo.".length,this.section.length);t.isSectionEmpty(r)?this.$el.addClass("empty"):this.$el.removeClass("empty")}});return i}),define("hbs!templates/compose/cv/computerSkills",["hbs","handlebars","hbs!templates/menu/listitemmenu","templates/helpers/isEmptyObject","templates/helpers/get_text","templates/helpers/showLangShortDescr","templates/helpers/each_with_index","templates/helpers/nestHtmlLists","templates/helpers/with_attachment","templates/helpers/if_gt","templates/helpers/crop_text","templates/helpers/call_partial"],function(e,t){var n=t.template(function(e,t,n
,r,i){function p(e,t){var r="",i,s;return r+='\r\n	<dt class="label">\r\n		<span class="title">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"DocumentLabel"}},i?i.call(e,"LearnerInfo.Skills.Computer",s):f.call(e,"get_text","LearnerInfo.Skills.Computer",s)))+'</span>\r\n	</dt>\r\n	<dd class="value">\r\n		<div class="empty add"><span>'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content",s)))+"</span></div>\r\n	</dd>\r\n",r}function d(e,t){var r="",i,s,o;r+='\r\n	\r\n	<dt class="" style="display:none">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer",o):f.call(e,"get_text","LearnerInfo.Skills.Computer",o)))+'</dt>\r\n	<dd class="computer-skills">\r\n		<table cellpadding="1" class="ict-skills"\r\n				id="List:SkillsPassport.LearnerInfo.Skills.Computer"\r\n				data-rel-section="SkillsPassport.LearnerInfo.Skills.Computer"\r\n				summary="'+l((s=n.get_text||
e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer",o):f.call(e,"get_text","LearnerInfo.Skills.Computer",o)))+'">\r\n			<caption>'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer",o):f.call(e,"get_text","LearnerInfo.Skills.Computer",o)))+'</caption>\r\n			<thead>\r\n				<tr id="nodnd-1">\r\n					<th id="nodnd-1-ComputerSkill" class="no-border sub-heading">\r\n						<span class="title">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer",o):f.call(e,"get_text","LearnerInfo.Skills.Computer",o)))+'</span>\r\n					</th>\r\n					<th id="nodnd-1-ComputerSkill.ICTLevel" colspan="5" align="center">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel",o):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel",o)))+'</th>\r\n					<th class="menu-placeholder" id="nodnd-1-menu-placeholder">&nbsp;</th>\r\n				</tr>\r\n				<tr id="nodnd-2">\r\n					<th id="nodnd-2-no-border" class="no-border">&nbsp;</th>\r\n					<th id="nodnd-2-InformationProcessing" class="InformationProcessing">'+
l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.Information",o):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.Information",o)))+'</th>\r\n					<th id="nodnd-2-Communication" class="Communication">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.Communication",o):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.Communication",o)))+'</th>\r\n					<th id="nodnd-2-ContentCreation" class="ContentCreation">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.ContentCreation",o):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.ContentCreation",o)))+'</th>\r\n					<th id="nodnd-2-Safety" class="Safety">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.Safety"
,o):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.Safety",o)))+'</th>\r\n					<th id="nodnd-2-ProblemSolving" class="ProblemSolving">'+l((s=n.get_text||e&&e.get_text,o={hash:{group:"DocumentLabel"}},s?s.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.ProblemSolving",o):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.ProblemSolving",o)))+'</th>\r\n					<th class="menu-placeholder" id="nodnd-2-menu-placeholder">&nbsp;</th>\r\n				</tr>\r\n			</thead>\r\n			<tbody data-rel-section="SkillsPassport.LearnerInfo.Skills.Computer">\r\n				',i=(s=n.isEmptyObject||e&&e.isEmptyObject,o={hash:{},inverse:h.programWithDepth(6,m,t,e),fn:h.program(4,v,t)},s?s.call(e,(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Computer),o):f.call(e,"isEmptyObject",(i=(i=(i=e&&e.SkillsPassport,i==null||i===!1?i:i.LearnerInfo),i==null||i===!1?i:i.Skills),i==null||i===!1?i:i.Computer),o));if(i||i===0)r+=i;return r+="\r\n	\r\n"
,r}function v(e,t){return'\r\n					<tr id="nodnd-3" class="language nodrag">\r\n						<td colspan="7" headers="nodnd-1-Computer">&nbsp;</td>\r\n					</tr>\r\n				'}function m(e,t,r){var i="",s;i+="\r\n					",s=n["with"].call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Skills),s==null||s===!1?s:s.Computer),{hash:{},inverse:h.noop,fn:h.programWithDepth(7,g,t,r)});if(s||s===0)i+=s;return i+="\r\n				</tbody>\r\n			</table>\r\n			</dd>\r\n		\r\n	\r\n	",i}function g(e,t,r){var i="",s,o,u;i+='\r\n						<tr id="ict-skills" \r\n							class="computer ictSkills"\r\n							data-nested-tds="7"\r\n							data-rel-doc="cv"\r\n							data-rel-clazz="ComputerSkillsFormView"\r\n							data-rel-form="Form:LearnerInfo.Skills.Computer"\r\n							data-rel-section="SkillsPassport.LearnerInfo.Skills.Computer"\r\n							data-rel-help-section="Help.SkillsPassport.LearnerInfo.Skills.Computer">\r\n							\r\n							<td class="label" headers="nodnd-1-Computer"></td>\r\n							<td colspan="5" headers="nodnd-1-Computer" >\r\n							<table id="ICTLevel" cellpadding="0" width="100%">\r\n								<tbody>\r\n 									<tr class="ict-self-evaluation">\r\n										<td id="ICTLevel.InformationProcessing" class="InformationProcessing">\r\n											'
,s=(o=n.showLangShortDescr||e&&e.showLangShortDescr,u={hash:{},inverse:h.noop,fn:h.program(8,y,t)},o?o.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Information),"IctLevelMap",u):f.call(e,"showLangShortDescr",(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Information),"IctLevelMap",u));if(s||s===0)i+=s;i+="\r\n											",s=n.unless.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Information),{hash:{},inverse:h.noop,fn:h.program(10,b,t)});if(s||s===0)i+=s;i+='\r\n										</td>\r\n										<td id="ICTLevel.Communication" class="Communication">\r\n											',s=(o=n.showLangShortDescr||e&&e.showLangShortDescr,u={hash:{},inverse:h.noop,fn:h.program(8,y,t)},o?o.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Communication),"IctLevelMap",u):f.call(e,"showLangShortDescr",(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Communication),"IctLevelMap",u));if(s||s===0)i+=s;i+="\r\n											",s=n.unless.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Communication),{hash:{},inverse
:h.noop,fn:h.program(12,w,t)});if(s||s===0)i+=s;i+='\r\n										</td>\r\n										<td id="ICTLevel.ContentCreation" class="ContentCreation">\r\n											',s=(o=n.showLangShortDescr||e&&e.showLangShortDescr,u={hash:{},inverse:h.noop,fn:h.program(8,y,t)},o?o.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.ContentCreation),"IctLevelMap",u):f.call(e,"showLangShortDescr",(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.ContentCreation),"IctLevelMap",u));if(s||s===0)i+=s;i+="\r\n											",s=n.unless.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.ContentCreation),{hash:{},inverse:h.noop,fn:h.program(14,E,t)});if(s||s===0)i+=s;i+='\r\n										</td>\r\n										<td id="ICTLevel.Safety" class="Safety">\r\n											',s=(o=n.showLangShortDescr||e&&e.showLangShortDescr,u={hash:{},inverse:h.noop,fn:h.program(8,y,t)},o?o.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Safety),"IctLevelMap",u):f.call(e,"showLangShortDescr",(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Safety),"IctLevelMap"
,u));if(s||s===0)i+=s;i+="\r\n											",s=n.unless.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.Safety),{hash:{},inverse:h.noop,fn:h.program(16,S,t)});if(s||s===0)i+=s;i+='\r\n										</td>\r\n										<td id="ICTLevel.ProblemSolving" class="ProblemSolving" >\r\n											',s=(o=n.showLangShortDescr||e&&e.showLangShortDescr,u={hash:{},inverse:h.noop,fn:h.program(8,y,t)},o?o.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.ProblemSolving),"IctLevelMap",u):f.call(e,"showLangShortDescr",(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.ProblemSolving),"IctLevelMap",u));if(s||s===0)i+=s;i+="\r\n											",s=n.unless.call(e,(s=e&&e.ProficiencyLevel,s==null||s===!1?s:s.ProblemSolving),{hash:{},inverse:h.noop,fn:h.program(18,x,t)});if(s||s===0)i+=s;i+="\r\n										</td>\r\n									</tr>\r\n									",s=n["if"].call(e,e&&e.Certificate,{hash:{},inverse:h.noop,fn:h.program(20,T,t)});if(s||s===0)i+=s;i+="\r\n									",s=n["if"].call(e,e&&e.Description,{hash:{},inverse:h.noop,fn:h
.program(26,L,t)});if(s||s===0)i+=s;i+="\r\n									",s=n["if"].call(e,e&&e.ReferenceTo,{hash:{},inverse:h.noop,fn:h.programWithDepth(28,A,t,r)});if(s||s===0)i+=s;i+='\r\n								</tbody>\r\n							</table>\r\n						</td>\r\n						<td class="menu-placeholder" headers="nodnd-1-menu-placeholder">\r\n							',s=(o=n.call_partial||e&&e.call_partial,u={hash:{path:"LearnerInfo.Skills.Computer",buttons:"Extra"},inverse:h.noop,fn:h.program(33,D,t)},o?o.call(e,e,u):f.call(e,"call_partial",e,u));if(s||s===0)i+=s;return i+="\r\n						</td>\r\n					</tr>\r\n				",i}function y(e,t){return l(typeof e===c?e.apply(e):e)}function b(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.Information",s):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.Information",s)))+"</span>\r\n											",r}function w(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.Communication",s):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.Communication",s)))+"</span>\r\n											",r}function E(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.ContentCreation",s):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.ContentCreation",s)))+"</span>\r\n											",r}function S(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.Safety",s):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.Safety",s)))+"</span>\r\n											",r}function x(e,t){var r="",i,s;return r+='\r\n												<span class="default-value">'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorPlaceholder"}},i?i.call(e,"LearnerInfo.Skills.Computer.ProficiencyLevel.ProblemSolving",s):f.call(e,"get_text","LearnerInfo.Skills.Computer.ProficiencyLevel.ProblemSolving",s)))+"</span>\r\n											",r}function T(e,t){var r="",i,s,o;r+='\r\n										<tr class="ict-certificates">\r\n											<td colspan="5" headers="nodnd-1-ComputerSkill">\r\n												<ul>\r\n												',i=(s=n.each_with_index||e&&e.each_with_index,o={hash:{},inverse:h.noop,fn:h.program(21,N,t)},s?s.call(e,e&&e.Certificate,o):f.call(e,"each_with_index",e&&e.Certificate,o));if(i||i===0)r+=i;return r+="\r\n												</ul>\r\n											</td>\r\n										</tr>\r\n									",r}function N(e,t){var r="",i,s,o;r+='\r\n													<li class="Title" >\r\n														',i=(s=n.isEmptyObject||e&&e.isEmptyObject,o={hash:{},inverse:h.program(24,k,t),fn:h.program(22,C,t)},s?s.call(e,e&&e.Title,o):f.call(e,"isEmptyObject",e&&e.Title,o));if(i||i===0)r+=i;return r+="\r\n													</li>\r\n												"
,r}function C(e,t){return"\r\n															&ndash;\r\n														"}function k(e,t){var r="",i,s;return r+="\r\n															",(s=n.Title)?i=s.call(e,{hash:{}}):(s=e&&e.Title,i=typeof s===c?s.call(e,{hash:{}}):s),r+=l(i)+"\r\n														",r}function L(e,t){var r="",i,s;return r+='\r\n										<tr class="ictAdditionalInfo">\r\n											<td colspan="5" headers="nodnd-1-ComputerSkill">\r\n											<dd class="value rich-content AdditionalInfo">\r\n												'+l((i=n.nestHtmlLists||e&&e.nestHtmlLists,s={hash:{}},i?i.call(e,e&&e.Description,s):f.call(e,"nestHtmlLists",e&&e.Description,s)))+"\r\n											</dd>\r\n											</td>\r\n										</tr>\r\n									",r}function A(e,t,r){var i="",s,o,u;i+='\r\n										<tr class="ict-documentation">\r\n											<td colspan="5" headers="nodnd-1-ComputerSkill">\r\n												<div class="attachment">\r\n													<span class="attachment inner-content-label">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"DocumentLabel"}},o?o.call
(e,"LearnerInfo.Skills.Computer.ReferenceTo",u):f.call(e,"get_text","LearnerInfo.Skills.Computer.ReferenceTo",u)))+"</span>\r\n													",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{},inverse:h.noop,fn:h.programWithDepth(29,O,t,r)},o?o.call(e,e&&e.ReferenceTo,u):f.call(e,"each_with_index",e&&e.ReferenceTo,u));if(s||s===0)i+=s;return i+="\r\n												</div>\r\n											</td>\r\n										</tr>\r\n									",i}function O(e,t,r){var i,s,o;return i=(s=n.with_attachment||r&&r.with_attachment,o={hash:{},inverse:h.noop,fn:h.programWithDepth(30,M,t,e)},s?s.call(e,(i=r&&r.SkillsPassport,i==null||i===!1?i:i.Attachment),e&&e.idref,o):f.call(e,"with_attachment",(i=r&&r.SkillsPassport,i==null||i===!1?i:i.Attachment),e&&e.idref,o)),i||i===0?i:""}function M(e,t,r){var i="",s,o,u;i+='<span class="linked-attachment" name="',(o=n.Name)?s=o.call(e,{hash:{}}):(o=e&&e.Name,s=typeof o===c?o.call(e,{hash:{}}):o),i+=l(s)+'">',s=(o=n.if_gt||r&&r.if_gt,u={hash:{compare:"0"},inverse:h.noop,fn:h
.program(31,_,t)},o?o.call(e,r&&r.index,u):f.call(e,"if_gt",r&&r.index,u));if(s||s===0)i+=s;s=(o=n.crop_text||e&&e.crop_text,u={hash:{},inverse:h.noop,fn:h.program(8,y,t)},o?o.call(e,e&&e.Description,u):f.call(e,"crop_text",e&&e.Description,u));if(s||s===0)i+=s;return i+="</span>",i}function _(e,t){return", "}function D(e,t){var i="",s;i+="\r\n								",s=h.invokePartial(r["templates/menu/listitemmenu"],"templates/menu/listitemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n							",i}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c="function",h=this;o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:h.program(3,d,i),fn:h.program(1,p,i)},u?u.call(t,(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||o===!1?o:o.Computer),a):f.call(t,"isEmptyObject",(o=(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Skills),o==null||
o===!1?o:o.Computer),a));if(o||o===0)s+=o;return s+="\r\n",s});return t.registerPartial("templates/compose/cv/computerSkills",n),n}),define("views/compose/cv/ComputerSkillsComposeView",["jquery","underscore","views/compose/ComposeView","hbs!templates/compose/cv/computerSkills"],function(e,t,n,r){var i=n.extend({htmlTemplate:r,enableFunctionalities:function(e){var r=this.model.get(this.section+".Description");this.numOfItems=t.isArray(r)?r.length:0,n.prototype.enableFunctionalities.apply(this,[e])},reRender:function(e,n){e===this.section&&t.isObject(this.parentView)&&(this.parentView.setRenderIndicationTarget(this.options.el),this.parentView.onReRendering(n))},applyTooltip:function(e){var n=t.isFunction(this.model.info)?this.model.info():null,r=this.section.substring(this.section.indexOf("LearnerInfo.")+"LearnerInfo.".length,this.section.length);n.isSectionEmpty(r)?this.$el.addClass("empty"):this.$el.removeClass("empty")}});return i}),define("views/compose/cv/SkillsComposeView",["jquery"
,"underscore","views/compose/ComposeView","hbs!templates/compose/cv/skills","views/compose/cv/MotherTongueComposeView","views/compose/cv/ForeignLanguageListComposeView","views/compose/cv/DrivingComposeView","views/compose/cv/GenericSkillsComposeView","views/compose/cv/ComputerSkillsComposeView"],function(e,t,n,r,i,s,o,u,a){var f=n.extend({htmlTemplate:r,onClose:function(){n.prototype.onClose.apply(this),e(this.subsections).each(function(e,n){t.isObject(n)&&t.isFunction(n.close)&&n.close()}),this.subsections=[]},onInit:function(e){this.subsections=[],n.prototype.onInit.apply(this,[e])},render:function(t,r){n.prototype.render.apply(this,[t,r]),e.isArray(this.subsections)&&this.subsections.length===0&&this.onRender()},onReRendering:function(n){e(this.subsections).each(function(e,n){t.isObject(n)&&t.isFunction(n.close)&&n.close()}),this.subsections=[],this.reRender(this.section,n)},onRender:function(){this.subsections=[],this.motherTongueComposeView=new i({el:"#Compose\\:LearnerInfo\\.Skills\\.Linguistic\\.MotherTongue"
,model:this.model,section:"SkillsPassport.LearnerInfo.Skills.Linguistic.MotherTongue",initialRendering:!0,parentView:this}),this.subsections.push(this.motherTongueComposeView),this.foreignLanguageListComposeView=new s({el:"#Compose\\:LearnerInfo\\.Skills\\.Linguistic\\.ForeignLanguage",model:this.model,section:"SkillsPassport.LearnerInfo.Skills.Linguistic.ForeignLanguage",initialRendering:!0,parentView:this}),this.subsections.push(this.foreignLanguageListComposeView),this.drivingComposeView=new o({el:"#Compose\\:LearnerInfo\\.Skills\\.Driving",model:this.model,section:"SkillsPassport.LearnerInfo.Skills.Driving",initialRendering:!0,parentView:this}),this.subsections.push(this.drivingComposeView),this.otherSkills=["Communication","Organisational","JobRelated","Other"];var t=this;e.each(this.otherSkills,function(e,n){var r=n.toLowerCase()+"ComposeView";t[r]=new u({el:"#Compose\\:LearnerInfo\\.Skills\\."+n,model:t.model,section:"SkillsPassport.LearnerInfo.Skills."+n,initialRendering:!0,parentView
:t}),t.subsections.push(t[r])}),this.computerSkillsComposeView=new a({el:"#Compose\\:LearnerInfo\\.Skills\\.Computer",model:this.model,section:"SkillsPassport.LearnerInfo.Skills.Computer",initialRendering:!0,parentView:this}),this.subsections.push(this.computerSkillsComposeView)}});return f}),define("hbs!templates/compose/cv/additionalinfo",["hbs","handlebars","hbs!templates/menu/listitemmenu","templates/helpers/get_text","templates/helpers/isEmptyObject","templates/helpers/each_with_index","templates/helpers/nestHtmlLists","templates/helpers/with_attachment","templates/helpers/if_gt","templates/helpers/call_partial","templates/helpers/if_eq","templates/helpers/if_last_item","templates/helpers/if_lt","templates/helpers/if_gteq"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+='\r\n		<li class="compose-list" \r\n			id="ListItem:LearnerInfo.Achievement.Empty">\r\n\r\n			<button type="button" \r\n					name="LearnerInfo.Achievement[0]_add_btn" \r\n					class="section compose-list opens-modal-form  add empty" \r\n					data-rel-doc="cv"\r\n					data-rel-clazz="AchievementFormView"\r\n					data-rel-form="Form:LearnerInfo.Achievement[0]"\r\n					data-rel-section="SkillsPassport.LearnerInfo.Achievement[0]"\r\n					data-rel-help-section="Help.SkillsPassport.LearnerInfo.Achievement"\r\n					data-rel-index="0">\r\n					<span class="img-placeholder">&nbsp;</span>\r\n					<span>'+
l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content",s)))+"</span>\r\n			</button>\r\n		</li>\r\n	",r}function d(e,t,r){var i="",s,o,u;i+="\r\n		",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{},inverse:h.noop,fn:h.programWithDepth(4,v,t,e,r)},o?o.call(e,(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),u):f.call(e,"each_with_index",(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),u));if(s||s===0)i+=s;i+='\r\n		<li class="compose-list additional empty">\r\n			\r\n			<button type="button" \r\n					name="LearnerInfo.Achievement['+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']_add_btn" \r\n					class="section compose-list add opens-modal-form"\r\n					data-rel-doc="cv"\r\n					data-rel-clazz="AchievementFormView"\r\n					data-rel-form="Form:Achievement['+
l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']"\r\n					data-rel-section="SkillsPassport.LearnerInfo.Achievement['+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+']"\r\n					data-rel-help-section="Help.SkillsPassport.LearnerInfo.Achievement"\r\n					data-rel-index="'+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+'">	\r\n					<span class="img-placeholder">&nbsp;</span>\r\n					<span>\r\n					',s=(o=n.if_lt||e&&e.if_lt,u={hash:{compare:"1"},inverse:h.noop,fn:h.program(23,k,t)},o?o.call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),u):f.call(e,"if_lt",(s=(s=(s=e&&e.SkillsPassport,s==null||
s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;i+="\r\n					",s=(o=n.if_gteq||e&&e.if_gteq,u={hash:{compare:"1"},inverse:h.noop,fn:h.program(25,L,t)},o?o.call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),u):f.call(e,"if_gteq",(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;return i+="\r\n					</span>\r\n			</button>\r\n		</li>\r\n		\r\n	",i}function v(e,t,r,i){var s="",o,u,a;s+='\r\n				<li class="compose-list list-item opens-modal-form" \r\n					id="ListItem:LearnerInfo.Achievement[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']" \r\n					data-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+'"\r\n					data-rel-doc="cv"\r\n					data-rel-clazz="AchievementFormView"\r\n					data-rel-form="Form:LearnerInfo.Achievement['
,(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n					data-rel-section="SkillsPassport.LearnerInfo.Achievement[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n					data-rel-help-section="Help.SkillsPassport.LearnerInfo.Achievement"\r\n					data-rel-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+'">\r\n\r\n					<dd class="content-label Achievement">'+l((o=(o=e&&e.Title,o==null||o===!1?o:o.Label),typeof o===c?o.apply(e):o))+'</dd>\r\n					<dd class="value rich-content Achievement">\r\n						',o=n["if"].call(e,e&&e.Description,{hash:{},inverse:h.program(7,g,t),fn:h.program(5,m,t)});if(o||o===0)s+=o;s+="\r\n					</dd>\r\n					\r\n					\r\n					",o=n["if"].call(e,e&&e.ReferenceTo,{hash:{},inverse:h.noop,fn:h.programWithDepth(9,y,t,i)});if(o||o===0)s+=o;s+=" \r\n\r\n					",o=(u=n.call_partial||e&&e.call_partial,a={hash:{path:"LearnerInfo.Achievement"
,buttons:"Extra"},inverse:h.noop,fn:h.program(14,S,t)},u?u.call(e,e,a):f.call(e,"call_partial",e,a));if(o||o===0)s+=o;s+="\r\n					\r\n					\r\n					",o=(u=n.if_gt||i&&i.if_gt,a={hash:{compare:"1"},inverse:h.noop,fn:h.programWithDepth(16,x,t,r)},u?u.call(e,(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Achievement),o==null||o===!1?o:o.length),a):f.call(e,"if_gt",(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Achievement),o==null||o===!1?o:o.length),a));if(o||o===0)s+=o;return s+="\r\n					\r\n					\r\n				</li>\r\n		",s}function m(e,t){var r="",i,s;return r+="\r\n							"+l((i=n.nestHtmlLists||e&&e.nestHtmlLists,s={hash:{}},i?i.call(e,e&&e.Description,s):f.call(e,"nestHtmlLists",e&&e.Description,s)))+"\r\n						",r}function g(e,t){var r="",i,s;return r+='\r\n							<span class="description default-value">'+l((i=n.get_text||e&&e.get_text,s={hash:{}},i?i.call(e,"LearnerInfo.Achievement.Description",s):f.call(e,"get_text"
,"LearnerInfo.Achievement.Description",s)))+"</span>\r\n						",r}function y(e,t,r){var i="",s,o,u;i+='\r\n						<dd class="value Achievement attachment">\r\n							<span class="attachment inner-content-label">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"DocumentLabel"}},o?o.call(e,"LearnerInfo.Achievement.ReferenceTo",u):f.call(e,"get_text","LearnerInfo.Achievement.ReferenceTo",u)))+"</span>\r\n							",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{index_name:"index2"},inverse:h.noop,fn:h.programWithDepth(10,b,t,r)},o?o.call(e,e&&e.ReferenceTo,u):f.call(e,"each_with_index",e&&e.ReferenceTo,u));if(s||s===0)i+=s;return i+="\r\n						</dd>\r\n					",i}function b(e,t,r){var i="",s,o,u;i+="\r\n								",s=(o=n.with_attachment||r&&r.with_attachment,u={hash:{},inverse:h.noop,fn:h.programWithDepth(11,w,t,e)},o?o.call(e,(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u):f.call(e,"with_attachment",(s=r&&r.SkillsPassport,s==null||s===!1?s:s.Attachment),e&&e.idref,u))
;if(s||s===0)i+=s;return i+="\r\n							",i}function w(e,t,r){var i="",s,o,u;i+='\r\n									<span class="linked-attachment" name="',(o=n.Name)?s=o.call(e,{hash:{}}):(o=e&&e.Name,s=typeof o===c?o.call(e,{hash:{}}):o),i+=l(s)+'">\r\n									',s=(o=n.if_gt||r&&r.if_gt,u={hash:{compare:"0"},inverse:h.noop,fn:h.program(12,E,t)},o?o.call(e,r&&r.index2,u):f.call(e,"if_gt",r&&r.index2,u));if(s||s===0)i+=s;return i+="\r\n										",(o=n.Description)?s=o.call(e,{hash:{}}):(o=e&&e.Description,s=typeof o===c?o.call(e,{hash:{}}):o),i+=l(s)+"\r\n									</span>\r\n								",i}function E(e,t){return", "}function S(e,t){var i="",s;i+="\r\n						",s=h.invokePartial(r["templates/menu/listitemmenu"],"templates/menu/listitemmenu",e,n,r);if(s||s===0)i+=s;return i+="\r\n					",i}function x(e,t,r){var i="",s,o,u;i+='\r\n<!-- 						<span class="sortable_placeholder tip spot" data-tip.position="top-left"> -->\r\n<!-- 							  <span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u=
{hash:{group:"EditorHelp"}},o?o.call(e,"Reorder.List.Sections",u):f.call(e,"get_text","Reorder.List.Sections",u)))+'</span>	 -->\r\n<!-- 							  +</span> -->\r\n						\r\n						<button type="button"\r\n								name="move_up"\r\n								class="sort-move-up ',s=(o=n.if_eq||e&&e.if_eq,u={hash:{compare:"0"},inverse:h.program(19,N,t),fn:h.program(17,T,t)},o?o.call(e,e&&e.index,u):f.call(e,"if_eq",e&&e.index,u));if(s||s===0)i+=s;i+='"\r\n						        data-tip.position="top-left">\r\n						        <span>UP</span>\r\n						         <span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Upwards",u):f.call(e,"get_text","Move.Sort.Upwards",u)))+'</span>\r\n						        </button>\r\n						<button type="button"\r\n								name="move_down"\r\n								class="sort-move-down ',s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:h.program(19,N,t),fn:h.program(17,T,t)},o?o.call(e,(s=(s=(s=r&&r.SkillsPassport
,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;i+='"\r\n						        data-tip.position="top-left">\r\n								<span>DOWN</span>\r\n								<span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Downwards",u):f.call(e,"get_text","Move.Sort.Downwards",u)))+"</span>\r\n								</button>\r\n						\r\n						",s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:h.noop,fn:h.program(21,C,t)},o?o.call(e,(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.Achievement),s==null||s===!1?s:s.length),u));if(s||
s===0)i+=s;return i+="\r\n					\r\n					",i}function T(e,t){return"inactive"}function N(e,t){return"tip spot tip-removeLeft--10pixels"}function C(e,t){var r="",i,s;return r+='\r\n							<button type="button"\r\n							        name="move_top"\r\n							        class="sort-move-top tip spot tip-removeLeft--10pixels"\r\n							        data-tip.position="top-left">\r\n							        <span>TOP</span>\r\n							        <span class="data-title" style="display:none;">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Move.Sort.ToTop",s):f.call(e,"get_text","Move.Sort.ToTop",s)))+"</span>\r\n							        </button>\r\n						",r}function k(e,t){var r="",i,s;return r+="\r\n						"+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content",s)))+"\r\n					",r}function L(e,t){var r="",i,s;return r+="\r\n						"+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content.Not.Empty.Information"
,s):f.call(e,"get_text","Buttons.Add.Content.Not.Empty.Information",s)))+"\r\n					",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=this.merge(r,e.partials);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c="function",h=this;s+='<dt class="label list section-heading">\r\n	<span class="title">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"DocumentLabel"}},u?u.call(t,"LearnerInfo.Achievement",a):f.call(t,"get_text","LearnerInfo.Achievement",a)))+'</span>\r\n</dt>\r\n<dd class="line"></dd>\r\n<ol class="sortable compose-list" \r\n	id="List:SkillsPassport.LearnerInfo.Achievement" \r\n	data-rel-section="SkillsPassport.LearnerInfo.Achievement">\r\n	\r\n	',o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:h.programWithDepth(3,d,i,t),fn:h.program(1,p,i)},u?u.call(t,(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.Achievement),a):f.call(t,"isEmptyObject",(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o
:o.Achievement),a));if(o||o===0)s+=o;return s+="\r\n</ol>",s});return t.registerPartial("templates/compose/cv/additionalinfo",n),n}),define("views/compose/cv/AdditionalInfoComposeView",["jquery","underscore","views/compose/ComposeView","views/interaction/ListView","hbs!templates/compose/cv/additionalinfo","Utils"],function(e,t,n,r,i,s){var o=n.extend({htmlTemplate:i,events:t.extend({"click :button:not(.inactive).sort-move-up":"sortMoveUp","click :button:not(.inactive).sort-move-down":"sortMoveDown","click :button.sort-move-top":"sortMoveTop"},n.prototype.events),enableFunctionalities:function(i){var s=this.model.get(this.section);this.numOfItems=t.isArray(s)?s.length:0,n.prototype.enableFunctionalities.apply(this,[i]);var o=this;this.$el.find(".sortable.compose-list").each(function(t,n){var s=e(n);if(s.find("> li.list-item").length>1){var u=new r({el:s,model:i});o.addToViewsIndex(u)}})},reRender:function(e,n){var r=s.getListSection(e);r!==null&&(e=r);if(e===this.section){var i=this.doTransition
(n);if(e=="SkillsPassport.LearnerInfo.Achievement"&&arguments!==null&&arguments!==undefined&&arguments.length>0)var o=arguments[2];var u=this.model.get(this.section),a=!t.isEmpty(u)&&t.isArray(u)&&u.length===1&&(this.numOfItems===undefined||this.numOfItems===0),f=t.isEmpty(u)&&this.numOfItems===1;this.numOfItems=t.isEmpty(u)?0:u.length,this.numOfItems<=1&&u[0]===undefined&&(f=!0);if(!a&&!f){this.render(this.reRenderIndicator,[i,o]);return}t.isObject(this.parentView)&&(a||f)&&(a&&this.parentView.setRenderIndicationTarget(this.options.el),this.parentView.onReRendering(n))}},sortMoveUp:function(e){this.$el.trigger("europass:sort:list:moveUp",[e.target])},sortMoveDown:function(e){this.$el.trigger("europass:sort:list:moveDown",[e.target])},sortMoveTop:function(e){this.$el.trigger("europass:sort:list:moveTop",[e.target])}});return o}),define("hbs!templates/compose/cv/annexes",["hbs","handlebars","templates/helpers/get_text","templates/helpers/isEmptyObject","templates/helpers/each_with_index"
,"templates/helpers/with_attachment","templates/helpers/crop_text","templates/helpers/if_gt","templates/helpers/if_eq","templates/helpers/if_last_item","templates/helpers/if_lt","templates/helpers/if_gteq"],function(e,t){var n=t.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+='\r\n		<li class="compose-list " \r\n			id="ListItem:LearnerInfo.ReferenceTo.Empty">\r\n			<button type="button" \r\n					name="Attachment_add_btn" \r\n					class="section compose-list opens-modal-form add empty" \r\n					data-rel-doc="attachment"\r\n					data-rel-clazz="AttachmentFormView"\r\n					data-rel-form="Form:Attachment"\r\n					data-rel-section="SkillsPassport.LearnerInfo.ReferenceTo"\r\n					data-rel-help-section="Help.Add.ECV.Attachment"\r\n					data-rel-index="0"\r\n					data-rel-document="ECV">\r\n				    <span class="img-placeholder">&nbsp;</span>\r\n					<span>'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content"
,s)))+"</span>\r\n					</button>\r\n		</li>\r\n	",r}function d(e,t,r){var i="",s,o,u;i+="\r\n		",s=(o=n.each_with_index||e&&e.each_with_index,u={hash:{},inverse:h.noop,fn:h.programWithDepth(4,v,t,e,r)},o?o.call(e,(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),u):f.call(e,"each_with_index",(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),u));if(s||s===0)i+=s;i+='\r\n		\r\n		<li class="compose-list empty">\r\n			<button type="button" \r\n					name="Attachment_add_btn" \r\n					class="section compose-list opens-modal-form add"\r\n					data-rel-doc="attachment"\r\n					data-rel-clazz="AttachmentFormView"\r\n					data-rel-form="Form:Attachment"\r\n					data-rel-section="SkillsPassport.LearnerInfo.ReferenceTo"\r\n					data-rel-help-section="Help.Add.ECV.Attachment"\r\n					data-rel-document="ECV"\r\n					data-rel-index="'+l((s=(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:
s.ReferenceTo),s==null||s===!1?s:s.length),typeof s===c?s.apply(e):s))+'">\r\n				<span class="img-placeholder">&nbsp;</span>\r\n				<span>\r\n				',s=(o=n.if_lt||e&&e.if_lt,u={hash:{compare:"1"},inverse:h.noop,fn:h.program(15,S,t)},o?o.call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),s==null||s===!1?s:s.length),u):f.call(e,"if_lt",(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;i+="\r\n				",s=(o=n.if_gteq||e&&e.if_gteq,u={hash:{compare:"1"},inverse:h.noop,fn:h.program(17,x,t)},o?o.call(e,(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),s==null||s===!1?s:s.length),u):f.call(e,"if_gteq",(s=(s=(s=e&&e.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;return i+="\r\n				</span>\r\n			</button>\r\n				\r\n		</li>\r\n	",
i}function v(e,t,r,i){var s="",o,u,a;s+='				\r\n				\r\n				<li class="compose-list list-item opens-modal-form"\r\n					id="ListItem:LearnerInfo.ReferenceTo[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n					data-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+'"\r\n					data-rel-doc="attachment"\r\n					data-rel-clazz="AttachmentEditFormView"\r\n					data-rel-form="Form:ReferenceTo[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n                    data-rel-section="SkillsPassport.LearnerInfo.ReferenceTo[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']"\r\n                    data-rel-help-section="Help.SkillsPassport.LearnerInfo.ReferenceTo"\r\n					data-rel-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+'"\r\n					data-rel-document="ECV">\r\n				\r\n					'
,o=(u=n.with_attachment||i&&i.with_attachment,a={hash:{},inverse:h.noop,fn:h.program(5,m,t)},u?u.call(e,(o=i&&i.SkillsPassport,o==null||o===!1?o:o.Attachment),e&&e.idref,a):f.call(e,"with_attachment",(o=i&&i.SkillsPassport,o==null||o===!1?o:o.Attachment),e&&e.idref,a));if(o||o===0)s+=o;s+='\r\n					\r\n					<menu class="section manage list-item" label="Manage">\r\n						<button class="opens-modal-form edit extra"><span>'+l((u=n.get_text||i&&i.get_text,a={hash:{}},u?u.call(e,"Buttons.Edit.Content",a):f.call(e,"get_text","Buttons.Edit.Content",a)))+'</span></button>\r\n						<button type="button" \r\n								name="LearnerInfo.ReferenceTo[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+']_delete_btn" \r\n								class="attachment delete tip spot nested-tip tip-addRight"\r\n								data-tip.position="top-right"\r\n								data-rel-section="SkillsPassport.LearnerInfo.ReferenceTo[',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u
.call(e,{hash:{}}):u),s+=l(o)+']"\r\n								data-rel-help-section="Help.Delete.ECV.Attachment"\r\n								data-rel-view="Compose:LearnerInfo.ReferenceTo"\r\n								data-rel-index="',(u=n.index)?o=u.call(e,{hash:{}}):(u=e&&e.index,o=typeof u===c?u.call(e,{hash:{}}):u),s+=l(o)+'"\r\n								data-rel-document="ECV">\r\n							<span class="data-title" style="display:none;">'+l((u=n.get_text||e&&e.get_text,a={hash:{group:"EditorHelp"}},u?u.call(e,"Delete.Attachment",a):f.call(e,"get_text","Delete.Attachment",a)))+"</span>	\r\n						</button>\r\n					</menu>\r\n					\r\n					",o=(u=n.if_gt||i&&i.if_gt,a={hash:{compare:"1"},inverse:h.noop,fn:h.programWithDepth(8,y,t,r)},u?u.call(e,(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.ReferenceTo),o==null||o===!1?o:o.length),a):f.call(e,"if_gt",(o=(o=(o=i&&i.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.ReferenceTo),o==null||o===!1?o:o.length),a));if(o||o===0)s+=o;return s+="\r\n				</li>\r\n		"
,s}function m(e,t){var r="",i,s,o;r+='\r\n						<a href="',(s=n.TempURI)?i=s.call(e,{hash:{}}):(s=e&&e.TempURI,i=typeof s===c?s.call(e,{hash:{}}):s),r+=l(i)+'"\r\n						   class="ReferenceTo"\r\n						   target="_blank"\r\n						   name="',(s=n.Name)?i=s.call(e,{hash:{}}):(s=e&&e.Name,i=typeof s===c?s.call(e,{hash:{}}):s),r+=l(i)+'">',i=(s=n.crop_text||e&&e.crop_text,o={hash:{size:"max"},inverse:h.noop,fn:h.program(6,g,t)},s?s.call(e,e&&e.Description,o):f.call(e,"crop_text",e&&e.Description,o));if(i||i===0)r+=i;return r+="</a>\r\n					",r}function g(e,t){return l(typeof e===c?e.apply(e):e)}function y(e,t,r){var i="",s,o,u;i+='\r\n<!-- 						<span class="sortable_placeholder tip spot" data-tip.position="top-left" -->\r\n<!-- 								  data-title="'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Reorder.List.Sections",u):f.call(e,"get_text","Reorder.List.Sections",u)))+'"> -->\r\n<!-- 								  <span class="data-title" style="display:none;">'+l((o=n.get_text||e&&
e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Reorder.List.Sections",u):f.call(e,"get_text","Reorder.List.Sections",u)))+'</span>	 -->\r\n<!-- 								  +</span> -->\r\n								  \r\n						<button type="button"\r\n								name="move_up"\r\n								class="sort-move-up ',s=(o=n.if_eq||e&&e.if_eq,u={hash:{compare:"0"},inverse:h.program(11,w,t),fn:h.program(9,b,t)},o?o.call(e,e&&e.index,u):f.call(e,"if_eq",e&&e.index,u));if(s||s===0)i+=s;i+='"\r\n						        data-tip.position="top-left">\r\n						        <span>UP</span>\r\n						         <span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Upwards",u):f.call(e,"get_text","Move.Sort.Upwards",u)))+'</span>\r\n						        </button>\r\n						<button type="button"\r\n								name="move_down"\r\n								class="sort-move-down ',s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:h.program(11,w,t),fn:h.program(9,b,t)},o?o.call(e,(s=(s=(
s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),s==null||s===!1?s:s.length),u));if(s||s===0)i+=s;i+='"\r\n						        data-tip.position="top-left">\r\n								<span>DOWN</span>\r\n								<span class="data-title" style="display:none;">'+l((o=n.get_text||e&&e.get_text,u={hash:{group:"EditorHelp"}},o?o.call(e,"Move.Sort.Downwards",u):f.call(e,"get_text","Move.Sort.Downwards",u)))+"</span>\r\n								</button>\r\n						\r\n						",s=(o=n.if_last_item||e&&e.if_last_item,u={hash:{compare:e&&e.index},inverse:h.noop,fn:h.program(13,E,t)},o?o.call(e,(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),s==null||s===!1?s:s.length),u):f.call(e,"if_last_item",(s=(s=(s=r&&r.SkillsPassport,s==null||s===!1?s:s.LearnerInfo),s==null||s===!1?s:s.ReferenceTo),s==null||s===!1?
s:s.length),u));if(s||s===0)i+=s;return i+="\r\n						\r\n					",i}function b(e,t){return"inactive"}function w(e,t){return"tip spot tip-removeLeft--10pixels"}function E(e,t){var r="",i,s;return r+='\r\n							<button type="button"\r\n							        name="move_top"\r\n							        class="sort-move-top tip spot tip-removeLeft--10pixels"\r\n							        data-tip.position="top-left">\r\n							        <span>TOP</span>\r\n							        <span class="data-title" style="display:none;">'+l((i=n.get_text||e&&e.get_text,s={hash:{group:"EditorHelp"}},i?i.call(e,"Move.Sort.ToTop",s):f.call(e,"get_text","Move.Sort.ToTop",s)))+"</span>\r\n						            </button>\r\n						",r}function S(e,t){var r="",i,s;return r+="\r\n					"+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call(e,"Buttons.Add.Content",s):f.call(e,"get_text","Buttons.Add.Content",s)))+"\r\n				",r}function x(e,t){var r="",i,s;return r+="\r\n					"+l((i=n.get_text||e&&e.get_text,s={hash:{group:"GuiLabel"}},i?i.call
(e,"Buttons.Add.Content.Not.Empty.Annexes",s):f.call(e,"get_text","Buttons.Add.Content.Not.Empty.Annexes",s)))+"\r\n				",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c="function",h=this;s+='<dt class="label list section-heading">\r\n	<span class="title">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"DocumentLabel"}},u?u.call(t,"LearnerInfo.ReferenceTo",a):f.call(t,"get_text","LearnerInfo.ReferenceTo",a)))+'</span>\r\n</dt>\r\n\r\n<dd class="line"></dd>\r\n	\r\n<ol class="sortable compose-list" \r\n	id="List:SkillsPassport.LearnerInfo.ReferenceTo" \r\n	data-rel-section="SkillsPassport.LearnerInfo.ReferenceTo">\r\n	\r\n	',o=(u=n.isEmptyObject||t&&t.isEmptyObject,a={hash:{},inverse:h.programWithDepth(3,d,i,t),fn:h.program(1,p,i)},u?u.call(t,(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo),o==null||o===!1?o:o.ReferenceTo),a):f.call(t,"isEmptyObject",(o=(o=t&&t.SkillsPassport,o==null||o===!1?o:o.LearnerInfo
),o==null||o===!1?o:o.ReferenceTo),a));if(o||o===0)s+=o;return s+="\r\n</ol>\r\n",s});return t.registerPartial("templates/compose/cv/annexes",n),n}),define("views/compose/cv/AnnexesComposeView",["jquery","underscore","Utils","views/interaction/ListView","views/compose/ComposeView","hbs!templates/compose/cv/annexes"],function(e,t,n,r,i,s){var o=i.extend({htmlTemplate:s,sortableAxis:"y",events:t.extend({"click 		:button.delete.attachment":"handleDeleteAttachment","touchstart :button.delete.attachment":"handleDeleteAttachment","touchstart a.ReferenceTo.view":"handleAttachmentPreview","click		span.sortable_placeholder":"sortSection","touchstart span.sortable_placeholder":"sortSection","click :button:not(.inactive).sort-move-up":"sortMoveUp","click :button:not(.inactive).sort-move-down":"sortMoveDown","click :button.sort-move-top":"sortMoveTop"},i.prototype.events),enableFunctionalities:function(t){i.prototype.enableFunctionalities.apply(this,[t]);var n=this;this.$el.find(".sortable.compose-list"
).each(function(i,s){var o=e(s);if(o.find("> li.list-item").length>1){var u=new r({el:o,model:t,sortableAxis:n.sortableAxis,sortableConfig:n.sortableConfig});n.addToViewsIndex(u)}})},handleDeleteAttachment:function(e){if(this.isTablet&&t.isFunction(this.tablets.handleAttachment)&&this.tablets.handleAttachment(e)===!1)return!1;this.doDeleteAttachment(e)},doDeleteAttachment:function(t){var n=e(t.target),r=n.attr("data-rel-section"),i=n.closest(".list-item"),s=n.attr("data-rel-view");n.trigger("europass:delete:requested",[s,r]);var o=i.closest(".main-area"),u=o.scrollTop(),a=i.closest(".wysiwyg.Compose");o!==undefined&&o.length>0&&a!==undefined&&a.length>0&&i!==undefined&&i.length>0&&a.height(a.height()-88).promise().done(function(){e(".delete-item.important-confirmation .confirm-submit.delete-model.button").on("click",function(e){setTimeout(function(){a.css({height:""}),o.scrollTop(u+88)},500)})})},proceedDeletion:function(e,n){this.$el.trigger("europass:waiting:indicator:show");var r=this
.$el.closest("body").find("section.notifications");e.stopPropagation();var i=null,s=t.isFunction(this.model.documentation)?this.model.documentation():null;s!==null&&(i=s.removeAttachment(n)),i===!1&&require(["i18n!localization/nls/Notification"],function(e){r.trigger("europass:message:clear");var t="<em>"+e["error.code.file.general"]+"</em>";r.trigger("europass:message:show",["error",t])})},sortSection:function(e){if(this.isTablet&&t.isFunction(this.tablets.handleButton)&&this.tablets.handleButton(e)===!1)return!1},reRender:function(e,t){var r=n.getListSection(e);r!==null&&(e=r);if(e===this.section||e===this.model.ATTACHMENT_SECTION_MIN){if(e==="SkillsPassport.LearnerInfo.ReferenceTo"&&arguments!==null&&arguments!==undefined&&arguments!==""&&arguments.length>0)var i=arguments[2];this.render(this.reRenderIndicator,[this.doTransition(t),i])}},handleAttachmentPreview:function(e){if(this.isTablet&&t.isFunction(this.tablets.handleAttachment)&&this.tablets.handleAttachment(e)===!1)return!1},sortMoveUp
:function(e){this.$el.trigger("europass:sort:list:moveUp",[e.target])},sortMoveDown:function(e){this.$el.trigger("europass:sort:list:moveDown",[e.target])},sortMoveTop:function(e){this.$el.trigger("europass:sort:list:moveTop",[e.target])}});return o}),define("views/compose/cv/SkillsPassportComposeView",["jquery","underscore","Utils","views/compose/ComposeView","views/prefs/PrintingPreferencesView","hbs!templates/compose/cv/skillspassport","views/compose/cv/PersonalInfoComposeView","views/compose/cv/HeadlineComposeView","views/compose/cv/WorkExperienceListComposeView","views/compose/cv/EducationListComposeView","views/compose/cv/SkillsComposeView","views/compose/cv/AdditionalInfoComposeView","views/compose/cv/AnnexesComposeView","ModalFormInteractions","i18n!localization/nls/GuiLabel"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y){var b=r.extend({tagName:"section",className:"navigation-area wysiwyg Compose",id:"Compose:SkillsPassport",htmlTemplate:s,prefsView:null,swipeDistance:10,events
:t.extend({"click 		.opens-modal-form":"openModalForm","click 		.foreign-language-skills.empty":"openModalForm","touchstart .opens-modal-form:not(.Skills.empty)":"openModalForm","touchstart .foreign-language-skills.empty":"openModalForm","click		:button.delete:not(.photo):not(.attachment)":"deleteSection","touchstart :button.delete:not(.photo):not(.attachment)":"deleteSection","click		:button.autoSort":"sortSection","click		:button[class^=sort-move]:not(.inactive)":"sortSection","click		span.sortable_placeholder":"sortSection","touchstart :button.autoSort":"sortSection","touchstart :button[class^=sort-move]:not(.inactive)":"sortSection","touchstart span.sortable_placeholder":"sortSection","click :button.work-education-switch":"switchWorkEducationOrder"},r.prototype.events),onInit:function(t){this.sections=[],this.navigation=t.navigation,this.prefsView=new i({model:this.model}),this.model.bind("model:binaries:reset",this.onReRendering,this),this.model.bind("model:content:reset",this.onReRendering
,this),this.model.bind("model:uploaded:esp",this.onReRendering,this),this.model.bind("model:uploaded:cloud",this.onReRendering,this),e("#main-content-area").trigger("europass:dragdrop:init"),r.prototype.onInit.apply(this,[t])},onClose:function(){r.prototype.onClose.apply(this),t.isObject(this.prefsView)&&t.isFunction(this.prefsView.close)&&this.prefsView.close(),delete this.prefsView,e(this.sections).each(function(e,n){t.isObject(n)&&t.isFunction(n.close)&&n.close()}),this.sections=[],this.model.unbind("model:binaries:reset",this.onReRendering),this.model.unbind("model:content:reset",this.onReRendering),this.model.unbind("model:uploaded:esp",this.onReRendering),this.model.unbind("model:uploaded:cloud",this.onReRendering,this),e("#main-content-area").trigger("europass:dragdrop:close"),delete this.options},deleteSection:function(e){if(this.isTablet&&t.isFunction(this.tablets.handleButton)&&this.tablets.handleButton(e)===!1)return!1;p.confirmDeleteSection(e)},sortSection:function(e){if(this
.isTablet&&t.isFunction(this.tablets.handleButton)&&this.tablets.handleButton(e)===!1)return!1},openModalForm:function(t){var n=e(t.currentTarget),r=e(t.target),i=n.is(".foreign-language-skills.empty, div.Skills");if(this.isTablet){var s=r.is("button.open-linked-attachments"),o=r.is("span.sortable_placeholder"),u=r.is(":button[class^=sort-move]");if(u||o)return;if(s&&this.tablets.handleAttachmentModalPreview(t)===!1)return!1;if(s)p.openForm(t);else{if(i&&this.tablets.handleForeignLanguageSection(t)===!1)return!1;this.tablets.handleModalForm(t,p)}}else p.openForm(t)},switchWorkEducationOrder:function(e){if(this.isTablet&&t.isFunction(this.tablets.handleTipSpot)&&this.tablets.handleTipSpot(e,"currentTarget")===!1)return!1;this.doSwitchWordEducation(e)},doSwitchWordEducation:function(e){this.$el.trigger("europass:waiting:indicator:show");if(this.prefsView===undefined||this.prefsView===null)return!1;var t=this.prefsView.switchWorkEducationOrder();t===!0&&this.model.trigger("prefs:order:changed"
,this.section)},render:function(t,n){r.prototype.render.apply(this,[t,n]),e.isArray(this.sections)&&this.sections.length===0&&this.onRender()},onRender:function(){this.sections=[],this.personalInfoComposeView=new o({el:"#Compose\\:LearnerInfo\\.Identification",model:this.model,section:"SkillsPassport.LearnerInfo.Identification",initialRendering:!0,parentView:this}),this.sections.push(this.personalInfoComposeView),this.headlineComposeView=new u({el:"#Compose\\:LearnerInfo\\.Headline",model:this.model,section:"SkillsPassport.LearnerInfo.Headline",initialRendering:!0,parentView:this}),this.sections.push(this.headlineComposeView),this.workExperienceListComposeView=new a({el:"#Compose\\:LearnerInfo\\.WorkExperience",model:this.model,section:"SkillsPassport.LearnerInfo.WorkExperience",initialRendering:!0,parentView:this}),this.sections.push(this.workExperienceListComposeView),this.educationListComposeView=new f({el:"#Compose\\:LearnerInfo\\.Education",model:this.model,section:"SkillsPassport.LearnerInfo.Education"
,initialRendering:!0,parentView:this}),this.sections.push(this.educationListComposeView),this.skillsComposeView=new l({el:"#Compose\\:LearnerInfo\\.Skills",model:this.model,section:"SkillsPassport.LearnerInfo.Skills",initialRendering:!0,parentView:this}),this.sections.push(this.skillsComposeView),this.additionalInfoComposeView=new c({el:"#Compose\\:LearnerInfo\\.Achievement",model:this.model,section:"SkillsPassport.LearnerInfo.Achievement",initialRendering:!0,parentView:this}),this.sections.push(this.additionalInfoComposeView),this.annexesComposeView=new h({el:"#Compose\\:LearnerInfo\\.ReferenceTo",model:this.model,section:"SkillsPassport.LearnerInfo.ReferenceTo",initialRendering:!0,parentView:this}),this.sections.push(this.annexesComposeView),t.isFunction(this.openModals)&&this.openModals(this.options)},reRenderAttachments:function(e){var n=this.model.get("SkillsPassport.LearnerInfo.ReferenceTo");!t.isEmpty(n)&&t.isArray(n)&&this.setRenderIndicationTarget("#Compose\\:LearnerInfo\\.ReferenceTo"
),this.onReRendering(e)},reRenderPreferenceOrder:function(e){e===this.section&&this.onReRendering("click-origin-controls")},onReRendering:function(n){e(this.sections).each(function(e,n){t.isObject(n)&&t.isFunction(n.close)&&n.close()}),this.sections=[],this.reRender(this.section,n)},enableFunctionalities:function(e){return;}});return b}),define("routers/SkillsPassportRouter",["jquery","backbone","Utils"],function(e,t,n){var r=t.Router.extend({routes:{"cv/compose":"composeView","esp/compose":"espComposeView","lp/compose":"lpComposeView","cl/compose":"clComposeView","cv-esp/upload":"uploadView","cv/upload":"cvUploadView","esp/upload":"espUploadView","lp/upload":"lpUploadView","cl/upload":"clUploadView","signature/upload":"signatureUploadView","cv-esp/remote-upload*path":"remoteUploadView","cv/remote-upload*path":"remoteUploadView","esp/remote-upload":"espRemoteUploadView","lp/remote-upload":"lpRemoteUploadView","cl/remote-upload":"clRemoteUploadView"
,"cv/download":"downloadView","lp/download":"lpDownloadView","esp/download":"espDownloadView","cv-esp/download":"cvespdownloadView","cl/download":"cldownloadView","cv/google-upload":"cvGoogleUploadView","cv-esp/google-upload":"googleUploadView","esp/google-upload":"espGoogleUploadView","lp/google-upload":"lpGoogleUploadView","social/linkedin":"linkedInView","social/linkedin/callback":"linkedInViewCallback","social/linkedin/ok/:jsessionid":"linkedInViewOk","social/linkedin/code/:httpCode/error/:errorKey/trace/:traceCode":"linkedInViewError","*path":"defaultView"},defaultViewUrl:"cv/compose",cvComposeViewUrl:"cv/compose",espComposeViewUrl:"esp/compose",lpComposeViewUrl:"lp/compose",clComposeViewUrl:"cl/compose",initialize:function(e){this.model=e.model},defaultView:function(){this.composeView()},composeView:function(){this.model.setActiveRoute("cv.compose")},espComposeView:function(){this.model.setActiveRoute("esp.compose")},lpComposeView:function(){this.model.setActiveRoute("lp.compose")
},clComposeView:function(){this.model.setActiveRoute("cl.compose")},uploadView:function(){this.model.setActiveRoute("cv-esp.upload")},cvUploadView:function(){this.model.setActiveRoute("cv.upload")},lpUploadView:function(){this.model.setActiveRoute("lp.upload")},espUploadView:function(){this.model.setActiveRoute("esp.upload")},clUploadView:function(){this.model.setActiveRoute("cl.upload")},signatureUploadView:function(){this.model.setActiveRoute("signature.upload")},googleUploadView:function(){this.model.setActiveRoute("cv-esp.google-upload")},cvGoogleUploadView:function(){this.model.setActiveRoute("cv.google-upload")},lpGoogleUploadView:function(){this.model.setActiveRoute("lp.google-upload")},espGoogleUploadView:function(){this.model.setActiveRoute("esp.google-upload")},remoteUploadView:function(){this.model.setActiveRoute("cv-esp.remote-upload")},cvRemoteUploadView:function(){this.model.setActiveRoute("cv.remote-upload")},lpRemoteUploadView:function(){this.model.setActiveRoute("lp.remote-upload"
)},espRemoteUploadView:function(){this.model.setActiveRoute("esp.remote-upload")},clRemoteUploadView:function(){this.model.setActiveRoute("cl.remote-upload")},downloadView:function(){this.model.setActiveRoute("cv.download")},lpDownloadView:function(){this.model.setActiveRoute("lp.download")},espDownloadView:function(){this.model.setActiveRoute("esp.download")},cvespdownloadView:function(){this.model.setActiveRoute("cv-esp.download")},cldownloadView:function(){this.model.setActiveRoute("cl.download")},linkedInView:function(){this.model.setActiveRoute("social.linkedin")},linkedInViewCallback:function(){this.model.setActiveRoute("social.linkedin-callback")},linkedInViewOk:function(e){this.model.espModelInfo={},this.model.espModelInfo.linkedInJsessionid=e,this.model.setActiveRoute("social.linkedin-ok")},linkedInViewError:function(e,t,n){this.model.espModelInfo={},this.model.espModelInfo.linkedInErrorInfo={httpCode:e,errorKey:t,trace:n},this.model.setActiveRoute("social.linkedin-error")},decideView
:function(e,t){if(n.isEmptyObject(t)===!1&&(t.page==="upload"||t.page==="remote-upload"))switch(t.document){case"ESP":return this.espComposeViewUrl;case"ELP":return this.lpComposeViewUrl;case"ECL":return this.clComposeViewUrl}if(e==null)return this.defaultViewUrl;var r,i=e.info().readDocumentType();switch(i){case"ESP":r=this.espComposeViewUrl;break;case"ELP":r=this.lpComposeViewUrl;break;case"ECL":r=this.clComposeViewUrl;break;default:r=this.defaultViewUrl}return r}});return r}),define("models/NavigationRoutes",["jquery","backbone","backbonenested"],function(e,t){var n=t.NestedModel.extend({defaults:{config:{delayNavigation:!1},cv:{compose:!1,upload:!1,"remote-upload":!1},esp:{compose:!1,upload:!1,"remote-upload":!1},"cv-esp":{upload:!1,"remote-upload":!1,download:!1},cvesp:{upload:!1,"remote-upload":!1,download:!1},lp:{compose:!1,upload:!1,"remote-upload":!1,download:!1},cl:{compose:!1,upload:!1,"remote-upload":!1,download:!1},social:{linkedin:!1,"linkedin-callback":!1,"linkedin-ok":!1
,"linkedin-error":!1}},viewsPerRoute:{"cv-esp.upload":"upload","cv.upload":"upload","esp.upload":"upload.esp","lp.upload":"upload.elp","cl.upload":"upload.ecl","cv-esp.remote-upload":"remote-upload","cv.remote-upload":"remote-upload","esp.remote-upload":"remote-upload.esp","lp.remote-upload":"remote-upload.elp","cl.remote-upload":"remote-upload.ecl","cv-esp.google-upload":"google-upload","cv.google-upload":"google-upload","esp.google-upload":"google-upload.esp","lp.google-upload":"google-upload.elp","cv.compose":"compose.ecv","esp.compose":"compose.esp","lp.compose":"compose.elp","cl.compose":"compose.ecl","cv-esp.download":"download","cv.download":"download.ecv","esp.download":"download.esp","lp.download":"download.elp","cl.download":"download.ecl","social.linkedin":"linkedin.ecv_esp.upload","social.linkedin-callback":"linkedin.callback","social.linkedin-ok":"linkedin-ok.ecv_esp.upload","social.linkedin-error":"linkedin-error.ecv_esp.upload"},initialize:function(){this.bind("change:cv-esp.remote-upload"
,this.navigateRemoteUpload),this.bind("change:cv.remote-upload",this.navigateRemoteUploadCV),this.bind("change:esp.remote-upload",this.navigateRemoteUploadESP),this.bind("change:lp.remote-upload",this.navigateRemoteUploadLP),this.bind("change:cl.remote-upload",this.navigateRemoteUploadCL),this.bind("change:cv-esp.google-upload",this.navigateGoogleUpload),this.bind("change:cv.google-upload",this.navigateGoogleUploadCV),this.bind("change:esp.google-upload",this.navigateGoogleUploadESP),this.bind("change:lp.google-upload",this.navigateGoogleUploadLP),this.bind("change:cv-esp.upload",this.navigateUpload),this.bind("change:cv.upload",this.navigateUploadCV),this.bind("change:esp.upload",this.navigateUploadESP),this.bind("change:lp.upload",this.navigateUploadLP),this.bind("change:cl.upload",this.navigateUploadCL),this.bind("change:cv.compose",this.navigateCompose),this.bind("change:esp.compose",this.navigateESP),this.bind("change:lp.compose",this.navigateLP),this.bind("change:cl.compose",this.
navigateCL),this.bind("change:cv.download",this.navigateDownload),this.bind("change:cv-esp.download",this.navigateDownloadCVESP),this.bind("change:lp.download",this.navigateDownloadLP),this.bind("change:esp.download",this.navigateDownloadESP),this.bind("change:cl.download",this.navigateDownloadCL),this.bind("change:social.linkedin",this.navigateUploadLinkedIn),this.bind("change:social.linkedin-ok",this.navigateUploadLinkedInOk),this.bind("change:social.linkedin-error",this.navigateUploadLinkedInError)},unbindEvents:function(){this.unbind("change:cv-esp.remote-upload",this.navigateRemoteUpload),this.unbind("change:cv.remote-upload",this.navigateRemoteUploadCV),this.unbind("change:esp.remote-upload",this.navigateRemoteUploadESP),this.unbind("change:lp.remote-upload",this.navigateRemoteUploadLP),this.unbind("change:cl.remote-upload",this.navigateRemoteUploadCL),this.unbind("change:cv-esp.google-upload",this.navigateGoogleUpload),this.unbind("change:cv.google-upload",this.navigateGoogleUploadCV
),this.unbind("change:esp.google-upload",this.navigateGoogleUploadESP),this.unbind("change:lp.google-upload",this.navigateGoogleUploadLP),this.unbind("change:cv-esp.upload",this.navigateUpload),this.unbind("change:cv.upload",this.navigateUploadCV),this.unbind("change:esp.upload",this.navigateUploadESP),this.unbind("change:lp.upload",this.navigateUploadLP),this.unbind("change:cl.upload",this.navigateUploadCL),this.unbind("change:social.linkedin",this.navigateUploadLinkedIn),this.unbind("change:social.linkedin-ok",this.navigateUploadLinkedInOk),this.unbind("change:social.linkedin-error",this.navigateUploadLinkedInError),this.unbind("change:cv.compose",this.navigateCompose),this.unbind("change:esp.compose",this.navigateESP),this.unbind("change:elp.compose",this.navigateLP),this.unbind("change:cl.compose",this.navigateCL),this.unbind("change:cv.download",this.navigateDownload),this.unbind("change:cv-esp.download",this.navigateDownloadCVESP),this.unbind("change:lp.download",this.navigateDownloadLP
),this.unbind("change:esp.download",this.navigateDownloadESP),this.unbind("change:cl.download",this.navigateDownloadCL)},delayNavigation:function(e){this.set("config.delayNavigation",e,{silent:!0})},changeRoute:function(e,t){var n={};return n[e]=t,n},deactivateRoutes:function(){this.recursivelyDeactivateRoutes(this.attributes,"")},recursivelyDeactivateRoutes:function(t,n){for(var r in t){if(r==="config")continue;var i=t[r];e.isPlainObject(i)?this.recursivelyDeactivateRoutes(i,n+(n===""?"":".")+r):this.set(this.changeRoute(n+(n===""?"":".")+r,!1),{silent:!0})}},findActiveRoute:function(){return this.recursivelyFindRoute(this.attributes,"",null)},recursivelyFindRoute:function(t,n,r){for(var i in t){if(r!==null)return r;if(i==="config")continue;var s=t[i];e.isPlainObject(s)?r=this.recursivelyFindRoute(s,n+(n===""?"":".")+i,r):s===!0&&(r=n+(n===""?"":".")+i)}return r},setActiveRoute:function(e){this.deactivateRoutes(),this.set(this.changeRoute(e,!0))},navigateUpload:function(e,t){t===!0&&this
.navigateView("upload")},navigateUploadCV:function(e,t){t===!0&&this.navigateView("upload")},navigateUploadESP:function(e,t){t===!0&&this.navigateView("upload.esp")},navigateUploadLP:function(e,t){t===!0&&this.navigateView("upload.elp")},navigateUploadCL:function(e,t){t===!0&&this.navigateView("upload.ecl")},navigateGoogleUpload:function(e,t){t===!0&&this.navigateView("google-upload")},navigateGoogleUploadCV:function(e,t){t===!0&&this.navigateView("google-upload")},navigateGoogleUploadESP:function(e,t){t===!0&&this.navigateView("google-upload.esp")},navigateGoogleUploadLP:function(e,t){t===!0&&this.navigateView("google-upload.elp")},navigateRemoteUpload:function(e,t){t===!0&&this.navigateView("remote-upload")},navigateRemoteUploadCV:function(e,t){t===!0&&this.navigateView("remote-upload")},navigateRemoteUploadESP:function(e,t){t===!0&&this.navigateView("remote-upload.esp")},navigateRemoteUploadLP:function(e,t){t===!0&&this.navigateView("remote-upload.elp")},navigateRemoteUploadCL:function(
e,t){t===!0&&this.navigateView("remote-upload.ecl")},navigateUploadLinkedIn:function(t,n){e("body").find("#linkedin-import-area").trigger("europass:social:upload:linkedin")},navigateUploadLinkedInOk:function(e,t){t===!0&&this.navigateView("linkedin-ok.ecv_esp.upload",e)},navigateUploadLinkedInError:function(e,t){t===!0&&this.navigateView("linkedin-error.ecv_esp.upload",e)},navigateCompose:function(e,t){t===!0&&this.navigateView("compose.ecv")},navigateESP:function(e,t){t===!0&&this.navigateView("compose.esp")},navigateLP:function(e,t){t===!0&&this.navigateView("compose.elp")},navigateCL:function(e,t){t===!0&&this.navigateView("compose.ecl")},navigateDownload:function(e,t){t===!0&&this.navigateView("download.ecv")},navigateDownloadLP:function(e,t){t===!0&&this.navigateView("download.elp")},navigateDownloadESP:function(e,t){t===!0&&this.navigateView("download.esp")},navigateDownloadCVESP:function(e,t){t===!0&&this.navigateView("download")},navigateDownloadCL:function(e,t){t===!0&&this.navigateView
("download.ecl")},navigateView:function(e,t){if(this.get("config.delayNavigation")===!0)var n=this,r=setInterval(function(){n.get("config.delayNavigation")===!1&&(clearInterval(r),n.trigger("model:navigation:changed",e,t))},500);else this.trigger("model:navigation:changed",e,t)},findActiveView:function(){var e=this.findActiveRoute();return e===undefined||e===null||e===""?"cv.compose":this.viewsPerRoute[e]},analyze:function(e){var t=e.split(".");switch(t.length){case 0:return{page:"compose",document:"ecv"};case 1:return{page:"compose",document:this.analyzeDocumentType(t[1])};default:return{page:t[0],document:this.analyzeDocumentType(t[1])}}},analyzeDocumentType:function(e){if(e===undefined||e===null||e==="")return"ECV_ESP";var t=e.substring(0,1),n=e;return t.toUpperCase()!=="E"&&(n="E"+n),n.toUpperCase()}});return n}),define("models/NavigationRoutesInstance",["models/NavigationRoutes","models/NavigationRoutesInstance"],function(e,t){if(t===undefined||t===null)t=new e;return t}),define("routers/SkillsPassportRouterInstance"
,["routers/SkillsPassportRouter","models/NavigationRoutesInstance","routers/SkillsPassportRouterInstance"],function(e,t,n){if(n===undefined||n===null)var n=new e({model:t});return n}),define("hbs!templates/dialog/remoteuploadconfirmation",["hbs","handlebars","templates/helpers/get_text"],function(e,t){var n=t.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a,f="function",l=this.escapeExpression,c=n.helperMissing;return s+='\r\n	<fieldset class="remote-upload important-confirmation confirmation">\r\n		<fieldset class="feedback-area">	\r\n			<section class="notification confirm">\r\n				',(u=n.message)?o=u.call(t,{hash:{}}):(u=t&&t.message,o=typeof u===f?u.call(t,{hash:{}}):u),s+=l(o)+'\r\n			</section>\r\n		</fieldset>\r\n			<menu label="Manage" class="confirm-dialog remote-upload">\r\n				<button type="button" class="confirm-cancel remote-upload button">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"GuiLabel"}},u?u.call(t,"Buttons.Cancel"
,a):c.call(t,"get_text","Buttons.Cancel",a)))+'</button>\r\n				<button type="button" class="confirm-submit remote-upload green button">'+l((u=n.get_text||t&&t.get_text,a={hash:{group:"GuiLabel"}},u?u.call(t,"Buttons.Upload",a):c.call(t,"get_text","Buttons.Upload",a)))+"</button>\r\n			</menu>\r\n			\r\n	</fieldset>\r\n",s});return t.registerPartial("templates/dialog/remoteuploadconfirmation",n),n}),define("views/main/ModelRemoteUploadView",["jquery","underscore","jqueryuiEffects","jqueryuiDialog","backbone","Utils","europass/GlobalDocumentInstance","routers/SkillsPassportRouterInstance","hbs!templates/dialog/remoteuploadconfirmation","europass/http/SessionManagerInstance"],function(e,t,n,r,i,s,o,u,a,f){var l=i.View.extend({el:"body",onClose:function(){},initialize:function(e){this.template=a;var n=e._driveName;this.driveName=n===undefined||n===null||n===""?"":e._driveName+".";if(!t.isUndefined(e.callback)&&t.isFunction(e.callback)){var r=e.args||[];r.push(this),e.callback.apply(e.scope
,r)}},modalId:"SkillsPassport.Remote.Upload.Modal",events:{"click :button.remote-upload.confirm-submit":"populateRemote","click :button.remote-upload.confirm-cancel":"rejectRemote","europass:modal:dialog:closed ":"rejectRemote"},render:function(){var t=window.remoteFeedback;if(t==null||t!=null&&t==="SUCCESS"){var n=this;require(["i18n!localization/nls/Notification"],function(t){var r={};r.message=t[n.driveName+"remote.upload.confirmation.message"];var i=n.template(r),o=s.prepareModal(n.modalId,i);e(o).dialog("open")})}else this.handleFeedback()},populateRemote:function(e){var t=window.remoteModel;if(t!==undefined&&t!==null&&t!==""){var n=this.model.populateModel(t);n!==!1&&this.model.trigger("remote:upload:model:populated")}this.closeModal()},rejectRemote:function(e){this.closeModal()},closeModal:function(){s.deleteWinProperty(remoteModel);var t=e(s.jId(this.modalId));t.dialog("close"),u.navigate(u.decideView(this.model,o.get()),{trigger:!0,replace:!0})},handleFeedback:function(){var e=
this;require(["i18n!localization/nls/Notification"],function(t){var n=t[e.driveName+"remote.upload.confirmation.error"];n==null&&(n="There has been a problem while trying to remotely upload the given Europass XML.");var r=s.parseHtmlResponse(window.remoteFeedback);r!=null&&r!==!1&&r.json!=null&&r.json.Error!=null&&r.json.Error.trace!=null&&(n+='<em class="trace-code">'+r.json.Error.trace+"</em>"),s.deleteWinProperty(remoteModel),s.deleteWinProperty(remoteFeedback),e.$el.trigger("europass:message:show",["error",n,!1]),u.navigate(u.decideView(null,o.get()),{trigger:!0,replace:!0})})}});return l}),define("assembly/ecvCompose",["views/compose/cv/SkillsPassportComposeView","views/main/ModelRemoteUploadView"],function(){});